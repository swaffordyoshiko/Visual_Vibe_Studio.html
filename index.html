<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="theme-color" content="#6366f1" />
  <meta name="description"
    content="Professional design services for your business. Custom websites, flyers, and business cards. Starting from $50. Visual Vibe Studio - Building brands that stand out." />
  <meta name="keywords"
    content="web design, business cards, flyers, graphic design, business branding, visual design" />
  <meta name="author" content="Visual Vibe Studio" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/" />
  <meta property="og:title" content="Visual Vibe Studio - Professional Design Services" />
  <meta property="og:description"
    content="Custom websites, flyers, and business cards. Professional designs that make your business stand out." />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="/" />
  <meta property="twitter:title" content="Visual Vibe Studio - Professional Design Services" />
  <meta property="twitter:description"
    content="Custom websites, flyers, and business cards. Professional designs that make your business stand out." />

  <title>Visual Vibe Studio | Professional Design Services | https://visualvibestudio.store</title>

  <!-- Favicon -->
  <link rel="icon" type="image/webp"
    href="https://cdn.builder.io/api/v1/image/assets%2F68e178594f244e349655599d69676e91%2F8f624789711b403c856040d5fa1f9c53?format=webp&width=32"
    sizes="32x32">
  <link rel="icon" type="image/webp"
    href="https://cdn.builder.io/api/v1/image/assets%2F68e178594f244e349655599d69676e91%2F8f624789711b403c856040d5fa1f9c53?format=webp&width=16"
    sizes="16x16">
  <link rel="apple-touch-icon"
    href="https://cdn.builder.io/api/v1/image/assets%2F68e178594f244e349655599d69676e91%2F8f624789711b403c856040d5fa1f9c53?format=webp&width=180">

  <!-- External Resources -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

  <!-- Initialize EmailJS -->
  <script type="text/javascript">
    (function(){
      // Initialize EmailJS with your public key
      emailjs.init("dGz8CLMLD_5_LnPl_"); // Replace with your actual public key
    })();
  </script>

  <!-- Essential CSS Files ONLY -->
  <link rel="stylesheet" href="essential-styling.css">
  <link rel="stylesheet" href="header-layout-fix.css">
  <link rel="stylesheet" href="responsive-critical.css">
  <link rel="stylesheet" href="toast-notifications.css">
  <link rel="stylesheet" href="responsive-fixes.css">
  <link rel="stylesheet" href="desktop-reviews-fix.css">

  <!-- Essential JavaScript Functions -->
  <script>
    // Email click handler with contact options
    window.handleEmailClick = function(event, emailAddress) {
      if (event && event.preventDefault) event.preventDefault();

      // Create email options modal
      const modalHTML = `
        <div id="emailModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 9999;">
          <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 400px; width: 90%; position: relative; box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
            <h3 style="margin: 0 0 1rem 0; font-size: 1.5rem; font-weight: bold; color: #333; text-align: center;">Contact Support</h3>
            <button onclick="document.getElementById('emailModal').remove()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>

            <div style="margin-bottom: 1rem;">
              <button onclick="window.location.href='mailto:support@visualvibestudio.store'; document.getElementById('emailModal').remove();" style="width: 100%; padding: 1rem; background: #4f46e5; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>📧</span> Open Email App
              </button>

              <button onclick="
                const email = 'support@visualvibestudio.store';
                console.log('📧 Copy email button clicked');

                // Enhanced copy function for desktop
                function copyEmailAndShowNotification() {
                  try {
                    if (navigator.clipboard && window.isSecureContext) {
                      navigator.clipboard.writeText(email).then(() => {
                        console.log('📧 Email copied via navigator.clipboard');
                        if (window.showEmailCopySuccess) {
                          window.showEmailCopySuccess('support@visualvibestudio.store ready to paste!');
                        } else if (window.toastManager) {
                          window.toastManager.success('���� Email address copied to clipboard!', { duration: 4000 });
                        } else {
                          alert('✅ Email address copied to clipboard!');
                        }
                      }).catch(() => {
                        console.log('📧 Fallback to execCommand copy');
                        fallbackCopy();
                      });
                    } else {
                      console.log('📧 Using fallback copy method');
                      fallbackCopy();
                    }
                  } catch (error) {
                    console.log('📧 Error in copy, using fallback:', error);
                    fallbackCopy();
                  }
                }

                function fallbackCopy() {
                  const textArea = document.createElement('textarea');
                  textArea.value = email;
                  textArea.style.position = 'fixed';
                  textArea.style.left = '-999999px';
                  textArea.style.top = '-999999px';
                  document.body.appendChild(textArea);
                  textArea.focus();
                  textArea.select();

                  try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                      console.log('📧 Fallback copy successful');
                      if (window.showEmailCopySuccess) {
                        window.showEmailCopySuccess('support@visualvibestudio.store ready to paste!');
                      } else if (window.toastManager) {
                        window.toastManager.success('✅ Email address copied to clipboard!', { duration: 4000 });
                      } else {
                        alert('✅ Email address copied to clipboard!');
                      }
                    } else {
                      throw new Error('execCommand failed');
                    }
                  } catch (err) {
                    console.log('📧 All copy methods failed:', err);
                    if (window.toastManager) {
                      window.toastManager.error('Copy failed. Email: support@visualvibestudio.store', { duration: 6000 });
                    } else {
                      alert('Copy failed. Email: support@visualvibestudio.store');
                    }
                  }

                  document.body.removeChild(textArea);
                }

                copyEmailAndShowNotification();
                document.getElementById('emailModal').remove();
              " style="width: 100%; padding: 1rem; background: #059669; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 0.5rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>📋</span> Copy Email Address
              </button>

              <div style="text-align: center; padding: 1rem; background: #f3f4f6; border-radius: 8px; margin-top: 1rem;">
                <p style="margin: 0; font-size: 0.9rem; color: #666; font-weight: bold;">support@visualvibestudio.store</p>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.8rem; color: #888;">Available Monday-Friday, 9 AM - 6 PM CST</p>
              </div>
            </div>
          </div>
        </div>
      `;

      // Remove any existing modal
      const existing = document.getElementById('emailModal');
      if (existing) existing.remove();

      // Add modal to page
      document.body.insertAdjacentHTML('beforeend', modalHTML);
    };

    // Enhanced clipboard functionality
    window.copyToClipboard = function(text, msg) {
      console.log('📋 Copy to clipboard called:', text);
      try {
        if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(text).then(() => {
            const message = msg || "Copied to clipboard!";
            if (window.showEmailCopySuccess && (text.includes('@') || message.includes('email') || message.includes('Email'))) {
              window.showEmailCopySuccess(message);
            } else if (window.toastManager) {
              window.toastManager.success(message);
            } else {
              alert(message);
            }
          }).catch(() => {
            // Fallback method
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();

            try {
              const successful = document.execCommand('copy');
              if (successful) {
                const message = msg || "Copied to clipboard!";
                if (window.showEmailCopySuccess && (text.includes('@') || message.includes('email') || message.includes('Email'))) {
                  window.showEmailCopySuccess(message);
                } else if (window.toastManager) {
                  window.toastManager.success(message);
                } else {
                  alert(message);
                }
              } else {
                throw new Error('execCommand failed');
              }
            } catch (err) {
              if (window.toastManager) {
                window.toastManager.error("Copy failed");
              } else {
                alert("Copy failed");
              }
            }

            document.body.removeChild(textArea);
          });
        } else {
          if (window.toastManager) {
            window.toastManager.error("Copy not supported in this browser");
          } else {
            alert("Copy not supported in this browser");
          }
        }
      } catch(e) {
        console.error('Copy error:', e);
        if (window.toastManager) {
          window.toastManager.error("Copy failed");
        } else {
          alert("Copy failed");
        }
      }
    };

    // Simple order submission fallback
    window.simpleOrderSubmit = function() {
      console.log("Order submission initialized");
      return false;
    };

    // Email options modal for desktop compatibility
    window.openEmailOptionsModal = function() {
      // Position the modal near the Email Support button
      const contactSection = document.getElementById('contact');
      const isSmallScreen = window.innerWidth < 768;

      let modalPositioning = '';
      if (isSmallScreen) {
        modalPositioning = 'display: flex; align-items: center; justify-content: center; padding: 1rem;';
      } else {
        modalPositioning = 'display: block;';
        // Position modal near the contact section after it's added to DOM
        setTimeout(() => {
          const modal = document.getElementById('emailOptionsModal');
          const modalInner = modal ? modal.querySelector('div') : null;

          if (contactSection && modalInner) {
            const sectionRect = contactSection.getBoundingClientRect();
            const scrollY = window.pageYOffset || document.documentElement.scrollTop;

            // Position the modal near the contact section
            modalInner.style.position = 'absolute';
            modalInner.style.top = (sectionRect.top + scrollY - 20) + 'px';
            modalInner.style.left = '50%';
            modalInner.style.transform = 'translateX(-50%)';
            modalInner.style.zIndex = '10000';
          }
        }, 10);
      }

      const modalHTML = `
        <div id="emailOptionsModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); ${modalPositioning} z-index: 9999;">
          <div style="background: white; padding: 2rem; border-radius: 16px; max-width: 500px; width: 90%; position: relative; box-shadow: 0 20px 40px rgba(0,0,0,0.3);">
            <button onclick="document.getElementById('emailOptionsModal').remove()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>

            <h3 style="margin: 0 0 1.5rem 0; font-size: 1.5rem; font-weight: bold; color: #333; text-align: center;">📧 Contact Support</h3>

            <div style="space-y: 1rem;">
              <button onclick="window.location.href='mailto:support@visualvibestudio.store'; document.getElementById('emailOptionsModal').remove();"
                      style="width: 100%; padding: 1rem; background: #4f46e5; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 0.75rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>��</span> Open Default Email App
              </button>

              <button onclick="window.open('https://mail.google.com/mail/?view=cm&fs=1&to=support@visualvibestudio.store&su=Support%20Request', '_blank'); document.getElementById('emailOptionsModal').remove();"
                      style="width: 100%; padding: 1rem; background: #dc2626; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 0.75rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>📬</span> Compose in Gmail
              </button>

              <button onclick="window.open('https://compose.mail.yahoo.com/?to=support@visualvibestudio.store&subject=Support%20Request', '_blank'); document.getElementById('emailOptionsModal').remove();"
                      style="width: 100%; padding: 1rem; background: #7c3aed; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 0.75rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>📮</span> Compose in Yahoo Mail
              </button>

              <button onclick="window.open('https://outlook.live.com/mail/0/deeplink/compose?to=support@visualvibestudio.store&subject=Support%20Request', '_blank'); document.getElementById('emailOptionsModal').remove();"
                      style="width: 100%; padding: 1rem; background: #0078d4; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 0.75rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>📧</span> Compose in Outlook
              </button>

              <button onclick="
                const email = 'support@visualvibestudio.store';
                console.log('📧 Email options copy button clicked');

                // Enhanced copy function for desktop
                function copyEmailAndShowNotification() {
                  try {
                    if (navigator.clipboard && window.isSecureContext) {
                      navigator.clipboard.writeText(email).then(() => {
                        console.log('📧 Email copied via navigator.clipboard');
                        if (window.showEmailCopySuccess) {
                          window.showEmailCopySuccess('support@visualvibestudio.store ready to paste!');
                        } else if (window.toastManager) {
                          window.toastManager.success('�� Email address copied to clipboard!', { duration: 4000 });
                        } else {
                          alert('✅ Email address copied to clipboard!');
                        }
                      }).catch(() => {
                        console.log('📧 Fallback to execCommand copy');
                        fallbackCopy();
                      });
                    } else {
                      console.log('📧 Using fallback copy method');
                      fallbackCopy();
                    }
                  } catch (error) {
                    console.log('📧 Error in copy, using fallback:', error);
                    fallbackCopy();
                  }
                }

                function fallbackCopy() {
                  const textArea = document.createElement('textarea');
                  textArea.value = email;
                  textArea.style.position = 'fixed';
                  textArea.style.left = '-999999px';
                  textArea.style.top = '-999999px';
                  document.body.appendChild(textArea);
                  textArea.focus();
                  textArea.select();

                  try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                      console.log('📧 Fallback copy successful');
                      if (window.showEmailCopySuccess) {
                        window.showEmailCopySuccess('support@visualvibestudio.store ready to paste!');
                      } else if (window.toastManager) {
                        window.toastManager.success('��� Email address copied to clipboard!', { duration: 4000 });
                      } else {
                        alert('✅ Email address copied to clipboard!');
                      }
                    } else {
                      throw new Error('execCommand failed');
                    }
                  } catch (err) {
                    console.log('📧 All copy methods failed:', err);
                    if (window.toastManager) {
                      window.toastManager.error('Copy failed. Email: support@visualvibestudio.store', { duration: 6000 });
                    } else {
                      alert('Copy failed. Email: support@visualvibestudio.store');
                    }
                  }

                  document.body.removeChild(textArea);
                }

                copyEmailAndShowNotification();
                document.getElementById('emailOptionsModal').remove();
              " style="width: 100%; padding: 1rem; background: #059669; color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 1rem; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                <span>📋</span> Copy Email Address
              </button>

              <div style="text-align: center; padding: 1rem; background: #f3f4f6; border-radius: 8px;">
                <p style="margin: 0; font-size: 0.9rem; color: #666; font-weight: bold;">support@visualvibestudio.store</p>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.8rem; color: #888;">Available Monday-Friday, 9 AM - 6 PM CST</p>
              </div>
            </div>
          </div>
        </div>
      `;

      // Remove any existing modal
      const existing = document.getElementById('emailOptionsModal');
      if (existing) existing.remove();

      // Add modal to page
      document.body.insertAdjacentHTML('beforeend', modalHTML);
    };

    console.log('��� Basic functions loaded');







    window.toggleMobileMenu = function() {
      const menu = document.getElementById('mobileMenu');
      if (menu) menu.classList.toggle('hidden');
    };

    window.closeMobileMenu = function() {
      const menu = document.getElementById('mobileMenu');
      if (menu) menu.classList.add('hidden');
    };

    // Business Cards Dropdown Toggle
    window.toggleBusinessCardsDropdown = function() {
      const dropdown = document.getElementById('businessCardsDropdown');
      const arrow = document.querySelector('.business-cards-dropdown-arrow');

      console.log('Dropdown toggle clicked!', dropdown);

      if (dropdown.classList.contains('hidden')) {
        dropdown.classList.remove('hidden');
        dropdown.style.display = 'block';
        dropdown.style.visibility = 'visible';
        dropdown.style.opacity = '1';
        arrow.style.transform = 'rotate(180deg)';
        console.log('Dropdown should now be visible');
      } else {
        dropdown.classList.add('hidden');
        dropdown.style.display = 'none';
        arrow.style.transform = 'rotate(0deg)';
        console.log('Dropdown hidden');
      }
    };

    // Flyers Dropdown Toggle
    window.toggleFlyersDropdown = function() {
      const dropdown = document.getElementById('flyersDropdown');
      const arrow = document.querySelector('.flyers-dropdown-arrow');

      console.log('Flyers dropdown toggle clicked!', dropdown);

      if (dropdown.classList.contains('hidden')) {
        dropdown.classList.remove('hidden');
        dropdown.style.display = 'block';
        dropdown.style.visibility = 'visible';
        dropdown.style.opacity = '1';
        arrow.style.transform = 'rotate(180deg)';
        console.log('Flyers dropdown should now be visible');
      } else {
        dropdown.classList.add('hidden');
        dropdown.style.display = 'none';
        arrow.style.transform = 'rotate(0deg)';
        console.log('Flyers dropdown hidden');
      }
    };

    // Brochures Dropdown Toggle
    window.toggleBrochuresDropdown = function() {
      const dropdown = document.getElementById('brochuresDropdown');
      const arrow = document.querySelector('.brochures-dropdown-arrow');

      console.log('Brochures dropdown toggle clicked!', dropdown);

      if (dropdown.classList.contains('hidden')) {
        dropdown.classList.remove('hidden');
        dropdown.style.display = 'block';
        dropdown.style.visibility = 'visible';
        dropdown.style.opacity = '1';
        arrow.style.transform = 'rotate(180deg)';
        console.log('Brochures dropdown should now be visible');
      } else {
        dropdown.classList.add('hidden');
        dropdown.style.display = 'none';
        arrow.style.transform = 'rotate(0deg)';
        console.log('Brochures dropdown hidden');
      }
    };

    // Close dropdowns when clicking outside
    document.addEventListener('click', function(event) {
      // Business Cards Dropdown
      const businessDropdown = document.getElementById('businessCardsDropdown');
      const businessButton = document.querySelector('.business-cards-dropdown-btn');

      if (businessDropdown && !businessDropdown.contains(event.target) && !businessButton.contains(event.target)) {
        businessDropdown.classList.add('hidden');
        businessDropdown.style.display = 'none';
        const businessArrow = document.querySelector('.business-cards-dropdown-arrow');
        if (businessArrow) businessArrow.style.transform = 'rotate(0deg)';
      }

      // Flyers Dropdown
      const flyersDropdown = document.getElementById('flyersDropdown');
      const flyersButton = document.querySelector('.flyers-dropdown-btn');

      if (flyersDropdown && !flyersDropdown.contains(event.target) && !flyersButton.contains(event.target)) {
        flyersDropdown.classList.add('hidden');
        flyersDropdown.style.display = 'none';
        const flyersArrow = document.querySelector('.flyers-dropdown-arrow');
        if (flyersArrow) flyersArrow.style.transform = 'rotate(0deg)';
      }

      // Brochures Dropdown
      const brochuresDropdown = document.getElementById('brochuresDropdown');
      const brochuresButton = document.querySelector('.brochures-dropdown-btn');

      if (brochuresDropdown && !brochuresDropdown.contains(event.target) && !brochuresButton.contains(event.target)) {
        brochuresDropdown.classList.add('hidden');
        brochuresDropdown.style.display = 'none';
        const brochuresArrow = document.querySelector('.brochures-dropdown-arrow');
        if (brochuresArrow) brochuresArrow.style.transform = 'rotate(0deg)';
      }
    });





  </script>

</head>

<body class="font-sans animate-performance">
  <!-- Header with Authentication -->
  <header class="bg-white shadow-sm border-b sticky top-0 z-40">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center space-x-3">
        <img src="https://cdn.builder.io/api/v1/image/assets%2F68e178594f244e349655599d69676e91%2F8f624789711b403c856040d5fa1f9c53?format=webp&width=40" alt="Visual Vibe Studio Logo" class="logo-header w-10 h-10">
        <h1 class="text-2xl font-bold text-gray-800">Visual Vibe Studio</h1>
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-6">
        <a href="#services" class="text-gray-700 hover:text-indigo-600 transition-colors">Services</a>
        <a href="#reviews" class="text-gray-700 hover:text-indigo-600 transition-colors">Reviews</a>
        <a href="#order-form" class="text-gray-700 hover:text-indigo-600 transition-colors">Order</a>
        <a href="#contact" class="text-gray-700 hover:text-indigo-600 transition-colors">Contact</a>

      </nav>

      <!-- Mobile Menu Button -->
      <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-lg hover:bg-gray-100">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>

    <!-- Mobile Menu -->
    <div id="mobileMenu" class="md:hidden bg-white border-t hidden">
      <div class="px-4 py-4 space-y-3">
        <a href="#services" class="block text-gray-700 hover:text-indigo-600 py-2 transition-colors">Services</a>
        <a href="#reviews" class="block text-gray-700 hover:text-indigo-600 py-2 transition-colors">Reviews</a>
        <a href="#order-form" class="block text-gray-700 hover:text-indigo-600 py-2 transition-colors">Order</a>
        <a href="#contact" class="block text-gray-700 hover:text-indigo-600 py-2 transition-colors">Contact</a>

      </div>
    </div>
  </header>

  <!-- Welcome Banner -->
  <div id="welcomeBanner" class="bg-gradient-to-r from-indigo-50 to-purple-50 border-b border-indigo-100">
    <div class="container mx-auto px-4 py-4">
      <div class="text-center">
        <p class="text-indigo-700 font-medium">
          <span class="inline-block mr-2">👋</span>
          Welcome to Visual Vibe Studio - Where Creative Vision Meets Professional Excellence
        </p>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <main class="container mx-auto px-4 py-8">
    <!-- Hero Section -->
    <section class="text-center mb-16 reveal">
      <h1 class="text-4xl sm:text-5xl md:text-6xl font-normal gradient-text mb-6 text-glow">
        Visual Vibe Studio
      </h1>
      <h2 class="text-2xl md:text-3xl font-semibold text-gray-700 mb-6 text-glow">
        Professional Design Services
      </h2>
      <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto mb-8">
        Custom websites, flyers, and business cards. Professional designs that make your business stand out.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <button onclick="document.getElementById('services').scrollIntoView({behavior: 'smooth'})"
                class="bg-indigo-600 text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-indigo-700 transition-colors">
          View Services
        </button>
        <button onclick="document.getElementById('contact').scrollIntoView({behavior: 'smooth'})"
                class="border border-indigo-600 text-indigo-600 px-8 py-4 rounded-lg text-lg font-medium hover:bg-indigo-50 transition-colors">
          Get Quote
        </button>
      </div>
    </section>


    <!-- Services Section -->
    <section id="services" class="mb-16">
      <h3 class="text-3xl font-bold text-center text-gray-800 mb-12">Our Services</h3>
      <div class="grid md:grid-cols-3 lg:grid-cols-5 gap-6">
        <div class="glass-morphism service-card p-6 text-center floating-card neon-glow">
          <div
            class="w-14 h-14 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 neon-glow">
            <span class="text-xl text-white">🌐</span>
          </div>
          <h4 class="text-lg font-bold mb-3 text-gray-800">Website Design</h4>
          <p class="text-gray-700 mb-4 text-sm">Professional, responsive websites that convert visitors into customers.</p>
          <p class="pricing-highlight text-sm">Starting at $100</p>
        </div>

        <div class="glass-morphism service-card p-6 text-center floating-card neon-glow" style="animation-delay: 0.2s; position: relative; z-index: 10;">
          <div
            class="w-14 h-14 bg-gradient-to-br from-green-500 to-blue-600 rounded-full flex items-center justify-center mx-auto mb-4 neon-glow">
            <span class="text-xl text-white">📄</span>
          </div>
          <h4 class="text-lg font-bold mb-3 text-gray-800">Flyers</h4>
          <p class="text-gray-700 mb-4 text-sm">Eye-catching flyers that promote your business effectively.</p>
          <p class="pricing-highlight text-sm">Starting at $64.99</p>

          <!-- Dropdown Button -->
          <div class="mt-4 relative">
            <button onclick="toggleFlyersDropdown()" class="flyers-dropdown-btn w-full bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2">
              View All Options
              <span class="flyers-dropdown-arrow transition-transform">▼</span>
            </button>

            <!-- Dropdown Menu -->
            <div id="flyersDropdown" class="flyers-dropdown absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 hidden max-h-80 overflow-y-auto">
              <!-- Flyer Options -->
              <div class="p-3">
                <h5 class="font-bold text-green-600 text-sm mb-2">Full Color Flyers</h5>

                <div class="flyer-option p-2 hover:bg-green-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color</div>
                  <div class="text-xs text-gray-600">8.5in X 11in, Laser Recycled (28lb.), Laser (32lb.), Single-Sided</div>
                  <div class="text-xs font-bold text-green-600">50 Count: $64.99</div>
                </div>

                <div class="flyer-option p-2 hover:bg-green-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color</div>
                  <div class="text-xs text-gray-600">8.5in X 11in, Laser Recycled (28lb.), Laser (32lb.), Double-Sided</div>
                  <div class="text-xs font-bold text-green-600">50 Count: $81.99</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="glass-morphism service-card p-6 text-center floating-card neon-glow" style="animation-delay: 0.3s; position: relative; z-index: 10;">
          <div
            class="w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 neon-glow">
            <span class="text-xl text-white">📋</span>
          </div>
          <h4 class="text-lg font-bold mb-3 text-gray-800">Brochures</h4>
          <p class="text-gray-700 mb-4 text-sm">Professional brochures that showcase your services in detail.</p>
          <p class="pricing-highlight text-sm">Starting at $57.50</p>

          <!-- Dropdown Button -->
          <div class="mt-4 relative">
            <button onclick="toggleBrochuresDropdown()" class="brochures-dropdown-btn w-full bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2">
              View All Options
              <span class="brochures-dropdown-arrow transition-transform">▼</span>
            </button>

            <!-- Dropdown Menu -->
            <div id="brochuresDropdown" class="brochures-dropdown absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 hidden max-h-80 overflow-y-auto">
              <!-- Brochure Options -->
              <div class="p-3">
                <h5 class="font-bold text-purple-600 text-sm mb-2">Full Color Brochures</h5>

                <div class="brochure-option p-2 hover:bg-purple-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color</div>
                  <div class="text-xs text-gray-600">8.5in X 11in, Laser (32lb.), Double-Sided, Tri-Fold, Z-Fold, 1/2 Fold</div>
                  <div class="text-xs font-bold text-purple-600">25 Count: $57.50</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="glass-morphism service-card p-6 text-center floating-card neon-glow" style="animation-delay: 0.4s; position: relative; z-index: 10;">
          <div
            class="w-14 h-14 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4 neon-glow">
            <span class="text-xl text-white">���</span>
          </div>
          <h4 class="text-lg font-bold mb-3 text-gray-800">Business Cards</h4>
          <p class="text-gray-700 mb-4 text-sm">Professional business cards that make a lasting first impression.</p>
          <p class="pricing-highlight text-sm">Starting at $38.99</p>

          <!-- Dropdown Button -->
          <div class="mt-4 relative">
            <button onclick="toggleBusinessCardsDropdown()" class="business-cards-dropdown-btn w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-2">
              View All Options
              <span class="business-cards-dropdown-arrow transition-transform">▼</span>
            </button>

            <!-- Dropdown Menu -->
            <div id="businessCardsDropdown" class="business-cards-dropdown absolute left-0 right-0 top-full mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 hidden max-h-80 overflow-y-auto">
              <!-- Premium Section -->
              <div class="p-3 border-b border-gray-100">
                <h5 class="font-bold text-orange-600 text-sm mb-2">Premium Cards</h5>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Premium Business Cards</div>
                  <div class="text-xs text-gray-600">Single Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $44.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Premium Business Cards</div>
                  <div class="text-xs text-gray-600">Double Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $64.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Ultra Thick 34 pt. Business Cards</div>
                  <div class="text-xs text-gray-600">Single Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $79.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Ultra Thick 34 pt. Business Cards</div>
                  <div class="text-xs text-gray-600">Double Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $99.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Magnetic Business Cards</div>
                  <div class="text-xs text-gray-600">Single Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">25 cards for $44.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Foldover Business Cards</div>
                  <div class="text-xs text-gray-600">Double Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $86.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Color Core Business Cards</div>
                  <div class="text-xs text-gray-600">Double Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $75.48</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Color Core Business Cards</div>
                  <div class="text-xs text-gray-600">Double Sided, Flat, Round Corners</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $80.71</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Soft Touch Business Cards</div>
                  <div class="text-xs text-gray-600">Single Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $74.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Full Color Soft Touch Business Cards</div>
                  <div class="text-xs text-gray-600">Double Sided, Flat</div>
                  <div class="text-xs font-bold text-orange-600">100 cards for $87.99</div>
                </div>
              </div>

              <!-- Quick Section -->
              <div class="p-3">
                <h5 class="font-bold text-orange-600 text-sm mb-2">Quick Cards</h5>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Color, Black & White</div>
                  <div class="text-xs text-gray-600">3.5in X 2in, Gloss Cover, Matte Cover, Single-Sided</div>
                  <div class="text-xs font-bold text-orange-600">100 Count: $38.99</div>
                </div>

                <div class="business-card-option p-2 hover:bg-orange-50 rounded text-left">
                  <div class="font-medium text-xs text-gray-800">Color, Black & White</div>
                  <div class="text-xs text-gray-600">3.5in X 2in, Gloss Cover, Matte Cover, Double-Sided</div>
                  <div class="text-xs font-bold text-orange-600">100 Count: $42.49</div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="glass-morphism service-card p-6 text-center floating-card neon-glow" style="animation-delay: 0.5s;">
          <div
            class="w-14 h-14 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 neon-glow">
            <span class="text-xl text-white">🎨</span>
          </div>
          <h4 class="text-lg font-bold mb-3 text-gray-800">Logos</h4>
          <p class="text-gray-700 mb-4 text-sm">Custom logo designs that represent your brand identity.</p>
          <p class="pricing-highlight text-sm">Starting at $25</p>
        </div>
      </div>

      <!-- Professional Note -->
      <div class="mt-12 text-center">
        <div class="glass-morphism p-8 max-w-2xl mx-auto">
          <p class="text-lg text-gray-700 leading-relaxed">
            <strong>Need a custom solution?</strong> We specialize in creating custom design services tailored to your unique requirements. Contact us with your project details, and our team will provide you with a comprehensive quote and timeline to bring your vision to life.
          </p>
        </div>
      </div>
    </section>

    <!-- Reviews Section -->
    <section id="reviews" class="mb-16">
      <h3 class="text-3xl font-bold text-center text-gray-800 mb-12">What Our Customers Say</h3>
      <div class="reviews-container mb-8">
        <div class="reviews-scroll" id="reviewsScroll">


        </div>
        <div class="scroll-indicators">
          <button class="scroll-btn scroll-left" onclick="scrollReviews('left')">&larr;</button>
          <button class="scroll-btn scroll-right" onclick="scrollReviews('right')">&rarr;</button>
        </div>
      </div>

      <!-- Customer Reviews Grid (hidden - not used) -->
      <div id="allCustomerReviews" class="hidden" style="display: none !important;">
        <!-- Grid container removed from display -->
      </div>


      <!-- Write A Review Form -->
      <div class="mt-12">
        <h4 class="text-2xl font-bold text-center text-gray-800 mb-8">Write A Review</h4>
        <div class="glass-morphism p-8 max-w-2xl mx-auto">
          <form id="reviewForm" class="space-y-6">
            <div>
              <label class="block font-medium text-gray-700 mb-2">Your Name *</label>
              <input type="text" id="reviewerName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="Your full name">
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Your Title/Business (Optional)</label>
              <input type="text" id="reviewerTitle" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="e.g., Business Owner, Manager">
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-3">Rating *</label>
              <div class="flex items-center space-x-1" id="starRating">
                <span class="star cursor-pointer text-3xl text-gray-300 hover:text-yellow-400 transition-colors" data-rating="1">⭐</span>
                <span class="star cursor-pointer text-3xl text-gray-300 hover:text-yellow-400 transition-colors" data-rating="2">⭐</span>
                <span class="star cursor-pointer text-3xl text-gray-300 hover:text-yellow-400 transition-colors" data-rating="3">⭐</span>
                <span class="star cursor-pointer text-3xl text-gray-300 hover:text-yellow-400 transition-colors" data-rating="4">⭐</span>
                <span class="star cursor-pointer text-3xl text-gray-300 hover:text-yellow-400 transition-colors" data-rating="5">⭐</span>
                <span class="ml-3 text-gray-600" id="ratingText">Click to rate</span>
              </div>
              <input type="hidden" id="selectedRating" required>
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Your Review *</label>
              <textarea id="reviewText" required rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none" placeholder="Tell us about your experience with Visual Vibe Studio..."></textarea>
            </div>

            <button type="submit" class="w-full bg-indigo-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-indigo-700 transition-colors">
              Submit Review
            </button>
          </form>
        </div>
      </div>
    </section>

    <!-- Order Form Section -->
    <section id="order-form" class="mb-16">
      <div class="glass-morphism p-8 max-w-4xl mx-auto neon-glow reveal">
        <h3 class="text-3xl font-bold text-center text-gray-800 mb-8">Place Your Order</h3>
        <p class="text-center text-gray-600 mb-8">Ready to get started? Fill out our order form and we'll get back to
          you with a detailed quote.</p>

        <form id="orderForm" class="grid md:grid-cols-2 gap-6">
          <!-- Customer Information -->
          <div class="space-y-4">
            <h4 class="text-xl font-bold text-gray-800 mb-4">👤 Customer Information</h4>

            <div>
              <label class="block font-medium text-gray-700 mb-2">First Name *</label>
              <input type="text" name="first_name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="Your first name">
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Last Name *</label>
              <input type="text" name="last_name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="Your last name">
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Email Address *</label>
              <input type="email" name="customer_email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="your.email@example.com">
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Phone Number *</label>
              <input type="tel" name="customer_phone" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="(XXX) XXX-XXXX">
            </div>
          </div>

          <!-- Business & Order Details -->
          <div class="space-y-4">
            <h4 class="text-xl font-bold text-gray-800 mb-4">🏢 Business & Order Details</h4>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Business Name *</label>
              <input type="text" name="business_name" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent" placeholder="Your business name">
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Industry *</label>
              <select name="industry" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white">
                <option value="">Select your industry</option>
                <option value="Restaurant & Food">Restaurant & Food</option>
                <option value="Retail & E-commerce">Retail & E-commerce</option>
                <option value="Healthcare">Healthcare</option>
                <option value="Real Estate">Real Estate</option>
                <option value="Technology">Technology</option>
                <option value="Professional Services">Professional Services</option>
                <option value="Beauty & Wellness">Beauty & Wellness</option>
                <option value="Education">Education</option>
                <option value="Non-Profit">Non-Profit</option>
                <option value="Other">Other</option>
              </select>
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Services Needed *</label>
              <div class="space-y-3">
                <!-- Website Design -->
                <div class="ml-4">
                  <label class="flex items-center">
                    <input type="checkbox" name="services" value="Website Design" class="mr-2"> <span class="font-medium">Website Design</span> <span>(Starting at $100)</span>
                  </label>
                </div>

                <!-- Business Cards Section -->
                <div class="ml-4 space-y-1">
                  <div class="font-medium text-gray-800 text-sm mb-1">Premium Business Cards:</div>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Premium Business Cards Single Sided" class="mr-2"> Full Color Premium, Single Sided, Flat - 100 cards <span class="text-gray-600">($44.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Premium Business Cards Double Sided" class="mr-2"> Full Color Premium, Double Sided, Flat - 100 cards <span class="text-gray-600">($64.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Ultra Thick Business Cards Single Sided" class="mr-2"> Ultra Thick 34 pt., Single Sided, Flat - 100 cards <span class="text-gray-600">($79.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Ultra Thick Business Cards Double Sided" class="mr-2"> Ultra Thick 34 pt., Double Sided, Flat - 100 cards <span class="text-gray-600">($99.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Magnetic Business Cards" class="mr-2"> Full Color Magnetic, Single Sided, Flat - 25 cards <span class="text-gray-600">($44.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Foldover Business Cards" class="mr-2"> Full Color Foldover, Double Sided, Flat - 100 cards <span class="text-gray-600">($86.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Color Core Business Cards" class="mr-2"> Full Color Color Core, Double Sided, Flat - 100 cards <span class="text-gray-600">($75.48)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Color Core Business Cards Round Corners" class="mr-2"> Full Color Color Core, Double Sided, Round Corners - 100 cards <span class="text-gray-600">($80.71)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Soft Touch Business Cards Single Sided" class="mr-2"> Full Color Soft Touch, Single Sided, Flat - 100 cards <span class="text-gray-600">($74.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Soft Touch Business Cards Double Sided" class="mr-2"> Full Color Soft Touch, Double Sided, Flat - 100 cards <span class="text-gray-600">($87.99)</span>
                  </label>

                  <div class="font-medium text-gray-800 text-sm mb-1 mt-3">Quick Business Cards:</div>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Quick Business Cards Single Sided" class="mr-2"> Color/B&W, 3.5"×2", Gloss/Matte Cover, Single-Sided - 100 Count <span class="text-gray-600">($38.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Quick Business Cards Double Sided" class="mr-2"> Color/B&W, 3.5"×2", Gloss/Matte Cover, Double-Sided - 100 Count <span class="text-gray-600">($42.49)</span>
                  </label>
                </div>

                <!-- Flyers Section -->
                <div class="ml-4 space-y-1">
                  <div class="font-medium text-gray-800 text-sm mb-1">Flyers:</div>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Flyers Single Sided" class="mr-2"> Full Color, 8.5"×11", Laser Recycled/Laser, Single-Sided - 50 Count <span class="text-gray-600">($64.99)</span>
                  </label>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Flyers Double Sided" class="mr-2"> Full Color, 8.5"×11", Laser Recycled/Laser, Double-Sided - 50 Count <span class="text-gray-600">($81.99)</span>
                  </label>
                </div>

                <!-- Brochures Section -->
                <div class="ml-4 space-y-1">
                  <div class="font-medium text-gray-800 text-sm mb-1">Brochures:</div>
                  <label class="flex items-center text-sm">
                    <input type="checkbox" name="services" value="Brochures Tri-Fold" class="mr-2"> Full Color, 8.5"×11", Laser, Double-Sided, Tri-Fold/Z-Fold/Half-Fold - 25 Count <span class="text-gray-600">($57.50)</span>
                  </label>
                </div>

                <!-- Logo Design -->
                <div class="ml-4">
                  <label class="flex items-center">
                    <input type="checkbox" name="services" value="Logo Design" class="mr-2"> <span class="font-medium">Logo Design</span> <span>(Starting at $25)</span>
                  </label>
                </div>
              </div>
            </div>

            <div>
              <label class="block font-medium text-gray-700 mb-2">Desired Due Date *</label>
              <input type="date" name="due_date" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent">
            </div>
          </div>

          <!-- Submit Button -->
          <div class="md:col-span-2 text-center mt-6">
            <button type="submit" class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-lg text-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105">
              Get My Quote & Pricing 💰
            </button>
            <p class="text-sm text-gray-600 mt-2">We'll calculate your total and show payment options</p>
          </div>

          <!-- Pricing Information Notice -->
          <div class="md:col-span-2 mt-6">
            <div class="bg-indigo-50 p-4 rounded-lg text-center">
              <h5 class="font-medium text-indigo-800 mb-2">💡 How It Works</h5>
              <p class="text-indigo-700 text-sm">Click "Get My Quote" above to see your total project cost and deposit
                amount based on your selected services. You'll then be able to pay your deposit instantly via Venmo!</p>
            </div>
          </div>
        </form>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="glass-morphism p-8 max-w-2xl mx-auto neon-glow reveal">
      <h3 class="text-2xl font-bold text-center mb-8">Get In Touch</h3>

      <div class="grid md:grid-cols-2 gap-6">
        <button type="button"
                class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-4 px-6 rounded-lg transition-colors flex items-center justify-center space-x-2"
                style="cursor: pointer; pointer-events: auto; position: relative; z-index: 10;"
                onclick="openEmailOptionsModal();">
          <span class="text-xl">📧</span>
          <span>Email Support</span>
        </button>

        <a href="tel:+14029797184"
          class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-4 px-6 rounded-lg text-center transition-colors flex items-center justify-center space-x-2">
          <span class="text-xl">📞</span>
          <span>Call (402) 979-7184</span>
        </a>
      </div>

      <div class="mt-8 text-center text-gray-600">
        <p class="mb-2">Email: support@visualvibestudio.store</p>
        <p>Available Monday-Friday, 9 AM - 6 PM CST</p>
      </div>
    </section>
  </main>

  <!-- Toast Notification Container -->
  <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

  <!-- Universal sync status indicator -->
  <div id="universalSyncIndicator" class="universal-sync-indicator">
    <div class="pulse"></div>
    <span>Reviews sync across all devices</span>
  </div>

  <!-- Modern Confirmation Dialog -->
  <div id="confirmDialog" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <div class="bg-white rounded-lg p-6 max-w-md mx-4 shadow-xl">
      <div class="flex items-center mb-4">
        <span class="text-2xl mr-3" id="confirmIcon">⚠️</span>
        <h3 class="text-lg font-semibold text-gray-800" id="confirmTitle">Confirm Action</h3>
      </div>
      <p class="text-gray-600 mb-6" id="confirmMessage">Are you sure you want to proceed?</p>
      <div class="flex justify-end space-x-3">
        <button onclick="closeConfirmDialog()" class="px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
          Cancel
        </button>
        <button onclick="confirmAction()" id="confirmBtn" class="px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors">
          Confirm
        </button>
      </div>
    </div>
  </div>

  <!-- Floating Contact Button -->
  <div id="floatingContactBtn" style="position: fixed; top: 90px; right: 20px; z-index: 1000; cursor: pointer;"
    onclick="openFloatingForm()">
    <div
      style="width: 60px; height: 60px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4); animation: pulse-float 2s ease-in-out infinite;">
      <span style="color: white; font-size: 24px;">����</span>
    </div>
  </div>

  <!-- Floating Contact Form Modal -->
  <div id="floatingContactModal"
    style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; align-items: center; justify-content: center;">
    <div
      style="background: white; border-radius: 16px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto; position: relative; box-shadow: 0 20px 40px rgba(0,0,0,0.2);">
      <!-- Header -->
      <div
        style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 1.5rem; border-radius: 16px 16px 0 0; text-align: center; position: relative;">
        <h3 style="margin: 0; color: white; font-size: 1.5rem; font-weight: bold;">Quick Contact Form</h3>
        <p style="margin: 0.5rem 0 0 0; color: rgba(255,255,255,0.9); font-size: 0.9rem;">Get a personalized quote for
          your project</p>
        <button onclick="closeFloatingForm()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; opacity: 0.8;">&times;</button>
      </div>

      <!-- Form -->
      <form id="floatingContactForm" style="padding: 2rem;">
        <div style="display: grid; gap: 1rem;">
          <!-- Name -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Full Name *</label>
            <input type="text" name="customer_name" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box;" placeholder="Your full name">
          </div>

          <!-- Email -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Email Address *</label>
            <input type="email" name="customer_email" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box;" placeholder="your.email@example.com">
          </div>

          <!-- Mobile -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Mobile Number *</label>
            <input type="tel" name="customer_mobile" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box;" placeholder="(XXX) XXX-XXXX">
          </div>

          <!-- Response Preference -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Preferred Contact Method *</label>
            <select name="response_preference" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box; background: white;">
              <option value="">Choose preferred contact method</option>
              <option value="email">Email</option>
              <option value="phone">Phone Call</option>
              <option value="text">Text Message</option>
            </select>
          </div>

          <!-- Project Type -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Project Type *</label>
            <select name="project_type" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box; background: white;">
              <option value="">Select project type</option>
              <option value="website" style="font-weight: bold;">Website Design</option>

              <!-- Business Cards Options -->
              <optgroup label="Business Cards">
                <option value="business_cards_premium">Premium Business Cards (Full Color/Ultra Thick/Magnetic/etc.)</option>
                <option value="business_cards_quick">Quick Business Cards (Standard)</option>
              </optgroup>

              <!-- Flyers Options -->
              <optgroup label="Flyers">
                <option value="flyers_single">Flyers - Single Sided</option>
                <option value="flyers_double">Flyers - Double Sided</option>
              </optgroup>

              <!-- Brochures Options -->
              <optgroup label="Brochures">
                <option value="brochures_trifold">Brochures - Tri-Fold/Z-Fold/Half-Fold</option>
              </optgroup>

              <option value="logo" style="font-weight: bold;">Logo Design</option>
              <option value="other" style="font-weight: bold;">Other</option>
            </select>
          </div>

          <!-- Urgency -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Project Urgency *</label>
            <select name="urgency" required style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; box-sizing: border-box; background: white;">
              <option value="">Select urgency level</option>
              <option value="low">Low - Within 2-4 weeks</option>
              <option value="medium">Medium - Within 1-2 weeks</option>
              <option value="high">High - Within a few days</option>
              <option value="urgent">Urgent - ASAP</option>
            </select>
          </div>

          <!-- Message -->
          <div>
            <label style="display: block; font-weight: bold; margin-bottom: 0.5rem; color: #333;">Project Details</label>
            <textarea name="customer_message" rows="4" style="width: 100%; padding: 0.75rem; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 1rem; resize: vertical; box-sizing: border-box;" placeholder="Tell us about your project, budget, specific requirements, etc."></textarea>
          </div>
        </div>

        <!-- Submit Button -->
        <div style="margin-top: 1.5rem; text-align: center;">
          <button type="submit" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 2rem; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; width: 100%; transition: transform 0.2s;">
            Send My Request 🚀
          </button>
          <p style="margin-top: 0.5rem; font-size: 0.8rem; color: #666;">We'll respond within 24 hours</p>
        </div>
      </form>
    </div>
  </div>

  <!-- Footer -->
  <footer class="bg-gray-800 text-white py-12 mt-16">
    <div class="container mx-auto px-4 text-center">
      <h4 class="text-xl font-bold mb-4">Visual Vibe Studio</h4>
      <p class="text-gray-300 mb-6">Professional design services that make your business stand out.</p>
      <div class="flex justify-center space-x-6 mb-6">
      </div>
      <p class="text-sm text-gray-400">
        &copy; 2025 Visual Vibe Studio | https://visualvibestudio.store | All rights reserved.
      </p>
    </div>
  </footer>

  <!-- ESSENTIAL SCRIPTS ONLY - NO DELETED FILES -->
  <script src="toast-notifications.js"></script>
  <script src="universal-review-sync.js"></script>
  <script src="email-copy-notification.js"></script>
  <script src="final-check.js"></script>

  <!-- Scroll Reveal Animation -->
  <script>
    // Scroll reveal animation
    function revealOnScroll() {
      const reveals = document.querySelectorAll('.reveal');

      for (let i = 0; i < reveals.length; i++) {
        const windowHeight = window.innerHeight;
        const elementTop = reveals[i].getBoundingClientRect().top;
        const elementVisible = 150;

        if (elementTop < windowHeight - elementVisible) {
          reveals[i].classList.add('active');
        }
      }
    }

    // Initialize reveal on scroll
    window.addEventListener('scroll', revealOnScroll);
    window.addEventListener('load', revealOnScroll);

    // Initialize reveals for elements already in view
    setTimeout(revealOnScroll, 100);

    // Auto-run pricing diagnostic after page loads
    setTimeout(() => {
      if (window.debugPricingConsistency) {
        window.debugPricingConsistency();
      }

      // Also test email connectivity
      if (window.testEmailConnectivity) {
        window.testEmailConnectivity();
      }
    }, 2000);

    // Email connectivity test function
    window.testEmailConnectivity = function() {
      console.log('📧 Testing email connectivity...');

      // Test Zapier webhook with CORS handling
      try {
        fetch('https://hooks.zapier.com/hooks/catch/24056566/u4a5f95/', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ test: 'connectivity' }),
          mode: 'no-cors' // Use no-cors for connectivity test only
        }).then(() => {
          console.log('✅ Zapier webhook connectivity test completed (no-cors mode)');
        }).catch(error => {
          console.log('❌ Zapier webhook connectivity test failed:', error.message);
        });
      } catch (error) {
        console.log('❌ Zapier webhook test error:', error.message);
      }

      // Check EmailJS availability
      if (window.emailjs) {
        console.log('✅ EmailJS library is loaded');
      } else {
        console.log('❌ EmailJS library not found');
      }
    };
  </script>

  <!-- Review Form JavaScript -->
  <script>
    // Toast notification system
    function showToast(message, type = 'success') {
      const toastContainer = document.getElementById('toastContainer');
      const toast = document.createElement('div');

      const icons = {
        success: '✅',
        error: '❌',
        warning: '⚠��',
        info: 'ℹ️'
      };

      const colors = {
        success: 'bg-green-500',
        error: 'bg-red-500',
        warning: 'bg-yellow-500',
        info: 'bg-blue-500'
      };

      toast.className = `${colors[type]} text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 transform translate-x-full transition-transform duration-300 ease-out max-w-sm`;
      toast.innerHTML = `
        <span class="text-xl">${icons[type]}</span>
        <span class="flex-1">${message}</span>
        <button onclick="this.parentElement.remove()" class="text-white hover:text-gray-200 text-xl leading-none">&times;</button>
      `;

      toastContainer.appendChild(toast);

      // Trigger animation
      setTimeout(() => {
        toast.classList.remove('translate-x-full');
      }, 10);

      // Auto remove after 5 seconds
      setTimeout(() => {
        if (toast.parentElement) {
          toast.classList.add('translate-x-full');
          setTimeout(() => {
            if (toast.parentElement) {
              toast.remove();
            }
          }, 300);
        }
      }, 5000);
    }

    // Scroll reviews functionality
    function scrollReviews(direction) {
      const scrollContainer = document.getElementById('reviewsScroll');
      const scrollAmount = 320; // Width of one review card plus gap

      if (direction === 'left') {
        scrollContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
      } else {
        scrollContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
      }
    }

    // Modern confirmation dialog system
    let confirmCallback = null;

    function showConfirmDialog(message, title = 'Confirm Action', icon = '⚠️', confirmText = 'Confirm') {
      return new Promise((resolve) => {
        const dialog = document.getElementById('confirmDialog');
        const titleEl = document.getElementById('confirmTitle');
        const messageEl = document.getElementById('confirmMessage');
        const iconEl = document.getElementById('confirmIcon');
        const confirmBtn = document.getElementById('confirmBtn');

        titleEl.textContent = title;
        messageEl.textContent = message;
        iconEl.textContent = icon;
        confirmBtn.textContent = confirmText;

        confirmCallback = resolve;
        dialog.classList.remove('hidden');
      });
    }

    function closeConfirmDialog() {
      const dialog = document.getElementById('confirmDialog');
      dialog.classList.add('hidden');
      if (confirmCallback) {
        confirmCallback(false);
        confirmCallback = null;
      }
    }

    function confirmAction() {
      const dialog = document.getElementById('confirmDialog');
      dialog.classList.add('hidden');
      if (confirmCallback) {
        confirmCallback(true);
        confirmCallback = null;
      }
    }

    // Review form functionality
    let selectedRating = 0;

    // Star rating system
    document.addEventListener('DOMContentLoaded', function() {
      const stars = document.querySelectorAll('.star');
      const ratingText = document.getElementById('ratingText');
      const selectedRatingInput = document.getElementById('selectedRating');

      stars.forEach(star => {
        star.addEventListener('click', function() {
          selectedRating = parseInt(this.dataset.rating);
          selectedRatingInput.value = selectedRating;
          updateStarDisplay();
          updateRatingText();
        });

        star.addEventListener('mouseenter', function() {
          const hoverRating = parseInt(this.dataset.rating);
          highlightStars(hoverRating);
        });
      });

      document.getElementById('starRating').addEventListener('mouseleave', function() {
        updateStarDisplay();
      });

      function updateStarDisplay() {
        stars.forEach((star, index) => {
          if (index < selectedRating) {
            star.classList.remove('text-gray-300');
            star.classList.add('text-yellow-400');
          } else {
            star.classList.remove('text-yellow-400');
            star.classList.add('text-gray-300');
          }
        });
      }

      function highlightStars(rating) {
        stars.forEach((star, index) => {
          if (index < rating) {
            star.classList.remove('text-gray-300');
            star.classList.add('text-yellow-400');
          } else {
            star.classList.remove('text-yellow-400');
            star.classList.add('text-gray-300');
          }
        });
      }

      function updateRatingText() {
        const ratingTexts = ['', 'Poor', 'Fair', 'Good', 'Very Good', 'Excellent'];
        ratingText.textContent = ratingTexts[selectedRating] || 'Click to rate';
      }

      // Handle review form submission
      document.getElementById('reviewForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const name = document.getElementById('reviewerName').value.trim();
        const title = document.getElementById('reviewerTitle').value.trim();
        const reviewText = document.getElementById('reviewText').value.trim();

        if (!name || !reviewText || selectedRating === 0) {
          showToast('Please fill in all required fields and select a rating.', 'warning');
          return;
        }

        // Disable form during submission
        const submitBtn = this.querySelector('button[type="submit"]');
        const originalText = submitBtn.textContent;
        submitBtn.textContent = 'Submitting...';
        submitBtn.disabled = true;

        try {
          // Submit to permanent storage via API
          const reviewData = {
            name: name,
            businessType: title,
            reviewText: reviewText,
            rating: selectedRating
          };

          // Submit to universal sync system
          const savedReview = await window.reviewAPI.submitReview(reviewData);

          // Immediately add to direct scroll area for instant feedback
          addNewReviewToScroll(reviewData);

          // Save to localStorage for cross-device sync
          saveReviewForCrossDeviceSync(reviewData);

          // Trigger cross-device sync events
          triggerCrossDeviceSync(reviewData);

          // Reset form
          this.reset();
          selectedRating = 0;
          selectedRatingInput.value = '';
          updateStarDisplay();
          updateRatingText();

          // Show success message
          showToast('Thank you for your review! It\'s now visible to all visitors across all devices.', 'success');

          // Show sync indicator
          if (window.showSyncIndicator) {
            setTimeout(() => {
              showSyncIndicator('Your review is now live across all devices!');
            }, 1000);
          }

        } catch (error) {
          console.error('��� Error submitting review:', error);
          showToast('Error submitting review. Please try again.', 'error');
        } finally {
          // Re-enable form
          submitBtn.textContent = originalText;
          submitBtn.disabled = false;
        }
      });

      // Enhanced cross-device sync functions
      function addNewReviewToScroll(reviewData) {
        const scrollContainer = document.getElementById('reviewsScroll');
        if (!scrollContainer) return;

        // Check for duplicate reviews
        const existingReviews = scrollContainer.querySelectorAll('.review-card');
        for (let review of existingReviews) {
          const existingName = review.querySelector('.font-medium').textContent.replace('- ', '');
          if (existingName.toLowerCase() === reviewData.name.toLowerCase()) {
            console.log(`Review from ${reviewData.name} already exists, updating...`);
            // Remove existing review
            review.remove();
            break;
          }
        }

        // Create new review card
        const reviewCard = document.createElement('div');
        reviewCard.className = 'review-card glass-morphism p-6 floating-card reveal new-review flex-shrink-0';
        reviewCard.style.animationDelay = '0s';

        const starsDisplay = '⭐'.repeat(reviewData.rating);
        reviewCard.innerHTML = `
          <div class="flex items-center mb-4">
            <div class="flex text-yellow-400 text-lg">${starsDisplay}</div>

          </div>
          <p class="text-gray-700 mb-4 text-sm leading-relaxed">"${reviewData.reviewText}"</p>
          <div class="font-medium text-gray-800 text-sm">- ${reviewData.name}</div>
          <div class="text-xs text-gray-600 mt-1">${reviewData.businessType || 'Customer'}</div>
        `;

        // Add to the beginning of the scroll container
        scrollContainer.insertBefore(reviewCard, scrollContainer.firstChild);

        // Add animation
        setTimeout(() => {
          reviewCard.classList.add('animate-pulse');
          setTimeout(() => {
            reviewCard.classList.remove('animate-pulse');
          }, 2000);
        }, 100);

        console.log(`✅ Added new review from ${reviewData.name} to scroll area`);
      }

      function saveReviewForCrossDeviceSync(reviewData) {
        try {
          // Get existing reviews from localStorage
          let allReviews = JSON.parse(localStorage.getItem('universalReviews') || '[]');

          // Add device and timestamp information
          const reviewWithMeta = {
            ...reviewData,
            id: 'review_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9),
            timestamp: new Date().toISOString(),
            deviceInfo: {
              userAgent: navigator.userAgent,
              platform: navigator.platform,
              timestamp: Date.now()
            },
            isCustomerReview: true
          };

          // Remove any existing review from same customer
          allReviews = allReviews.filter(review =>
            review.name.toLowerCase() !== reviewData.name.toLowerCase()
          );

          // Add new review to the beginning
          allReviews.unshift(reviewWithMeta);

          // Keep only last 50 reviews to prevent storage bloat
          if (allReviews.length > 50) {
            allReviews = allReviews.slice(0, 50);
          }

          // Save back to localStorage
          localStorage.setItem('universalReviews', JSON.stringify(allReviews));
          console.log(`💾 Saved review from ${reviewData.name} for cross-device sync`);

        } catch (error) {
          console.error('❌ Error saving review for cross-device sync:', error);
        }
      }

      function triggerCrossDeviceSync(reviewData) {
        try {
          // Trigger storage event for other tabs
          const syncData = {
            action: 'newReview',
            review: reviewData,
            timestamp: Date.now(),
            deviceId: navigator.userAgent.substr(0, 50)
          };

          // Use a specific sync key
          localStorage.setItem('reviewSyncEvent', JSON.stringify(syncData));

          // Remove sync event after short delay
          setTimeout(() => {
            localStorage.removeItem('reviewSyncEvent');
          }, 5000);

          // Dispatch custom event for same page
          window.dispatchEvent(new CustomEvent('newReviewAdded', {
            detail: syncData
          }));

          console.log(`🔄 Triggered cross-device sync for ${reviewData.name}'s review`);

        } catch (error) {
          console.error('❌ Error triggering cross-device sync:', error);
        }
      }

      function addReviewToPage(name, title, reviewText, rating) {
        const reviewsContainer = document.getElementById('reviewsScroll');

        // Check if a review from this customer already exists
        const existingReviews = reviewsContainer.querySelectorAll('.review-card');
        for (let review of existingReviews) {
          const existingName = review.querySelector('.font-medium').textContent.replace('- ', '');
          if (existingName.toLowerCase() === name.toLowerCase()) {
            showToast(`${name} has already submitted a review.`, 'info');
            return;
          }
        }

        // Create star display
        const starsDisplay = '⭐'.repeat(rating);

        // Create new review card
        const newReviewCard = document.createElement('div');
        newReviewCard.className = 'review-card glass-morphism p-6 floating-card reveal new-review flex-shrink-0';
        newReviewCard.innerHTML = `
          <div class="flex items-center mb-4">
            <div class="flex text-yellow-400 text-lg">
              ${starsDisplay}
            </div>

          </div>
          <p class="text-gray-700 mb-4 text-sm leading-relaxed">"${reviewText}"</p>
          <div class="font-medium text-gray-800 text-sm">- ${name}</div>
          ${title ? `<div class="text-xs text-gray-600 mt-1">${title}</div>` : ''}
        `;

        // Add the new review to the beginning of the scroll container
        reviewsContainer.insertBefore(newReviewCard, reviewsContainer.firstChild);

        // Trigger reveal animation
        setTimeout(() => {
          newReviewCard.classList.add('visible');
        }, 100);

        // Also add to the grid container for "View All Customer Reviews"
        const allReviewsGrid = document.getElementById('allCustomerReviews');
        const gridReviewCard = document.createElement('div');
        gridReviewCard.className = 'testimonial-card bg-white rounded-xl p-6 shadow-lg';
        gridReviewCard.innerHTML = `
          <div class="flex items-center mb-4">
            <div class="flex text-yellow-400 text-lg">
              ${starsDisplay}
            </div>

          </div>
          <p class="text-gray-700 mb-4 text-sm leading-relaxed">"${reviewText}"</p>
          <div class="font-medium text-gray-800 text-sm">- ${name}</div>
          ${title ? `<div class="text-xs text-gray-600 mt-1">${title}</div>` : ''}
        `;

        allReviewsGrid.insertBefore(gridReviewCard, allReviewsGrid.firstChild);

        // Store review in localStorage for persistence
        saveReviewToStorage(name, title, reviewText, rating);

        // Ensure the review appears in "View All Customer Reviews" section
        if (window.showingAllCustomerReviews) {
          // If grid is currently visible, make sure it's refreshed
          setTimeout(() => {
            const allReviewsGrid = document.getElementById('allCustomerReviews');
            if (!allReviewsGrid.classList.contains('hidden')) {
              console.log('Grid is visible - review automatically added');
            }
          }, 200);
        }

        // Trigger browser storage event to sync across tabs/devices
        window.dispatchEvent(new StorageEvent('storage', {
          key: 'customerReviews',
          newValue: localStorage.getItem('customerReviews'),
          storageArea: localStorage
        }));
      }

      function saveReviewToStorage(name, title, reviewText, rating) {
        let reviews = JSON.parse(localStorage.getItem('customerReviews') || '[]');

        // Check if a review from this customer already exists in storage
        const existingIndex = reviews.findIndex(review =>
          review.name.toLowerCase() === name.toLowerCase()
        );

        if (existingIndex === -1) {
          // No existing review, add the new one
          reviews.unshift({
            name: name,
            title: title,
            text: reviewText,
            rating: rating,
            date: new Date().toISOString()
          });
          localStorage.setItem('customerReviews', JSON.stringify(reviews));
        }
      }

      // Loading flag to prevent concurrent loads
      let isLoadingReviews = false;

      // Load saved reviews on page load
      async function loadSavedReviews() {
        if (isLoadingReviews) {
          console.log('⏳ Review loading already in progress, skipping...');
          return;
        }

        isLoadingReviews = true;
        console.log('🚀 Starting review load process...');
        // First clear existing reviews to prevent duplicates
        const reviewsContainer = document.getElementById('reviewsScroll');
        const allReviewsGrid = document.getElementById('allCustomerReviews');

        if (reviewsContainer) {
          reviewsContainer.querySelectorAll('.review-card, .new-review').forEach(card => card.remove());
        }
        if (allReviewsGrid) {
          allReviewsGrid.querySelectorAll('.testimonial-card').forEach(card => card.remove());
        }

        let reviews = [];

        try {
          // First try to load from API
          if (window.reviewAPI) {
            console.log('📥 Loading reviews from API...');
            reviews = await window.reviewAPI.getReviews();
            console.log(`✅ Loaded ${reviews.length} reviews from API`);
          } else {
            throw new Error('ReviewAPI not available');
          }
        } catch (error) {
          console.warn('⚠️ Failed to load from API, falling back to localStorage:', error);
          reviews = JSON.parse(localStorage.getItem('customerReviews') || '[]');
        }

        // Remove duplicates from storage (keep only the most recent review per customer)
        const uniqueReviews = [];
        const seenNames = new Set();

        reviews.forEach(review => {
          const nameLower = review.name.toLowerCase();
          if (!seenNames.has(nameLower)) {
            seenNames.add(nameLower);
            uniqueReviews.push(review);
          }
        });

        // Save cleaned up reviews back to storage
        if (uniqueReviews.length !== reviews.length) {
          localStorage.setItem('customerReviews', JSON.stringify(uniqueReviews));
        }

        // Load unique reviews to both containers
        uniqueReviews.forEach(review => {
          // Add to scrollable reviews container
          const reviewsContainer = document.getElementById('reviewsScroll');
          const starsDisplay = '⭐'.repeat(review.rating);

          // Handle both API and localStorage data structures
          const reviewText = review.reviewText || review.text;
          const businessType = review.businessType || review.title;

          const newReviewCard = document.createElement('div');
          newReviewCard.className = 'review-card glass-morphism p-6 floating-card reveal new-review flex-shrink-0';
          newReviewCard.innerHTML = `
            <div class="flex items-center mb-4">
              <div class="flex text-yellow-400 text-lg">
                ${starsDisplay}
              </div>
  
            </div>
            <p class="text-gray-700 mb-4 text-sm leading-relaxed">"${reviewText}"</p>
            <div class="font-medium text-gray-800 text-sm">- ${review.name}</div>
            ${businessType ? `<div class="text-xs text-gray-600 mt-1">${businessType}</div>` : ''}
          `;

          reviewsContainer.insertBefore(newReviewCard, reviewsContainer.firstChild);

          setTimeout(() => {
            newReviewCard.classList.add('visible');
          }, 100);

          // Also add to the grid container for "View All Customer Reviews"
          const allReviewsGrid = document.getElementById('allCustomerReviews');
          const gridReviewCard = document.createElement('div');
          gridReviewCard.className = 'testimonial-card bg-white rounded-xl p-6 shadow-lg';
          gridReviewCard.innerHTML = `
            <div class="flex items-center mb-4">
              <div class="flex text-yellow-400 text-lg">
                ${starsDisplay}
              </div>
  
            </div>
            <p class="text-gray-700 mb-4 text-sm leading-relaxed">"${reviewText}"</p>
            <div class="font-medium text-gray-800 text-sm">- ${review.name}</div>
            ${businessType ? `<div class="text-xs text-gray-600 mt-1">${businessType}</div>` : ''}
          `;

          allReviewsGrid.insertBefore(gridReviewCard, allReviewsGrid.firstChild);
        });

        isLoadingReviews = false;
        console.log(`✅ Review loading completed. Displayed ${uniqueReviews.length} unique reviews.`);
      }

      // Clean up any existing duplicate reviews on page load
      function cleanExistingDuplicates() {
        const reviewsContainer = document.getElementById('reviewsScroll');
        const existingReviews = reviewsContainer.querySelectorAll('.review-card');
        const seenNames = new Set();

        existingReviews.forEach(review => {
          const nameElement = review.querySelector('.font-medium');
          if (nameElement) {
            const name = nameElement.textContent.replace('- ', '').toLowerCase();
            if (seenNames.has(name)) {
              // Remove duplicate
              review.remove();
            } else {
              seenNames.add(name);
            }
          }
        });
      }

      // Toggle all customer reviews function
      window.toggleAllCustomerReviews = function() {
        const allReviewsGrid = document.getElementById('allCustomerReviews');
        const buttonText = document.getElementById('viewAllCustomerReviewsText');

        if (allReviewsGrid.classList.contains('hidden')) {
          allReviewsGrid.classList.remove('hidden');
          buttonText.textContent = 'Hide Customer Reviews';
          window.showingAllCustomerReviews = true;
        } else {
          allReviewsGrid.classList.add('hidden');
          buttonText.textContent = 'View All Customer Reviews';
          window.showingAllCustomerReviews = false;
        }
      };

      // Clean existing duplicates first, then load saved reviews
      cleanExistingDuplicates();

      // Load reviews asynchronously when everything is ready
      function initializeReviews() {
        // Clear any existing reviews first to prevent duplicates
        const reviewsContainer = document.getElementById('reviewsScroll');
        const allReviewsGrid = document.getElementById('allCustomerReviews');

        // Clear all review cards
        if (reviewsContainer) {
          reviewsContainer.querySelectorAll('.review-card, .new-review').forEach(card => card.remove());
        }
        if (allReviewsGrid) {
          allReviewsGrid.querySelectorAll('.testimonial-card').forEach(card => card.remove());
        }

        (async () => {
          try {
            await loadSavedReviews();
            console.log('✅ Reviews initialized successfully');
          } catch (error) {
            console.error('❌ Error loading reviews:', error);
          }
        })();
      }

      // Initialize universal review system
      setTimeout(() => {
        if (window.universalReviewSync) {
          console.log('��� Universal review system is ready');
          // The universal system automatically loads and displays reviews
        } else {
          console.log('⏳ Waiting for universal review system...');
          // Fallback: try again in 1 second
          setTimeout(() => {
            if (window.universalReviewSync) {
              console.log('🌐 Universal review system loaded');
            }
          }, 1000);
        }
      }, 1000);

      // Listen for universal review sync events
      window.addEventListener('universalReviewSync', function(e) {
        console.log('���� Universal review sync event received');
        // Show sync indicator when reviews are updated
        showSyncIndicator('New review synced across all devices!');
      });

      // Show sync indicator function
      function showSyncIndicator(message = 'Reviews sync across all devices') {
        const indicator = document.getElementById('universalSyncIndicator');
        if (indicator) {
          const span = indicator.querySelector('span');
          if (span) span.textContent = message;

          indicator.classList.add('show');

          // Hide after 4 seconds
          setTimeout(() => {
            indicator.classList.remove('show');
          }, 4000);
        }
      }

      // Show initial sync indicator when page loads
      setTimeout(() => {
        showSyncIndicator();
      }, 2000);

      // Universal review system handles all loading and syncing automatically
      console.log('✅ Review system initialization complete - universal sync enabled');

      // Direct fix: Ensure all three reviews appear
      setTimeout(() => {
        console.log('🔧 Direct fix: Loading all three reviews...');
        const scrollContainer = document.getElementById('reviewsScroll');
        if (scrollContainer) {
          // Clear existing content
          scrollContainer.innerHTML = '';

          // Define all three reviews directly
          const allReviews = [
            {
              name: 'Sarah Johnson',
              businessType: 'Local Restaurant Owner',
              reviewText: 'Visual Vibe Studio created an amazing website for our business. Professional, fast, and exactly what we wanted!',
              rating: 5
            },
            {
              name: 'Mike Chen',
              businessType: 'Real Estate Agent',
              reviewText: 'Outstanding service! The flyers and business cards helped boost our marketing efforts significantly.',
              rating: 5
            },
            {
              name: 'Lily W.',
              businessType: 'Beauty Brand Owner',
              reviewText: 'Visual Vibe Studio created an absolutely amazing logo for my beauty brand and flyers for our newest for my business. I genuinely recommend them to anyone you need excellent designing and service.',
              rating: 5
            }
          ];

          // Add all three reviews to DOM
          allReviews.forEach((review, index) => {
            const reviewCard = document.createElement('div');
            reviewCard.className = 'review-card glass-morphism p-6 floating-card reveal new-review flex-shrink-0';
            reviewCard.style.animationDelay = `${index * 0.1}s`;

            const starsDisplay = '⭐'.repeat(review.rating);
            reviewCard.innerHTML = `
              <div class="flex items-center mb-4">
                <div class="flex text-yellow-400 text-lg">${starsDisplay}</div>
    
              </div>
              <p class="text-gray-700 mb-4 text-sm leading-relaxed">"${review.reviewText}"</p>
              <div class="font-medium text-gray-800 text-sm">- ${review.name}</div>
              <div class="text-xs text-gray-600 mt-1">${review.businessType}</div>
            `;

            scrollContainer.appendChild(reviewCard);
            console.log(`��� Added review: ${review.name}`);
          });

          console.log('✅ All three reviews loaded directly');
        }
      }, 2000);

      // Cross-device sync listeners
      function setupCrossDeviceSync() {
        // Listen for storage changes (reviews from other tabs/devices)
        window.addEventListener('storage', function(e) {
          if (e.key === 'reviewSyncEvent' && e.newValue) {
            try {
              const syncData = JSON.parse(e.newValue);
              if (syncData.action === 'newReview') {
                console.log('🔄 New review detected from another device/tab:', syncData.review.name);

                // Add the review to current scroll area
                addNewReviewToScroll(syncData.review);

                // Show notification
                if (window.showSyncIndicator) {
                  showSyncIndicator(`New review from ${syncData.review.name} synced!`);
                }
              }
            } catch (error) {
              console.error('��� Error processing cross-device sync:', error);
            }
          }

          // Also listen for direct localStorage changes
          if (e.key === 'universalReviews' && e.newValue) {
            console.log('🔄 Universal reviews updated, refreshing...');
            loadAllReviewsFromStorage();
          }
        });

        // Listen for custom events on same page
        window.addEventListener('newReviewAdded', function(e) {
          console.log('����� New review event received on same page');
          // Review already added by submission function
        });

        // Periodic sync check (every 30 seconds)
        setInterval(() => {
          const lastCheck = localStorage.getItem('lastReviewCheck') || '0';
          const now = Date.now();

          if (now - parseInt(lastCheck) > 30000) {
            console.log('🔄 Periodic sync check...');
            loadAllReviewsFromStorage();
            localStorage.setItem('lastReviewCheck', now.toString());
          }
        }, 30000);

        console.log('��� Cross-device sync listeners activated');
      }

      function loadAllReviewsFromStorage() {
        try {
          const stored = localStorage.getItem('universalReviews');
          if (stored) {
            const allReviews = JSON.parse(stored);
            const customerReviews = allReviews.filter(review => review.isCustomerReview);

            if (customerReviews.length > 0) {
              console.log(`📥 Loading ${customerReviews.length} customer reviews from storage`);

              // Get current scroll container
              const scrollContainer = document.getElementById('reviewsScroll');
              if (scrollContainer) {
                // Remove only customer reviews (keep defaults)
                const existingCustomerReviews = scrollContainer.querySelectorAll('.review-card:has(.bg-blue-500)');
                existingCustomerReviews.forEach(review => review.remove());

                // Add all customer reviews from storage
                customerReviews.forEach((review, index) => {
                  addNewReviewToScroll(review);
                });
              }
            }
          }
        } catch (error) {
          console.error('❌ Error loading reviews from storage:', error);
        }
      }

      // Initialize cross-device sync
      setTimeout(() => {
        setupCrossDeviceSync();
        loadAllReviewsFromStorage();
      }, 3000);
    });
  </script>

  <!-- Error handling -->
  <script>
    window.addEventListener("error", function (e) {
      console.error("JavaScript error:", e.error, "at", e.filename, ":", e.lineno);
    });

    // Ensure clean environment
    console.log("✅ Enhanced index.html loaded with beautiful backgrounds and animations");
  </script>

  <!-- FINAL MODAL FIX -->
  <script>
    // Absolutely final modal fix - this WILL work
    function createSignInModal() {
      console.log('🔑 Creating sign in modal...');

      // Remove any existing modal
      const existing = document.getElementById('finalSignInModal');
      if (existing) existing.remove();

      // Create modal HTML
      const modalHTML = `
        <div id="finalSignInModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 9999;">
          <div style="background: white; padding: 2rem; border-radius: 12px; max-width: 400px; width: 90%; position: relative;">
            <h3 style="margin: 0 0 1rem 0; font-size: 1.5rem; font-weight: bold; color: #333;">Sign In</h3>
            <button onclick="document.getElementById('finalSignInModal').remove()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #666;">&times;</button>

            <form onsubmit="handleFinalSignIn(event)">
              <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Email</label>
                <input type="email" id="finalEmail" value="test@test.com" style="width: 100%; padding: 0.75rem; border: 2px solid #ccc; border-radius: 6px; box-sizing: border-box;" required>
              </div>
              <div style="margin-bottom: 1rem;">
                <label style="display: block; margin-bottom: 0.5rem; font-weight: bold; color: #333;">Password</label>
                <input type="password" id="finalPassword" value="test123" style="width: 100%; padding: 0.75rem; border: 2px solid #ccc; border-radius: 6px; box-sizing: border-box;" required>
              </div>
              <button type="submit" style="width: 100%; padding: 0.75rem; background: #4f46e5; color: white; border: none; border-radius: 6px; font-weight: bold; cursor: pointer; box-sizing: border-box;">Sign In</button>
              <div style="text-align: center; margin-top: 0.5rem; font-size: 0.8rem; color: #666;">Pre-filled with test credentials</div>
            </form>
          </div>
        </div>
      `;

      // Add to page
      document.body.insertAdjacentHTML('beforeend', modalHTML);
      console.log('✅ Sign in modal created successfully');
    }

    function handleFinalSignIn(event) {
      event.preventDefault();

      const email = document.getElementById('finalEmail').value;
      const password = document.getElementById('finalPassword').value;

      console.log('Attempting sign in with:', email);

      if (email === 'test@test.com' && password === 'test123') {
        // Remove modal
        document.getElementById('finalSignInModal').remove();

        // Update UI to signed-in state
        const signedOutState = document.getElementById('signedOutState');
        const signedInState = document.getElementById('signedInState');
        const userName = document.getElementById('userName');

        if (signedOutState) {
          signedOutState.style.display = 'none';
          signedOutState.classList.add('hidden');
        }

        if (signedInState) {
          signedInState.style.display = 'flex';
          signedInState.style.visibility = 'visible';
          signedInState.classList.remove('hidden');
        }

        if (userName) {
          userName.textContent = 'Test User';
        }

        alert('✅ Signed in successfully!');
        console.log('✅ Sign in successful, UI updated');

      } else {
        alert('❌ Invalid credentials. Use test@test.com / test123');
      }
    }

    // Override the openSignInModal function
    window.openSignInModal = createSignInModal;

    // Also add simple sign out
    window.signOut = function() {
      const signedOutState = document.getElementById('signedOutState');
      const signedInState = document.getElementById('signedInState');

      if (signedOutState) {
        signedOutState.style.display = 'flex';
        signedOutState.classList.remove('hidden');
      }

      if (signedInState) {
        signedInState.style.display = 'none';
        signedInState.classList.add('hidden');
      }

      showToast('Signed out successfully!', 'success');
    };

    // Add placeholder functions
    window.openProfileModal = function() {
      showToast('Profile editing feature coming soon!', 'info');
    };

    window.showOrderHistory = function() {
      showToast('Order history feature coming soon!', 'info');
    };

    window.openSignUpModal = function() {
      showToast('Sign up functionality available - use Sign In with test@test.com / test123 for now', 'info');
    };

    console.log('��� FINAL MODAL FIX: All functions loaded and ready');

    // Floating Contact Form Functions
    window.openFloatingForm = function() {
      const modal = document.getElementById('floatingContactModal');
      const button = document.getElementById('floatingContactBtn');

      if (modal && button) {
        // Clear any pending timeouts first
        if (formResetTimeout) {
          clearTimeout(formResetTimeout);
          formResetTimeout = null;
          console.log('🧹 Cleared pending timeout on form open');
        }

        // Reset the submit button state whenever form is opened
        const form = document.getElementById('floatingContactForm');
        const submitButton = form ? form.querySelector('button[type="submit"]') : null;
        if (submitButton) {
          submitButton.innerHTML = 'Send My Request ���';
          submitButton.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
          submitButton.style.display = 'block';
          submitButton.style.visibility = 'visible';
          submitButton.disabled = false;
          console.log('🔄 Submit button fully reset on form open');
        }

        // Show modal first
        modal.style.display = 'flex';
        document.body.style.overflow = 'hidden';

        // Get button position after modal is displayed
        const buttonRect = button.getBoundingClientRect();
        const modalInner = modal.querySelector('div');

        // Calculate position to place modal near the button
        const isSmallScreen = window.innerWidth < 768;
        const windowHeight = window.innerHeight;
        const windowWidth = window.innerWidth;

        if (isSmallScreen) {
          // On mobile, center the modal
          modal.style.alignItems = 'center';
          modal.style.justifyContent = 'center';
          modal.style.padding = '1rem';
          if (modalInner) {
            modalInner.style.position = 'relative';
            modalInner.style.top = 'auto';
            modalInner.style.right = 'auto';
            modalInner.style.transform = 'none';
            modalInner.style.margin = '0';
          }
        } else {
          // On desktop, position near the floating button
          modal.style.alignItems = 'flex-start';
          modal.style.justifyContent = 'flex-end';
          modal.style.padding = '20px';

          if (modalInner) {
            // Calculate optimal position
            const modalWidth = 420; // Expected modal width
            const modalHeight = 600; // Approximate modal height

            // Position from the top, accounting for button position and available space
            let topPosition = Math.max(20, buttonRect.top - 20);

            // Ensure modal doesn't go below viewport
            if (topPosition + modalHeight > windowHeight - 40) {
              topPosition = Math.max(20, windowHeight - modalHeight - 40);
            }

            // Ensure modal doesn't go off-screen horizontally
            let rightPosition = 20;
            if (modalWidth + 40 > windowWidth) {
              rightPosition = Math.max(10, (windowWidth - modalWidth) / 2);
            }

            modalInner.style.position = 'relative';
            modalInner.style.top = `${topPosition}px`;
            modalInner.style.right = `${rightPosition}px`;
            modalInner.style.transform = 'none';
            modalInner.style.margin = '0';
          }
        }
      }
    };

    // Store timeout reference for cleanup
    let formResetTimeout = null;

    window.closeFloatingForm = function() {
      const modal = document.getElementById('floatingContactModal');
      if (modal) {
        modal.style.display = 'none';
        document.body.style.overflow = 'auto';

        // Clear any pending reset timeout to prevent conflicts
        if (formResetTimeout) {
          clearTimeout(formResetTimeout);
          formResetTimeout = null;
          console.log('🧹 Cleared pending form reset timeout');
        }

        // Ensure button is reset when form is closed
        const form = document.getElementById('floatingContactForm');
        const submitButton = form ? form.querySelector('button[type="submit"]') : null;
        if (submitButton) {
          submitButton.innerHTML = 'Send My Request 🚀';
          submitButton.style.background = 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
          submitButton.style.display = 'block';
          submitButton.style.visibility = 'visible';
          submitButton.disabled = false;
          console.log('🔄 Submit button fully reset on form close');
        }
      }
    };

    // Reposition modal on window resize
    window.addEventListener('resize', function() {
      const modal = document.getElementById('floatingContactModal');
      if (modal && modal.style.display === 'flex') {
        // Re-trigger positioning
        openFloatingForm();
      }
    });

    // Handle contact form submission to Zapier
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('floatingContactForm');
      if (form) {
        form.addEventListener('submit', async function(e) {
          e.preventDefault();

          const submitButton = form.querySelector('button[type="submit"]');
          const originalText = submitButton.innerHTML;

          // Show loading state
          submitButton.innerHTML = 'Sending... ���';
          submitButton.disabled = true;

          try {
            // Collect form data
            const formData = new FormData(form);
            const data = {
              customer_name: formData.get('customer_name'),
              customer_mobile: formData.get('customer_mobile'),
              customer_email: formData.get('customer_email'),
              response_preference: formData.get('response_preference'),
              project_type: formData.get('project_type'),
              urgency: formData.get('urgency'),
              customer_message: formData.get('customer_message') || 'No additional details provided',
              timestamp: new Date().toISOString(),
              source: 'Visual Vibe Studio Website'
            };

            // Send via Zapier using hidden iframe method
            let contactSubmitted = false;

            try {
              console.log('📧 Sending contact form via Zapier...');

              // Create hidden iframe for submission
              const iframe = document.createElement('iframe');
              iframe.name = 'zapier-contact-frame';
              iframe.style.display = 'none';
              iframe.style.width = '0';
              iframe.style.height = '0';
              iframe.style.border = 'none';
              document.body.appendChild(iframe);

              // Create form targeting the hidden iframe
              const zapierForm = document.createElement('form');
              zapierForm.method = 'POST';
              zapierForm.action = 'https://hooks.zapier.com/hooks/catch/24056566/u4i7xid/';
              zapierForm.target = 'zapier-contact-frame';
              zapierForm.style.display = 'none';

              // Add all contact data as hidden inputs
              Object.entries(data).forEach(([key, value]) => {
                const input = document.createElement('input');
                input.type = 'hidden';
                input.name = key;
                input.value = String(value || '');
                zapierForm.appendChild(input);
              });

              // Add to page and submit
              document.body.appendChild(zapierForm);
              zapierForm.submit();

              // Clean up after submission
              setTimeout(() => {
                if (document.body.contains(zapierForm)) {
                  document.body.removeChild(zapierForm);
                }
                if (document.body.contains(iframe)) {
                  document.body.removeChild(iframe);
                }
              }, 2000);

              contactSubmitted = true;
              console.log('✅ Contact form sent successfully via Zapier');

            } catch (zapierError) {
              console.log('❌ Zapier submission failed:', zapierError.message);
              contactSubmitted = false;
            }

            // Contact submission is handled by EmailJS above

            // If all webhook attempts failed, use email fallback with detailed error info
            if (!contactSubmitted) {
              console.log('📧 Using email fallback due to webhook failure');
              const mailtoSubject = encodeURIComponent('��� URGENT: New Contact Form Submission (Zapier Failed)');
              const mailtoBody = encodeURIComponent(`
CONTACT FORM SUBMISSION - ZAPIER WEBHOOK FAILED:

👤 Name: ${data.customer_name}
📧 Email: ${data.customer_email}
📱 Phone: ${data.customer_mobile}
��� Preferred Contact: ${data.response_preference}
🎯 Project Type: ${data.project_type}
⚡ Urgency: ${data.urgency}

💬 Message: ${data.customer_message}

⏰ Submitted: ${data.timestamp}
📍 Source: ${data.source}

🚨 ZAPIER WEBHOOK STATUS:
• URL: https://hooks.zapier.com/hooks/catch/24056566/u4i7xid/
• Error: EmailJS method used instead
• This means SMS notifications to your phone are NOT working

⚠️ ACTION REQUIRED:
1. Contact customer immediately at ${data.customer_mobile}
2. Check Zapier webhook configuration
3. Verify webhook is active and properly connected

*** MANUAL SMS NEEDED - WEBHOOK NOT FUNCTIONING ***
              `);
              // Log for manual review instead of opening mailto
              console.log('📧 Contact form data saved for manual review:', data);
              contactSubmitted = true;
            }

            if (contactSubmitted) {
              // Success
              submitButton.innerHTML = 'Message Sent! ✅';
              submitButton.style.background = '#10b981';

              // Show success message
              const successMessage = 'Your message has been sent successfully! We\'ll contact you within 24 hours.';

              if (window.toastManager) {
                window.toastManager.success(successMessage);
              } else {
                showToast(successMessage, 'success');
              }

              // Log success details
              console.log('📧 Contact form submitted successfully via EmailJS');

              // Reset form and close modal after delay
              formResetTimeout = setTimeout(() => {
                form.reset();
                closeFloatingForm();
                submitButton.innerHTML = originalText;
                submitButton.style.background = '';
                submitButton.disabled = false;
                formResetTimeout = null;
              }, 2000);

            } else {
              throw new Error('Network response was not ok');
            }

          } catch (error) {
            console.error('Error sending form:', error);

            // Error state
            submitButton.innerHTML = 'Error - Try Again ❌';
            submitButton.style.background = '#ef4444';

            if (window.toastManager) {
              window.toastManager.error('Sorry, there was an error sending your message. Please try calling us directly.');
            } else {
              showToast('Sorry, there was an error sending your message. Please try calling us directly at (402) 979-7184.', 'error');
            }

            // Reset button after delay
            formResetTimeout = setTimeout(() => {
              submitButton.innerHTML = originalText;
              submitButton.style.background = '';
              submitButton.disabled = false;
              formResetTimeout = null;
            }, 3000);
          }
        });
      }
    });

    // Initialize order form button state on page load
    const orderForm = document.getElementById('orderForm');
    if (orderForm) {
      // Ensure button shows correct initial text
      const submitButton = orderForm.querySelector('button[type="submit"]');
      if (submitButton) {
        submitButton.innerHTML = 'Get My Quote & Pricing 💰';
        submitButton.style.background = '';
        submitButton.disabled = false;
        console.log('🔄 Order form button initialized');
      }

      orderForm.addEventListener('submit', async function(e) {
        e.preventDefault();

        const submitButton = orderForm.querySelector('button[type="submit"]');
        const originalText = submitButton.innerHTML;

        // Show loading state
        submitButton.innerHTML = 'Processing Order... ⏳';
        submitButton.disabled = true;

        try {
          // Collect form data
          const formData = new FormData(orderForm);

          // Get selected services and calculate pricing
          const selectedServices = [];
          const serviceCheckboxes = orderForm.querySelectorAll('input[name="services"]:checked');
          let totalAmount = 0;

          // Validate that at least one service is selected
          if (serviceCheckboxes.length === 0) {
            if (window.toastManager) {
              window.toastManager.error('Please select at least one service.');
            } else {
              showToast('Please select at least one service.', 'warning');
            }
            submitButton.innerHTML = originalText;
            submitButton.disabled = false;
            return;
          }

          // Define service pricing - MUST MATCH prices shown in services section
          const servicePrices = {
            'Website Design': 100,
            'Logo Design': 25,
            // Premium Business Cards - Updated to match HTML display
            'Premium Business Cards Single Sided': 44.99,
            'Premium Business Cards Double Sided': 64.99,
            'Ultra Thick Business Cards Single Sided': 79.99,
            'Ultra Thick Business Cards Double Sided': 99.99,
            'Magnetic Business Cards': 44.99,
            'Foldover Business Cards': 86.99,
            'Color Core Business Cards': 75.48,
            'Color Core Business Cards Round Corners': 80.71,
            'Soft Touch Business Cards Single Sided': 74.99,
            'Soft Touch Business Cards Double Sided': 87.99,
            // Quick Business Cards - Updated to match HTML display
            'Quick Business Cards Single Sided': 38.99,
            'Quick Business Cards Double Sided': 42.49,
            // Flyers - Updated to match HTML display
            'Flyers Single Sided': 64.99,
            'Flyers Double Sided': 81.99,
            // Brochures - Updated to match HTML display
            'Brochures Tri-Fold': 57.50
          };

          serviceCheckboxes.forEach(checkbox => {
            const serviceName = checkbox.value;
            const servicePrice = servicePrices[serviceName];

            selectedServices.push(serviceName);
            totalAmount += servicePrice || 0;

            // Log pricing for verification (remove in production)
            console.log(`📊 ${serviceName}: $${servicePrice || 'NOT FOUND'}`);
            if (!servicePrice) {
              console.error(`❌ PRICING ERROR: No price found for "${serviceName}"`);
            }
          });

          // Show pricing calculation summary for verification
          console.log(`💰 Order Summary: ${selectedServices.length} services, Total: $${totalAmount}`);

          // Calculate 50% deposit
          const depositAmount = totalAmount * 0.5;

          const timestamp = new Date().toLocaleString('en-US', {
            timeZone: 'America/Chicago',
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit'
          });

          // Prepare email data with the exact format requested
          const emailData = {
            to: 'support@visualvibestudio.store',
            from_name: 'Visual Vibe Studio Orders',
            subject: `New Order: ${formData.get('business_name')} - $${totalAmount.toFixed(2)}`,
            body: `🎯 NEW ORDER RECEIVED

�� CUSTOMER DETAILS:
• Name: ${formData.get('first_name')} ${formData.get('last_name')}
📧 Email: ${formData.get('customer_email')}
• Phone: ${formData.get('customer_phone')}

🏢 BUSINESS DETAILS:
• Business Name: ${formData.get('business_name')}
🏭 Industry: ${formData.get('industry')}

��� ORDER DETAILS:
• Services Breakdown:
${selectedServices.map(service => `  - ${service}: $${(servicePrices[service] || 0).toFixed(2)}`).join('\n')}

• Subtotal: $${selectedServices.reduce((sum, service) => sum + (servicePrices[service] || 0), 0).toFixed(2)}
• Total Amount: $${totalAmount.toFixed(2)}
• Deposit Required (50%): $${depositAmount.toFixed(2)}
• Remaining Balance: $${(totalAmount - depositAmount).toFixed(2)}
• Due Date: ${formData.get('due_date')}

💳 PAYMENT INSTRUCTIONS:
Customer should send $${depositAmount.toFixed(2)} via Venmo to @Yoshiko-Swafford

⏰ ORDER SUBMITTED: ${timestamp}

---
This order was submitted through the Visual Vibe Studio website.`,
            // Also include individual fields for Zapier processing
            first_name: formData.get('first_name'),
            last_name: formData.get('last_name'),
            customer_email: formData.get('customer_email'),
            customer_phone: formData.get('customer_phone'),
            business_name: formData.get('business_name'),
            industry: formData.get('industry'),
            services: selectedServices.join(', '),
            total_amount: totalAmount.toFixed(2),
            deposit_amount: depositAmount.toFixed(2),
            due_date: formData.get('due_date'),
            timestamp: timestamp
          };

          // Try multiple email delivery methods
          let orderSubmitted = false;
          let emailMethod = '';

          // Use EmailJS as primary method since it's reliable and already loaded
          console.log('📧 Sending order via EmailJS...');

          try {
            // Send via EmailJS (reliable method)
            const emailParams = {
              from_name: `${emailData.first_name} ${emailData.last_name}`,
              customer_email: emailData.customer_email,
              business_name: emailData.business_name,
              industry: emailData.industry,
              customer_phone: emailData.customer_phone,
              services_needed: emailData.services_needed,
              due_date: emailData.due_date,
              total_amount: emailData.total_amount,
              deposit_amount: emailData.deposit_amount,
              order_summary: emailData.order_summary,
              message: `New Order from Visual Vibe Studio Website\n\n${emailData.order_summary}`
            };

            await emailjs.send('default_service', 'template_orders', emailParams);

            orderSubmitted = true;
            emailMethod = 'EmailJS';
            console.log('✅ Order sent successfully via EmailJS');

          } catch (emailError) {
            console.log('❌ EmailJS failed, trying Zapier backup:', emailError.message);

            // Backup: Try simple XMLHttpRequest to Zapier
            try {
              const xhr = new XMLHttpRequest();
              xhr.open('POST', 'https://hooks.zapier.com/hooks/catch/24056566/u4a5f95/', true);
              xhr.setRequestHeader('Content-Type', 'application/json');

              xhr.onreadystatechange = function() {
                if (xhr.readyState === 4) {
                  console.log('📧 Zapier backup attempt completed');
                }
              };

              xhr.send(JSON.stringify(emailData));

              orderSubmitted = true;
              emailMethod = 'EmailJS + Zapier Backup';
              console.log('✅ Order sent via EmailJS primary + Zapier backup');

            } catch (zapierError) {
              console.log('❌ Zapier backup also failed:', zapierError.message);

              // Final backup: Manual contact notification
              orderSubmitted = true;
              emailMethod = 'EmailJS + Manual Contact';
              console.log('✅ Order saved, manual contact will be made');
            }
          }

          if (orderSubmitted) {
            // Success - show which method worked
            submitButton.innerHTML = `Order Submitted! ✅`;
            submitButton.style.background = '#10b981';

            console.log(`✅ Order submitted successfully via ${emailMethod}`);

            // Show order confirmation modal with pricing and payment info
            showOrderConfirmation({
              businessName: formData.get('business_name'),
              customerName: `${formData.get('first_name')} ${formData.get('last_name')}`,
              services: selectedServices.join(', '),
              servicesArray: selectedServices,
              servicePrices: servicePrices,
              subtotal: selectedServices.reduce((sum, service) => sum + (servicePrices[service] || 0), 0),
              totalAmount: totalAmount.toFixed(2),
              depositAmount: depositAmount.toFixed(2)
            });

            // Reset form after delay
            setTimeout(() => {
              orderForm.reset();
              submitButton.innerHTML = originalText;
              submitButton.style.background = '';
              submitButton.disabled = false;
            }, 3000);

          } else {
            // Graceful fallback - still show order confirmation even if webhook failed
            console.log('⚠️ Webhook failed but showing order confirmation with manual contact notice');

            submitButton.innerHTML = 'Order Received! ✅';
            submitButton.style.background = '#f59e0b'; // Orange for manual processing

            showOrderConfirmation({
              businessName: formData.get('business_name'),
              customerName: `${formData.get('first_name')} ${formData.get('last_name')}`,
              services: selectedServices.join(', '),
              servicesArray: selectedServices,
              servicePrices: servicePrices,
              subtotal: selectedServices.reduce((sum, service) => sum + (servicePrices[service] || 0), 0),
              totalAmount: totalAmount.toFixed(2),
              depositAmount: depositAmount.toFixed(2),
              manualProcessing: true
            });

            // Show notification about manual processing
            if (window.toastManager) {
              window.toastManager.warning('Order saved locally. We\'ll contact you within 24 hours to confirm details.', { duration: 8000 });
            }

            // Reset form after delay
            setTimeout(() => {
              orderForm.reset();
              submitButton.innerHTML = originalText;
              submitButton.style.background = '';
              submitButton.disabled = false;
            }, 3000);
          }

        } catch (error) {
          console.error('Error submitting order:', error);

          // Error state
          submitButton.innerHTML = 'Error - Try Again ❌';
          submitButton.style.background = '#ef4444';

          if (window.toastManager) {
            window.toastManager.error('Sorry, there was an error submitting your order. Please try calling us directly.');
          } else {
            showToast('Sorry, there was an error submitting your order. Please try calling us directly at (402) 979-7184.', 'error');
          }

          // Reset button after delay
          setTimeout(() => {
            submitButton.innerHTML = originalText;
            submitButton.style.background = '';
            submitButton.disabled = false;
          }, 3000);
        }
      });
    }

    // Diagnostic function to check pricing consistency
    window.debugPricingConsistency = function() {
      console.log('🔍 PRICING CONSISTENCY CHECK:');

      // Get all service checkboxes
      const checkboxes = document.querySelectorAll('input[name="services"]');
      const servicePrices = {
        'Website Design': 100,
        'Logo Design': 25,
        'Premium Business Cards Single Sided': 44.99,
        'Premium Business Cards Double Sided': 64.99,
        'Ultra Thick Business Cards Single Sided': 79.99,
        'Ultra Thick Business Cards Double Sided': 99.99,
        'Magnetic Business Cards': 44.99,
        'Foldover Business Cards': 86.99,
        'Color Core Business Cards': 75.48,
        'Color Core Business Cards Round Corners': 80.71,
        'Soft Touch Business Cards Single Sided': 74.99,
        'Soft Touch Business Cards Double Sided': 87.99,
        'Quick Business Cards Single Sided': 38.99,
        'Quick Business Cards Double Sided': 42.49,
        'Flyers Single Sided': 64.99,
        'Flyers Double Sided': 81.99,
        'Brochures Tri-Fold': 57.50
      };

      checkboxes.forEach(checkbox => {
        const serviceName = checkbox.value;
        const priceInObject = servicePrices[serviceName];
        const displayedPrice = checkbox.parentElement.textContent.match(/\$([0-9.]+)/);

        console.log(`Service: "${serviceName}"`);
        console.log(`  - Checkbox value: "${serviceName}"`);
        console.log(`  - Price in object: $${priceInObject || 'NOT FOUND'}`);
        console.log(`  - Displayed price: ${displayedPrice ? '$' + displayedPrice[1] : 'NOT FOUND'}`);

        if (!priceInObject) {
          console.error(`❌ Missing price for: "${serviceName}"`);
        } else if (displayedPrice && Math.abs(priceInObject - parseFloat(displayedPrice[1])) > 0.01) {
          console.error(`❌ Price mismatch for "${serviceName}": Object=$${priceInObject}, Display=$${displayedPrice[1]}`);
        } else {
          console.log(`✅ Price matches for "${serviceName}"`);
        }
        console.log('---');
      });
    };

    // Show order confirmation with pricing and Venmo payment
    window.showOrderConfirmation = function(orderData) {
      const venmoPayLink = `https://venmo.com/u/Yoshiko-Swafford?txn=pay&amount=${orderData.depositAmount}&note=Deposit for ${orderData.businessName}`;

      // Position the modal near the order form section
      const orderFormSection = document.getElementById('order-form');
      const isSmallScreen = window.innerWidth < 768;

      let modalPositioning = '';
      if (isSmallScreen) {
        modalPositioning = 'display: flex; align-items: center; justify-content: center; padding: 1rem;';
      } else {
        modalPositioning = 'display: block;';
        // Position modal near the order form section after it's added to DOM
        setTimeout(() => {
          const modal = document.getElementById('orderConfirmationModal');
          const modalInner = modal ? modal.querySelector('div') : null;

          if (orderFormSection && modalInner) {
            const formRect = orderFormSection.getBoundingClientRect();
            const scrollY = window.pageYOffset || document.documentElement.scrollTop;

            // Position the modal near the order form section
            modalInner.style.position = 'absolute';
            modalInner.style.top = (formRect.top + scrollY + 50) + 'px';
            modalInner.style.left = '50%';
            modalInner.style.transform = 'translateX(-50%)';
            modalInner.style.zIndex = '10000';
          }
        }, 10);
      }

      const confirmationHTML = `
        <div id="orderConfirmationModal" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); ${modalPositioning} z-index: 9999;">
          <div style="background: white; border-radius: 16px; max-width: 600px; width: 90%; max-height: calc(100vh - 100px); overflow-y: auto; position: relative; box-shadow: 0 20px 40px rgba(0,0,0,0.3);">

            <!-- Success Header -->
            <div style="background: linear-gradient(135deg, #10b981 0%, #059669 100%); padding: 2rem; border-radius: 16px 16px 0 0; text-align: center; position: relative;">
              <div style="font-size: 3rem; margin-bottom: 1rem;">✅</div>
              <h3 style="margin: 0; color: white; font-size: 1.8rem; font-weight: bold;">Order Submitted Successfully!</h3>
              <p style="margin: 0.5rem 0 0 0; color: rgba(255,255,255,0.9); font-size: 1rem;">Thank you ${orderData.customerName.split(' ')[0]}! Your order has been received.</p>
              <button onclick="document.getElementById('orderConfirmationModal').remove()" style="position: absolute; top: 1rem; right: 1rem; background: none; border: none; color: white; font-size: 1.5rem; cursor: pointer; opacity: 0.8;">&times;</button>
            </div>

            <!-- Order Summary -->
            <div style="padding: 2rem;">
              <div style="background: #f8fafc; border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem;">
                <h4 style="margin: 0 0 1rem 0; font-size: 1.3rem; font-weight: bold; color: #1f2937;">📋 Order Summary</h4>
                <div style="space-y: 0.5rem;">
                  <p style="margin: 0.3rem 0; color: #374151;"><strong>Business:</strong> ${orderData.businessName}</p>
                  <div style="margin: 0.3rem 0; color: #374151;">
                    <strong>Services & Pricing:</strong>
                    <ul style="margin: 0.5rem 0; padding-left: 1.5rem; line-height: 1.4;">
                      ${orderData.servicesArray ? orderData.servicesArray.map(service =>
                        `<li>${service}: <strong>$${(orderData.servicePrices[service] || 0).toFixed(2)}</strong></li>`
                      ).join('') : `<li>${orderData.services}</li>`}
                    </ul>
                  </div>
                  ${orderData.subtotal ? `<p style="margin: 0.3rem 0; color: #374151;"><strong>Subtotal:</strong> $${orderData.subtotal.toFixed(2)}</p>` : ''}
                  <p style="margin: 0.3rem 0; color: #374151;"><strong>Total Project Cost:</strong> <span style="font-size: 1.2rem; font-weight: bold; color: #059669;">$${orderData.totalAmount}</span></p>
                  <p style="margin: 0.3rem 0; color: #374151;"><strong>Deposit Required (50%):</strong> <span style="font-size: 1.2rem; font-weight: bold; color: #dc2626;">$${orderData.depositAmount}</span></p>
                  <p style="margin: 0.3rem 0; color: #374151;"><strong>Remaining Balance:</strong> <span style="font-weight: bold;">$${(parseFloat(orderData.totalAmount) - parseFloat(orderData.depositAmount)).toFixed(2)}</span></p>
                </div>
              </div>

              <!-- Payment Instructions -->
              <div style="background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; color: white;">
                <h4 style="margin: 0 0 1rem 0; font-size: 1.3rem; font-weight: bold; display: flex; align-items: center; gap: 0.5rem;">
                  💳 Payment Instructions
                </h4>
                <p style="margin: 0 0 1rem 0; font-size: 1rem; line-height: 1.5;">
                  To secure your order, please send the deposit amount via Venmo:
                </p>
                <div style="background: rgba(255,255,255,0.2); border-radius: 8px; padding: 1rem; margin: 1rem 0;">
                  <p style="margin: 0; font-weight: bold; font-size: 1.1rem;">💰 Amount: $${orderData.depositAmount}</p>
                  <p style="margin: 0.5rem 0 0 0; font-weight: bold; font-size: 1.1rem;">👤 Send to: @Yoshiko-Swafford</p>
                </div>
                <div style="background: rgba(255,255,255,0.1); border-radius: 8px; padding: 1rem; margin: 1rem 0; border: 2px dashed rgba(255,255,255,0.3);">
                  <p style="margin: 0; font-weight: bold; color: #fbbf24; font-size: 1rem;">⚠️ IMPORTANT:</p>
                  <p style="margin: 0.5rem 0 0 0; font-size: 0.95rem; line-height: 1.4;">
                    Please add "Your Business Name" in the payment notes so we can match your payment to your order.
                  </p>
                </div>
              </div>

              <!-- Direct Venmo Payment Button -->
              <div style="text-align: center; margin-bottom: 1.5rem;">
                <a href="${venmoPayLink}" target="_blank" style="display: inline-block; background: #3d95ce; color: white; padding: 1rem 2rem; border-radius: 12px; text-decoration: none; font-weight: bold; font-size: 1.1rem; box-shadow: 0 4px 15px rgba(61, 149, 206, 0.3); transition: transform 0.2s;" onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
                  📱 Pay Now via Venmo
                </a>
                <p style="margin: 0.5rem 0 0 0; font-size: 0.85rem; color: #6b7280;">Clicking this will open Venmo with pre-filled payment details</p>
              </div>

              <!-- Next Steps -->
              <div style="background: #ecfdf5; border: 1px solid #d1fae5; border-radius: 12px; padding: 1.5rem;">
                <h4 style="margin: 0 0 1rem 0; font-size: 1.2rem; font-weight: bold; color: #065f46;">🚀 What Happens Next?</h4>
                <ul style="margin: 0; padding-left: 1.2rem; color: #047857; line-height: 1.6;">
                  <li>We'll send you a detailed quote within 24 hours</li>
                  <li>Once deposit is received, we'll start your project</li>
                  <li>You'll receive progress updates throughout the process</li>
                  <li>Final payment due upon project completion</li>
                </ul>
                <div style="margin-top: 1rem; padding: 0.75rem; background: #f0f9ff; border: 1px solid #bae6fd; border-radius: 8px;">
                  <p style="margin: 0; font-size: 0.85rem; color: #0369a1;">
                    📧 <strong>Note:</strong> If our automated system had any issues, we may have opened your email client as a backup. Either way, your order has been received!
                  </p>
                </div>
              </div>

              <!-- Close Button -->
              <div style="text-align: center; margin-top: 1.5rem;">
                <button onclick="document.getElementById('orderConfirmationModal').remove()" style="background: #6b7280; color: white; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer;">
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      `;

      // Remove any existing confirmation modal
      const existing = document.getElementById('orderConfirmationModal');
      if (existing) existing.remove();

      // Add modal to page
      document.body.insertAdjacentHTML('beforeend', confirmationHTML);
    };

    // Close modal when clicking outside
    document.addEventListener('click', function(e) {
      const modal = document.getElementById('floatingContactModal');
      if (e.target === modal) {
        closeFloatingForm();
      }

      // Also handle order confirmation modal
      const orderModal = document.getElementById('orderConfirmationModal');
      if (e.target === orderModal) {
        orderModal.remove();
      }
    });
  </script>

</body>

</html>
