<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Professional design services for your business. Custom websites, flyers, and business cards. Starting from $50. Visual Vibe Studio - Building brands that stand out."
    />
    <meta
      name="keywords"
      content="web design, business cards, flyers, graphic design, business branding, visual design"
    />
    <meta name="author" content="Visual Vibe Studio" />
    <meta name="robots" content="index, follow" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.visualvibestudio.store/" />
    <meta
      property="og:title"
      content="Visual Vibe Studio - Professional Design Services"
    />
    <meta
      property="og:description"
      content="Custom websites, flyers, and business cards. Professional designs that make your business stand out."
    />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://www.visualvibestudio.store/"
    />
    <meta
      property="twitter:title"
      content="Visual Vibe Studio - Professional Design Services"
    />
    <meta
      property="twitter:description"
      content="Custom websites, flyers, and business cards. Professional designs that make your business stand out."
    />

    <title>
      Visual Vibe Studio | Professional Design Services |
      www.visualvibestudio.store
    </title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <script>
      // Initialize EmailJS with a working public key
      (function () {
        emailjs.init("eHAEIqw8YtVZP5rYA"); // Public key for contact forms
      })();
    </script>

    <style>
      body {
        font-family: "Inter", sans-serif;
      }

      /* Loading states */
      .loading {
        opacity: 0.6;
        pointer-events: none;
      }

      /* Smooth scrolling */
      html {
        scroll-behavior: smooth;
      }

      /* Form improvements */
      .form-field:focus {
        outline: none;
        ring: 2px;
        ring-color: rgb(99 102 241);
      }

      /* Mobile improvements */
      @media (max-width: 768px) {
        .mobile-stack {
          display: block !important;
        }

        .mobile-full {
          width: 100% !important;
        }

        .mobile-text-sm {
          font-size: 0.875rem !important;
        }
      }

      /* Print styles */
      @media print {
        .no-print {
          display: none !important;
        }
      }

      /* Floating Action Button */
      .floating-action {
        position: fixed;
        left: 20px;
        bottom: 100px;
        z-index: 999;
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0%, 100% { transform: translateY(0px); }
        50% { transform: translateY(-10px); }
      }

      .floating-phone {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #10b981, #059669);
        box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .floating-phone:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 35px rgba(16, 185, 129, 0.4);
      }

      /* Chat Widget Styles */
      .chat-widget {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 1000;
        font-family: 'Inter', sans-serif;
      }

      .chat-bubble {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        box-shadow:
          0 8px 25px rgba(99, 102, 241, 0.3),
          0 0 40px rgba(139, 92, 246, 0.2),
          inset 0 1px 0 rgba(255, 255, 255, 0.2);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        animation: pulse 2s infinite;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .chat-bubble:hover {
        transform: scale(1.1);
        box-shadow: 0 12px 35px rgba(99, 102, 241, 0.4);
      }

      .chat-bubble.active {
        background: linear-gradient(135deg, #ef4444, #f97316);
        animation: none;
      }

      @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(99, 102, 241, 0); }
        100% { box-shadow: 0 0 0 0 rgba(99, 102, 241, 0); }
      }

      .chat-window {
        position: absolute;
        bottom: 80px;
        right: 0;
        width: 350px;
        height: 500px;
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        display: none;
        flex-direction: column;
        overflow: hidden;
        border: 1px solid #e5e7eb;
      }

      .chat-window.open {
        display: flex;
        animation: slideUp 0.3s ease-out;
      }

      @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      .chat-header {
        background: linear-gradient(135deg, #6366f1, #8b5cf6);
        color: white;
        padding: 16px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .chat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 16px;
        background: #f9fafb;
        display: flex;
        flex-direction: column;
        gap: 12px;
      }

      .chat-message {
        max-width: 80%;
        padding: 12px 16px;
        border-radius: 18px;
        word-wrap: break-word;
        font-size: 14px;
        line-height: 1.4;
      }

      .chat-message.agent {
        background: #6366f1;
        color: white;
        align-self: flex-start;
        border-bottom-left-radius: 4px;
      }

      .chat-message.user {
        background: #e5e7eb;
        color: #374151;
        align-self: flex-end;
        border-bottom-right-radius: 4px;
      }

      .chat-typing {
        display: flex;
        align-items: center;
        padding: 12px 16px;
        background: #6366f1;
        color: white;
        border-radius: 18px;
        border-bottom-left-radius: 4px;
        align-self: flex-start;
        max-width: 80px;
      }

      .typing-dots {
        display: flex;
        gap: 4px;
      }

      .typing-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: white;
        animation: typing 1.4s infinite ease-in-out;
      }

      .typing-dot:nth-child(1) { animation-delay: -0.32s; }
      .typing-dot:nth-child(2) { animation-delay: -0.16s; }

      @keyframes typing {
        0%, 80%, 100% { transform: scale(0); opacity: 0.5; }
        40% { transform: scale(1); opacity: 1; }
      }

      .chat-input-area {
        padding: 16px;
        border-top: 1px solid #e5e7eb;
        background: white;
      }

      .chat-input-container {
        display: flex;
        gap: 8px;
        align-items: flex-end;
      }

      .chat-input {
        flex: 1;
        border: 1px solid #d1d5db;
        border-radius: 20px;
        padding: 12px 16px;
        font-size: 14px;
        resize: none;
        max-height: 100px;
        min-height: 44px;
      }

      .chat-input:focus {
        outline: none;
        border-color: #6366f1;
        box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      }

      .chat-send-btn {
        background: #6366f1;
        color: white;
        border: none;
        border-radius: 50%;
        width: 44px;
        height: 44px;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .chat-send-btn:hover:not(:disabled) {
        background: #5048e5;
        transform: scale(1.05);
      }

      .chat-send-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .agent-status {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 13px;
      }

      .status-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: #10b981;
        animation: pulse-status 2s infinite;
      }

      @keyframes pulse-status {
        0% { opacity: 1; }
        50% { opacity: 0.5; }
        100% { opacity: 1; }
      }

      .chat-notification {
        position: absolute;
        top: -8px;
        right: -8px;
        background: #ef4444;
        color: white;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 12px;
        font-weight: bold;
        animation: bounce 1s infinite;
      }

      @keyframes bounce {
        0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
        40% { transform: translateY(-10px); }
        60% { transform: translateY(-5px); }
      }

      @media (max-width: 480px) {
        .chat-window {
          width: calc(100vw - 20px);
          right: -10px;
          height: 70vh;
        }
      }

      /* Professional Background Styles */
      .brand-gradient-bg {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 25%, #d946ef 50%, #ec4899 75%, #f59e0b 100%);
        background-size: 400% 400%;
        animation: gradientShift 8s ease infinite;
      }

      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      .geometric-pattern {
        background-image:
          radial-gradient(circle at 25% 25%, rgba(255,255,255,0.1) 2px, transparent 2px),
          radial-gradient(circle at 75% 75%, rgba(255,255,255,0.1) 2px, transparent 2px),
          linear-gradient(45deg, rgba(255,255,255,0.05) 25%, transparent 25%),
          linear-gradient(-45deg, rgba(255,255,255,0.05) 25%, transparent 25%);
        background-size: 60px 60px, 60px 60px, 30px 30px, 30px 30px;
        background-position: 0 0, 30px 30px, 0 0, 15px 15px;
      }

      .professional-mesh {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        position: relative;
      }

      .professional-mesh::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background:
          radial-gradient(ellipse 800px 600px at 120% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
          radial-gradient(ellipse 600px 400px at 80% 20%, rgba(255, 119, 198, 0.3) 0%, transparent 50%),
          radial-gradient(ellipse 400px 300px at 20% 60%, rgba(120, 200, 255, 0.3) 0%, transparent 50%);
        opacity: 0.8;
      }

      .floating-elements {
        position: absolute;
        width: 100%;
        height: 100%;
        overflow: hidden;
        pointer-events: none;
      }

      .floating-elements::before,
      .floating-elements::after {
        content: '';
        position: absolute;
        border-radius: 50%;
        background: linear-gradient(45deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
        animation: float 6s ease-in-out infinite;
      }

      .floating-elements::before {
        width: 120px;
        height: 120px;
        top: 20%;
        left: 10%;
        animation-delay: 0s;
      }

      .floating-elements::after {
        width: 80px;
        height: 80px;
        top: 60%;
        right: 15%;
        animation-delay: 3s;
      }

      .section-divider {
        height: 100px;
        background: linear-gradient(to bottom, transparent 0%, rgba(99, 102, 241, 0.1) 50%, transparent 100%);
        position: relative;
        overflow: hidden;
      }

      .section-divider::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 200%;
        height: 100%;
        background: linear-gradient(90deg, transparent 0%, rgba(139, 92, 246, 0.3) 50%, transparent 100%);
        animation: sweep 4s ease-in-out infinite;
      }

      @keyframes sweep {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
      }

      .glass-morphism {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
      }

      .neon-glow {
        box-shadow:
          0 0 20px rgba(99, 102, 241, 0.3),
          0 0 40px rgba(139, 92, 246, 0.2),
          0 0 60px rgba(236, 72, 153, 0.1);
      }

      /* Review System Styles */
      .star-rating {
        border: none;
        background: none;
        padding: 0;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .star-rating:hover {
        transform: scale(1.1);
      }

      .star-rating.active {
        color: #fbbf24 !important;
      }

      .review-card {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        padding: 24px;
        transition: all 0.3s ease;
      }

      .review-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
      }

      .review-stars {
        color: #fbbf24;
        font-size: 1.1rem;
      }

      .review-text {
        line-height: 1.6;
        color: #4a5568;
      }

      .review-author {
        color: #2d3748;
        font-weight: 600;
      }

      .review-service {
        background: #edf2f7;
        color: #4a5568;
        padding: 4px 12px;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 500;
      }

      /* Ensure review section is always visible */
      #reviews {
        display: block !important;
        visibility: visible !important;
        min-height: 1000px !important;
      }

      #reviewForm, #reviewsContainer {
        display: block !important;
        visibility: visible !important;
        min-height: 600px !important;
      }

      #reviewForm input, #reviewForm textarea, #reviewForm select {
        display: block !important;
        visibility: visible !important;
        margin-bottom: 1rem !important;
        background: white !important;
        border: 2px solid #e5e7eb !important;
        padding: 12px !important;
        width: 100% !important;
        box-sizing: border-box !important;
        border-radius: 8px !important;
        font-size: 16px !important;
      }

      #reviewForm button {
        display: block !important;
        visibility: visible !important;
        margin-top: 1rem !important;
        background: linear-gradient(to right, #6366f1, #8b5cf6) !important;
        color: white !important;
        border: none !important;
        padding: 12px 24px !important;
        width: 100% !important;
        border-radius: 8px !important;
        font-size: 16px !important;
        font-weight: 600 !important;
        cursor: pointer !important;
      }

      #reviewForm label {
        display: block !important;
        visibility: visible !important;
        margin-bottom: 8px !important;
        font-weight: 600 !important;
        color: #374151 !important;
        font-size: 14px !important;
      }

      #reviewForm > div {
        display: block !important;
        visibility: visible !important;
        margin-bottom: 24px !important;
        width: 100% !important;
      }

      /* Star rating buttons */
      .star-rating {
        display: inline-block !important;
        visibility: visible !important;
        margin-right: 8px !important;
        background: none !important;
        border: none !important;
        font-size: 24px !important;
        cursor: pointer !important;
        padding: 4px !important;
      }

      /* Reviews display area */
      #reviewsContainer {
        background: #f9fafb !important;
        border-radius: 8px !important;
        padding: 16px !important;
      }
    </style>
  </head>
  <body class="relative bg-gradient-to-br from-slate-50 via-white to-indigo-50/30 text-gray-900">
    <!-- Global Professional Background Elements -->
    <div class="fixed inset-0 pointer-events-none z-0 overflow-hidden">
      <div class="absolute top-1/4 left-0 w-64 h-64 bg-gradient-to-r from-indigo-100/20 to-transparent rounded-full blur-3xl animate-pulse"></div>
      <div class="absolute bottom-1/4 right-0 w-64 h-64 bg-gradient-to-l from-purple-100/20 to-transparent rounded-full blur-3xl animate-pulse" style="animation-delay: 3s;"></div>
    </div>
    <header class="glass-morphism shadow-xl p-4 sticky top-0 z-50 border-b border-white/20">
      <div class="max-w-7xl mx-auto flex justify-between items-center">
        <div class="flex items-center space-x-3">
          <img
            src="https://cdn.builder.io/api/v1/image/assets%2F5015b2985ffe4a9ca5064ae99f72812a%2Fff0a451500144e83b9957a3f0ca320e8?format=webp&width=800"
            alt="Visual Vibe Studio Logo"
            class="h-10 w-10 object-contain"
          />
          <h1 class="text-2xl font-bold text-indigo-600">Visual Vibe Studio</h1>
        </div>
        <nav class="flex items-center space-x-4">
          <a href="#services" class="text-gray-700 hover:text-indigo-600"
            >Services</a
          >
          <a href="#reviews" class="text-gray-700 hover:text-indigo-600"
            >Reviews</a
          >
          <a href="#order" class="text-gray-700 hover:text-indigo-600">Order</a>
          <a href="#contact" class="text-gray-700 hover:text-indigo-600"
            >Contact</a
          >

          <!-- User Account Section -->
          <div id="userAccountSection" class="flex items-center space-x-3">
            <!-- Signed Out State -->
            <div id="signedOutState" class="flex items-center space-x-2">
              <button onclick="openSignInModal()" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors text-sm font-medium">
                Sign In
              </button>
              <button onclick="openSignUpModal()" class="border border-indigo-600 text-indigo-600 px-4 py-2 rounded-lg hover:bg-indigo-50 transition-colors text-sm font-medium">
                Sign Up
              </button>
            </div>

            <!-- Signed In State -->
            <div id="signedInState" class="flex items-center space-x-3 hidden">
              <div class="flex items-center space-x-2">
                <div class="bg-indigo-100 p-2 rounded-full">
                  <svg class="w-4 h-4 text-indigo-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                  </svg>
                </div>
                <span id="userDisplayName" class="text-gray-700 font-medium"></span>
              </div>
              <button onclick="showOrderHistory()" class="text-indigo-600 hover:text-indigo-800 text-sm font-medium">
                My Orders
              </button>
              <button onclick="signOut()" class="text-gray-500 hover:text-gray-700 text-sm">
                Sign Out
              </button>
            </div>
          </div>
        </nav>
      </div>
    </header>

    <!-- Enhanced Hero Section -->
    <section class="relative overflow-hidden brand-gradient-bg text-white">
      <!-- Professional Background Pattern -->
      <div class="absolute inset-0 geometric-pattern opacity-30"></div>

      <!-- Floating Professional Elements -->
      <div class="floating-elements">
        <div class="absolute top-1/4 left-1/4 w-24 h-24 glass-morphism rounded-full animate-pulse"></div>
        <div class="absolute top-1/3 right-1/4 w-16 h-16 glass-morphism rounded-full animate-bounce" style="animation-delay: 2s;"></div>
        <div class="absolute bottom-1/4 left-1/3 w-20 h-20 glass-morphism rounded-full animate-pulse" style="animation-delay: 4s;"></div>
        <div class="absolute top-1/2 right-1/3 w-12 h-12 neon-glow rounded-full bg-white/10 animate-bounce" style="animation-delay: 1s;"></div>
      </div>

      <!-- Mesh Gradient Overlay -->
      <div class="absolute inset-0 professional-mesh opacity-20"></div>

      <div class="relative z-10 max-w-7xl mx-auto px-4 py-20 text-center">
        <div class="mb-8">
          <h2 class="text-5xl md:text-6xl font-bold mb-6 leading-tight">
            Transform Your Business with
            <span class="bg-gradient-to-r from-yellow-300 to-pink-300 bg-clip-text text-transparent">
              Stunning Designs
            </span>
          </h2>
          <p class="text-xl md:text-2xl text-indigo-100 mb-8 max-w-3xl mx-auto leading-relaxed">
            From eye-catching logos to professional websites - we create designs that turn visitors into customers and make your competition jealous.
          </p>
        </div>

        <!-- Value Propositions -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
          <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 transform hover:scale-105 transition-all duration-300">
            <div class="text-3xl mb-3">⚡</div>
            <h3 class="text-lg font-semibold mb-2">Lightning Fast</h3>
            <p class="text-indigo-200 text-sm">Most projects completed in 5-7 days</p>
          </div>
          <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 transform hover:scale-105 transition-all duration-300">
            <div class="text-3xl mb-3">💎</div>
            <h3 class="text-lg font-semibold mb-2">Premium Quality</h3>
            <p class="text-indigo-200 text-sm">Professional designs that wow your customers</p>
          </div>
          <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6 transform hover:scale-105 transition-all duration-300">
            <div class="text-3xl mb-3">🎯</div>
            <h3 class="text-lg font-semibold mb-2">100% Satisfaction</h3>
            <p class="text-indigo-200 text-sm">3 rounds of revisions included</p>
          </div>
        </div>

        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
          <a href="#services" class="bg-white text-indigo-600 px-8 py-4 rounded-full font-bold text-lg hover:bg-yellow-300 hover:text-indigo-700 transition-all duration-300 transform hover:scale-105 shadow-2xl">
            🚀 See Our Services
          </a>
          <a href="#portfolio" class="border-2 border-white text-white px-8 py-4 rounded-full font-semibold text-lg hover:bg-white hover:text-indigo-600 transition-all duration-300 transform hover:scale-105">
            View Portfolio
          </a>
        </div>

        <!-- Trust Indicators -->
        <div class="mt-16 pt-8 border-t border-white/20">
          <p class="text-indigo-200 mb-4">Trusted by 200+ businesses nationwide</p>
          <div class="flex justify-center items-center space-x-8 opacity-60">
            <div class="text-2xl">⭐⭐⭐⭐⭐</div>
            <div class="text-sm">4.9/5 Customer Rating</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Professional Section Divider -->
    <div class="section-divider"></div>

    <!-- Portfolio Showcase Section -->
    <section id="portfolio" class="py-20 relative">
      <!-- Professional Background -->
      <div class="absolute inset-0 bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50"></div>
      <div class="absolute inset-0 opacity-30">
        <div class="absolute top-0 left-0 w-full h-full bg-gradient-to-r from-transparent via-indigo-100/30 to-transparent transform rotate-12"></div>
        <div class="absolute bottom-0 right-0 w-full h-full bg-gradient-to-l from-transparent via-purple-100/30 to-transparent transform -rotate-12"></div>
      </div>
      <div class="max-w-7xl mx-auto px-4">
        <div class="text-center mb-16">
          <h3 class="text-4xl font-bold text-gray-800 mb-4">Our Work Speaks Volumes</h3>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            See how we've helped businesses like yours stand out with professional, conversion-focused designs.
          </p>
        </div>

        <!-- Portfolio Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16">
          <!-- Website Example -->
          <div class="group bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl">
            <div class="bg-gradient-to-br from-blue-500 to-purple-600 h-48 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/10"></div>
              <div class="relative z-10 text-white text-center">
                <div class="text-4xl mb-2">🌐</div>
                <h4 class="text-lg font-bold">Modern Restaurant Website</h4>
                <p class="text-sm opacity-90">Increased online orders by 150%</p>
              </div>
              <div class="absolute -bottom-2 -right-2 w-20 h-20 bg-white/20 rounded-full"></div>
            </div>
            <div class="p-6">
              <h5 class="font-semibold text-gray-800 mb-2">Local Restaurant</h5>
              <p class="text-gray-600 text-sm mb-4">Complete website redesign with online ordering system and mobile optimization.</p>
              <div class="flex items-center justify-between">
                <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-medium">Website Design</span>
                <span class="text-green-600 font-semibold">+150% Orders</span>
              </div>
            </div>
          </div>

          <!-- Logo Example -->
          <div class="group bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl">
            <div class="bg-gradient-to-br from-green-500 to-teal-600 h-48 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/10"></div>
              <div class="relative z-10 text-white text-center">
                <div class="text-4xl mb-2">⚡</div>
                <h4 class="text-lg font-bold">Tech Startup Logo</h4>
                <p class="text-sm opacity-90">Boosted brand recognition by 300%</p>
              </div>
              <div class="absolute -top-2 -left-2 w-16 h-16 bg-white/20 rounded-full"></div>
            </div>
            <div class="p-6">
              <h5 class="font-semibold text-gray-800 mb-2">Tech Startup</h5>
              <p class="text-gray-600 text-sm mb-4">Modern logo design that perfectly captures their innovative spirit and technical expertise.</p>
              <div class="flex items-center justify-between">
                <span class="bg-green-100 text-green-800 px-3 py-1 rounded-full text-xs font-medium">Logo Design</span>
                <span class="text-green-600 font-semibold">+300% Recognition</span>
              </div>
            </div>
          </div>

          <!-- Marketing Materials Example -->
          <div class="group bg-white rounded-2xl shadow-lg overflow-hidden transform hover:scale-105 transition-all duration-300 hover:shadow-2xl">
            <div class="bg-gradient-to-br from-pink-500 to-orange-500 h-48 flex items-center justify-center relative overflow-hidden">
              <div class="absolute inset-0 bg-black/10"></div>
              <div class="relative z-10 text-white text-center">
                <div class="text-4xl mb-2">📊</div>
                <h4 class="text-lg font-bold">Marketing Campaign</h4>
                <p class="text-sm opacity-90">Generated 50+ new leads</p>
              </div>
              <div class="absolute bottom-0 right-0 w-24 h-24 bg-white/20 rounded-tl-full"></div>
            </div>
            <div class="p-6">
              <h5 class="font-semibold text-gray-800 mb-2">Fitness Center</h5>
              <p class="text-gray-600 text-sm mb-4">Complete marketing package: flyers, business cards, and promotional brochures.</p>
              <div class="flex items-center justify-between">
                <span class="bg-pink-100 text-pink-800 px-3 py-1 rounded-full text-xs font-medium">Full Package</span>
                <span class="text-green-600 font-semibold">50+ New Leads</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Portfolio CTA -->
        <div class="text-center bg-white rounded-2xl p-8 shadow-lg">
          <h4 class="text-2xl font-bold text-gray-800 mb-4">Ready to Join Our Success Stories?</h4>
          <p class="text-gray-600 mb-6">Let's create something amazing for your business too.</p>
          <a href="#order" class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-4 rounded-full font-semibold hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-lg">
            Start Your Project Today
          </a>
        </div>
      </div>
    </section>

    <section id="services" class="max-w-7xl mx-auto py-12 px-4">
      <div class="text-center mb-16">
        <h3 class="text-4xl font-bold text-gray-800 mb-4">Professional Design Services</h3>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          From concept to completion, we deliver designs that drive results and make your business unforgettable.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6">
        <!-- Website Service -->
        <div class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-indigo-500 to-purple-600 opacity-10 rounded-bl-full"></div>
          <div class="absolute top-4 right-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
            From $100
          </div>
          <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">🌐</div>
          <h4 class="text-xl font-bold text-gray-800 pr-20 mb-3">
            Business Website
          </h4>
          <p class="text-gray-600 mb-4 leading-relaxed">
            Mobile-optimized websites that convert visitors into customers. Includes hosting setup and SEO basics.
          </p>
          <div class="space-y-2 text-sm text-gray-500">
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Mobile responsive design
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Contact forms & social links
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Basic SEO optimization
            </div>
          </div>
        </div>

        <!-- Brochure Service -->
        <div class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 opacity-10 rounded-bl-full"></div>
          <div class="absolute top-4 right-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
            $80
          </div>
          <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">📖</div>
          <h4 class="text-xl font-bold text-gray-800 pr-16 mb-3">
            Business Brochure
          </h4>
          <p class="text-gray-600 mb-4 leading-relaxed">
            Tri-fold or bi-fold brochures that tell your story and showcase your services professionally.
          </p>
          <div class="space-y-2 text-sm text-gray-500">
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Print-ready high resolution
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Professional copywriting tips
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Multiple format options
            </div>
          </div>
        </div>

        <!-- Flyer Service -->
        <div class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-green-500 to-teal-500 opacity-10 rounded-bl-full"></div>
          <div class="absolute top-4 right-4 bg-gradient-to-r from-green-500 to-teal-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
            $65
          </div>
          <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">📋</div>
          <h4 class="text-xl font-bold text-gray-800 pr-16 mb-3">
            Marketing Flyer
          </h4>
          <p class="text-gray-600 mb-4 leading-relaxed">
            Eye-catching promotional flyers that grab attention and drive action for events, sales, and announcements.
          </p>
          <div class="space-y-2 text-sm text-gray-500">
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Single or double-sided
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Social media versions
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              QR code integration
            </div>
          </div>
        </div>

        <!-- Business Card Service -->
        <div class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-500 opacity-10 rounded-bl-full"></div>
          <div class="absolute top-4 right-4 bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
            $50
          </div>
          <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">💼</div>
          <h4 class="text-xl font-bold text-gray-800 pr-16 mb-3">
            Business Cards
          </h4>
          <p class="text-gray-600 mb-4 leading-relaxed">
            Premium business cards that make lasting first impressions and keep you top-of-mind.
          </p>
          <div class="space-y-2 text-sm text-gray-500">
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Standard & premium finishes
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              QR codes for digital contact
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Multiple design concepts
            </div>
          </div>
        </div>

        <!-- Logo Service -->
        <div class="group bg-white p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-2 relative overflow-hidden">
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-br from-yellow-500 to-orange-500 opacity-10 rounded-bl-full"></div>
          <div class="absolute top-4 right-4 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-semibold shadow-lg">
            $25
          </div>
          <div class="text-4xl mb-4 transform group-hover:scale-110 transition-transform duration-300">⚡</div>
          <h4 class="text-xl font-bold text-gray-800 pr-16 mb-3">
            Logo Design
          </h4>
          <p class="text-gray-600 mb-4 leading-relaxed">
            Memorable logos that capture your brand essence and work perfectly across all platforms.
          </p>
          <div class="space-y-2 text-sm text-gray-500">
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Vector & raster formats
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Color & B&W versions
            </div>
            <div class="flex items-center">
              <span class="text-green-500 mr-2">✓</span>
              Brand guidelines included
            </div>
          </div>
        </div>
      </div>

      <!-- Service Benefits Section -->
      <div class="mt-20 bg-gradient-to-r from-indigo-50 to-purple-50 rounded-2xl p-8">
        <div class="text-center mb-12">
          <h4 class="text-3xl font-bold text-gray-800 mb-4">Why Choose Visual Vibe Studio?</h4>
          <p class="text-gray-600 max-w-2xl mx-auto">Every project includes these premium features at no extra cost</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <div class="text-center">
            <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl">🚀</span>
            </div>
            <h5 class="font-semibold text-gray-800 mb-2">Fast Delivery</h5>
            <p class="text-gray-600 text-sm">Most projects completed within 5-7 business days</p>
          </div>

          <div class="text-center">
            <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl">🔄</span>
            </div>
            <h5 class="font-semibold text-gray-800 mb-2">Free Revisions</h5>
            <p class="text-gray-600 text-sm">Up to 3 rounds of revisions included</p>
          </div>

          <div class="text-center">
            <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl">📱</span>
            </div>
            <h5 class="font-semibold text-gray-800 mb-2">Mobile Optimized</h5>
            <p class="text-gray-600 text-sm">All designs work perfectly on any device</p>
          </div>

          <div class="text-center">
            <div class="bg-yellow-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <span class="text-2xl">🎯</span>
            </div>
            <h5 class="font-semibold text-gray-800 mb-2">Results Focused</h5>
            <p class="text-gray-600 text-sm">Designs proven to increase conversions</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Customer Testimonials Section -->
    <section class="py-20 brand-gradient-bg text-white relative overflow-hidden">
      <!-- Professional Background Elements -->
      <div class="absolute inset-0 geometric-pattern opacity-20"></div>
      <div class="floating-elements">
        <div class="absolute top-1/4 left-1/4 w-32 h-32 glass-morphism rounded-full neon-glow"></div>
        <div class="absolute bottom-1/4 right-1/4 w-24 h-24 glass-morphism rounded-full neon-glow" style="animation-delay: 2s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-40 h-40 glass-morphism rounded-full neon-glow" style="animation-delay: 4s;"></div>
      </div>

      <!-- Professional Mesh Overlay -->
      <div class="absolute inset-0 professional-mesh opacity-30"></div>

      <div class="relative z-10 max-w-7xl mx-auto px-4">
        <div class="text-center mb-16">
          <h3 class="text-4xl font-bold mb-4">What Our Customers Say</h3>
          <p class="text-xl text-purple-200 max-w-3xl mx-auto">
            Don't just take our word for it - hear from businesses that have transformed their brand with Visual Vibe Studio.
          </p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Testimonial 1 -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center mb-6">
              <div class="bg-gradient-to-br from-yellow-400 to-orange-500 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                <span class="text-white font-bold text-lg">S</span>
              </div>
              <div>
                <h4 class="font-semibold text-white">Sarah</h4>
                <p class="text-purple-200 text-sm">Restaurant Owner</p>
              </div>
            </div>
            <div class="mb-4">
              <div class="text-yellow-400 text-lg">⭐⭐⭐⭐⭐</div>
            </div>
            <p class="text-purple-100 leading-relaxed mb-4">
              "Visual Vibe Studio completely transformed our online presence! Our new website increased online orders by 150% in just 2 months. Yoshiko's attention to detail is incredible."
            </p>
            <div class="text-green-400 font-semibold text-sm">
              🚀 +150% Online Orders
            </div>
          </div>

          <!-- Testimonial 2 -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center mb-6">
              <div class="bg-gradient-to-br from-blue-400 to-purple-500 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                <span class="text-white font-bold text-lg">M</span>
              </div>
              <div>
                <h4 class="font-semibold text-white">Michael</h4>
                <p class="text-purple-200 text-sm">Tech Company CEO</p>
              </div>
            </div>
            <div class="mb-4">
              <div class="text-yellow-400 text-lg">⭐⭐⭐⭐⭐</div>
            </div>
            <p class="text-purple-100 leading-relaxed mb-4">
              "The logo design exceeded all expectations! It perfectly captures our innovative spirit. Brand recognition has increased by 300% since the rebrand. Worth every penny!"
            </p>
            <div class="text-green-400 font-semibold text-sm">
              📈 +300% Brand Recognition
            </div>
          </div>

          <!-- Testimonial 3 -->
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 transform hover:scale-105 transition-all duration-300">
            <div class="flex items-center mb-6">
              <div class="bg-gradient-to-br from-green-400 to-teal-500 w-12 h-12 rounded-full flex items-center justify-center mr-4">
                <span class="text-white font-bold text-lg">L</span>
              </div>
              <div>
                <h4 class="font-semibold text-white">Lisa</h4>
                <p class="text-purple-200 text-sm">Fitness Center Manager</p>
              </div>
            </div>
            <div class="mb-4">
              <div class="text-yellow-400 text-lg">⭐⭐⭐⭐⭐</div>
            </div>
            <p class="text-purple-100 leading-relaxed mb-4">
              "The marketing materials package was amazing! Our new flyers and brochures generated over 50 new memberships in the first month. Professional quality at an affordable price."
            </p>
            <div class="text-green-400 font-semibold text-sm">
              💪 50+ New Members
            </div>
          </div>
        </div>

        <!-- Overall Stats -->
        <div class="mt-16 text-center">
          <div class="bg-white/5 backdrop-blur-sm rounded-2xl p-8 inline-block">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
              <div>
                <div class="text-3xl font-bold text-yellow-400 mb-2">200+</div>
                <p class="text-purple-200">Happy Customers</p>
              </div>
              <div>
                <div class="text-3xl font-bold text-green-400 mb-2">4.9/5</div>
                <p class="text-purple-200">Average Rating</p>
              </div>
              <div>
                <div class="text-3xl font-bold text-blue-400 mb-2">98%</div>
                <p class="text-purple-200">Customer Satisfaction</p>
              </div>
            </div>
          </div>
        </div>

        <!-- CTA -->
        <div class="text-center mt-12">
          <h4 class="text-2xl font-bold mb-4">Ready to Join Our Success Stories?</h4>
          <a href="#order" class="bg-gradient-to-r from-yellow-400 to-orange-500 text-gray-900 px-8 py-4 rounded-full font-bold text-lg hover:from-yellow-300 hover:to-orange-400 transition-all duration-300 transform hover:scale-105 shadow-2xl">
            Get Started Today
          </a>
        </div>
      </div>
    </section>

    <!-- Professional Section Divider -->
    <div class="section-divider"></div>

    <!-- Customer Reviews Section -->
    <section id="reviews" style="background: #ffffff; padding: 80px 0; position: relative;">
      <div class="max-w-7xl mx-auto px-4">
        <div style="text-align: center; margin-bottom: 60px; background: linear-gradient(135deg, #6366f1, #8b5cf6); color: #ffffff; padding: 40px; border-radius: 20px; border: 4px solid #ffffff; box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);">
          <h3 style="font-size: 48px; font-weight: bold; margin-bottom: 20px; color: #ffffff;">⭐ CUSTOMER REVIEWS ⭐</h3>
          <p style="font-size: 24px; color: #ffffff; max-width: 800px; margin: 0 auto;">
            See what our customers are saying and share your own experience!
          </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
          <!-- Review Form -->
          <div class="lg:col-span-1 w-full">
            <div style="background: linear-gradient(135deg, #6366f1, #8b5cf6); padding: 20px; border: 4px solid #ffffff; border-radius: 20px; box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3); display: block !important; visibility: visible !important;">
              <h4 style="font-size: 32px; font-weight: bold; text-align: center; margin-bottom: 30px; color: #ffffff; text-transform: uppercase;">📝 Leave a Review 📝</h4>

              <!-- Website Themed Review Form -->
              <div style="background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px); color: #ffffff; padding: 30px; border: 2px solid rgba(255, 255, 255, 0.2); border-radius: 15px; margin: 20px 0; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);">
                <h5 style="color: #ffffff; font-size: 24px; font-weight: bold; margin-bottom: 25px; text-align: center;">📝 LEAVE YOUR REVIEW</h5>

                <div style="margin-bottom: 25px;">
                  <label style="display: block; color: #ffffff; font-weight: bold; margin-bottom: 10px; font-size: 18px;">👤 Your Name:</label>
                  <input id="reviewerName" type="text" required style="width: 100%; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 18px; box-sizing: border-box; background: #ffffff; color: #374151; focus:border-color: #6366f1;" placeholder="Enter your name">
                </div>

                <div style="margin-bottom: 25px;">
                  <label style="display: block; color: #ffffff; font-weight: bold; margin-bottom: 10px; font-size: 18px;">🏢 Business Type:</label>
                  <input id="businessType" type="text" style="width: 100%; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 18px; box-sizing: border-box; background: #ffffff; color: #374151;" placeholder="e.g., Restaurant, Tech Company">
                </div>

                <div style="margin-bottom: 25px;">
                  <label style="display: block; color: #ffffff; font-weight: bold; margin-bottom: 10px; font-size: 18px;">⭐ Rating:</label>
                  <div style="font-size: 40px; margin-bottom: 15px; text-align: center;">
                    <span style="cursor: pointer; margin-right: 10px; filter: drop-shadow(2px 2px 4px rgba(255,255,255,0.8));" onclick="setRating(1)">⭐</span>
                    <span style="cursor: pointer; margin-right: 10px; filter: drop-shadow(2px 2px 4px rgba(255,255,255,0.8));" onclick="setRating(2)">⭐</span>
                    <span style="cursor: pointer; margin-right: 10px; filter: drop-shadow(2px 2px 4px rgba(255,255,255,0.8));" onclick="setRating(3)">⭐</span>
                    <span style="cursor: pointer; margin-right: 10px; filter: drop-shadow(2px 2px 4px rgba(255,255,255,0.8));" onclick="setRating(4)">⭐</span>
                    <span style="cursor: pointer; margin-right: 10px; filter: drop-shadow(2px 2px 4px rgba(255,255,255,0.8));" onclick="setRating(5)">⭐</span>
                  </div>
                </div>

                <div style="margin-bottom: 25px;">
                  <label style="display: block; color: #ffffff; font-weight: bold; margin-bottom: 10px; font-size: 18px;">🎨 Service Used:</label>
                  <select id="serviceUsed" required style="width: 100%; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 18px; box-sizing: border-box; background: #ffffff; color: #374151;">
                    <option value="">Select a service</option>
                    <option value="Business Website">Business Website</option>
                    <option value="Business Brochure">Business Brochure</option>
                    <option value="Marketing Flyer">Marketing Flyer</option>
                    <option value="Business Cards">Business Cards</option>
                    <option value="Logo Design">Logo Design</option>
                    <option value="Multiple Services">Multiple Services</option>
                  </select>
                </div>

                <div style="margin-bottom: 25px;">
                  <label style="display: block; color: #ffffff; font-weight: bold; margin-bottom: 10px; font-size: 18px;">💬 Your Review:</label>
                  <textarea id="reviewText" required rows="5" style="width: 100%; padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; font-size: 18px; box-sizing: border-box; resize: vertical; background: #ffffff; color: #374151;" placeholder="Tell us about your experience with Visual Vibe Studio..." maxlength="500"></textarea>
                  <div style="color: #ffffff; text-align: right; margin-top: 5px; font-size: 14px;">
                    <span id="charCount">0</span>/500 characters
                  </div>
                </div>

                <button type="button" onclick="submitReview()" style="width: 100%; background: linear-gradient(to right, #6366f1, #8b5cf6); color: #ffffff; border: none; padding: 20px; border-radius: 15px; font-size: 20px; font-weight: bold; cursor: pointer; box-shadow: 0 10px 25px rgba(99, 102, 241, 0.3); text-transform: uppercase; transition: all 0.3s ease; hover:from-indigo-700 hover:to-purple-700;">
                  🚀 Submit Review Now
                </button>
              </div>
            </div>
          </div>

          <!-- Customer Reviews Display -->
          <div class="lg:col-span-2 w-full">
            <div style="background: linear-gradient(135deg, #6366f1, #8b5cf6); color: #ffffff; padding: 40px; border: 4px solid #ffffff; border-radius: 20px; box-shadow: 0 20px 40px rgba(99, 102, 241, 0.3);">

              <!-- Reviews Header -->
              <div style="text-align: center; margin-bottom: 40px;">
                <h4 style="font-size: 32px; font-weight: bold; color: #ffffff; margin-bottom: 20px; text-transform: uppercase;">⭐ Recent Customer Reviews ⭐</h4>
                <div style="font-size: 24px; color: #ffffff;">
                  <span style="font-size: 32px;">⭐⭐⭐⭐⭐</span>
                  <span style="font-size: 28px; font-weight: bold; margin-left: 15px;">4.9/5</span>
                  <span style="font-size: 20px; margin-left: 10px;">(4 reviews)</span>
                </div>
              </div>

              <!-- Reviews Container -->
              <div style="max-height: 500px; overflow-y: auto; padding-right: 10px;">

                <!-- Review 1 -->
                <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); color: #374151; padding: 25px; border-radius: 15px; margin-bottom: 25px; border: 2px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);">
                  <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <div style="background: linear-gradient(45deg, #ff0000, #ff6600); color: #ffffff; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; margin-right: 20px;">S</div>
                    <div>
                      <h5 style="font-size: 20px; font-weight: bold; margin: 0; color: #000000;">Sarah M.</h5>
                      <p style="margin: 0; color: #666666; font-size: 16px;">Restaurant Owner</p>
                    </div>
                    <div style="margin-left: auto; text-align: right;">
                      <div style="font-size: 24px; color: #fbbf24;">⭐⭐⭐⭐⭐</div>
                      <p style="margin: 0; font-size: 14px; color: #666666;">2 days ago</p>
                    </div>
                  </div>
                  <div style="background: #6366f1; color: #ffffff; padding: 8px 16px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 14px; font-weight: bold;">Business Website</div>
                  <p style="font-size: 18px; line-height: 1.6; color: #000000; margin: 0;">"Visual Vibe Studio completely transformed our restaurant's online presence! Our new website increased online orders by 200% in just 3 weeks. Yoshiko's attention to detail is incredible - she understood our brand perfectly!"</p>
                </div>

                <!-- Review 2 -->
                <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); color: #374151; padding: 25px; border-radius: 15px; margin-bottom: 25px; border: 2px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);">
                  <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <div style="background: linear-gradient(45deg, #10b981, #059669); color: #ffffff; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; margin-right: 20px;">M</div>
                    <div>
                      <h5 style="font-size: 20px; font-weight: bold; margin: 0; color: #000000;">Marcus T.</h5>
                      <p style="margin: 0; color: #666666; font-size: 16px;">Tech Startup CEO</p>
                    </div>
                    <div style="margin-left: auto; text-align: right;">
                      <div style="font-size: 24px; color: #fbbf24;">⭐⭐⭐⭐⭐</div>
                      <p style="margin: 0; font-size: 14px; color: #666666;">1 week ago</p>
                    </div>
                  </div>
                  <div style="background: #8b5cf6; color: #ffffff; padding: 8px 16px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 14px; font-weight: bold;">Logo Design</div>
                  <p style="font-size: 18px; line-height: 1.6; color: #000000; margin: 0;">"The logo design exceeded all our expectations! It perfectly captures our innovative spirit and has become instantly recognizable. Brand recognition increased by 400% since the rebrand. Worth every penny!"</p>
                </div>

                <!-- Review 3 -->
                <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); color: #374151; padding: 25px; border-radius: 15px; margin-bottom: 25px; border: 2px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);">
                  <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <div style="background: linear-gradient(45deg, #ec4899, #be185d); color: #ffffff; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; margin-right: 20px;">L</div>
                    <div>
                      <h5 style="font-size: 20px; font-weight: bold; margin: 0; color: #000000;">Lisa R.</h5>
                      <p style="margin: 0; color: #666666; font-size: 16px;">Fitness Center Manager</p>
                    </div>
                    <div style="margin-left: auto; text-align: right;">
                      <div style="font-size: 24px; color: #fbbf24;">⭐⭐⭐⭐⭐</div>
                      <p style="margin: 0; font-size: 14px; color: #666666;">3 days ago</p>
                    </div>
                  </div>
                  <div style="background: #f59e0b; color: #ffffff; padding: 8px 16px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 14px; font-weight: bold;">Marketing Flyer</div>
                  <p style="font-size: 18px; line-height: 1.6; color: #000000; margin: 0;">"The marketing flyers were absolutely stunning! Our new member sign-ups increased by 75% in the first month. The design perfectly captured the energy and motivation we wanted to convey. Highly recommend!"</p>
                </div>

                <!-- Review 4 -->
                <div style="background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); color: #374151; padding: 25px; border-radius: 15px; margin-bottom: 25px; border: 2px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);">
                  <div style="display: flex; align-items: center; margin-bottom: 15px;">
                    <div style="background: linear-gradient(45deg, #3b82f6, #1d4ed8); color: #ffffff; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: bold; margin-right: 20px;">D</div>
                    <div>
                      <h5 style="font-size: 20px; font-weight: bold; margin: 0; color: #000000;">David K.</h5>
                      <p style="margin: 0; color: #666666; font-size: 16px;">Real Estate Agent</p>
                    </div>
                    <div style="margin-left: auto; text-align: right;">
                      <div style="font-size: 24px; color: #fbbf24;">⭐⭐⭐⭐⭐</div>
                      <p style="margin: 0; font-size: 14px; color: #666666;">5 days ago</p>
                    </div>
                  </div>
                  <div style="background: #ef4444; color: #ffffff; padding: 8px 16px; border-radius: 20px; display: inline-block; margin-bottom: 15px; font-size: 14px; font-weight: bold;">Business Cards</div>
                  <p style="font-size: 18px; line-height: 1.6; color: #000000; margin: 0;">"Professional business cards that make a lasting impression! The design is clean, memorable, and perfectly represents my brand. I've gotten so many compliments and referrals from these cards. Amazing work!"</p>
                </div>

              </div>

              <!-- View More Button -->
              <div style="text-align: center; margin-top: 30px;">
                <button style="background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(10px); color: #ffffff; border: 2px solid rgba(255, 255, 255, 0.3); padding: 15px 30px; border-radius: 15px; font-size: 18px; font-weight: bold; cursor: pointer; text-transform: uppercase; transition: all 0.3s ease;">
                  📝 View All Reviews
                </button>
              </div>

            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="order" class="bg-white py-16 px-4">
      <div class="max-w-4xl mx-auto">
        <!-- Order Header with Guarantee -->
        <div class="text-center mb-12">
          <h3 class="text-4xl font-bold text-gray-800 mb-4">Ready to Transform Your Business?</h3>
          <p class="text-xl text-gray-600 mb-6">Join 200+ satisfied customers who've boosted their business with our designs</p>

          <!-- Guarantee Badge -->
          <div class="inline-flex items-center bg-green-50 border-2 border-green-200 rounded-full px-6 py-3 mb-6">
            <div class="bg-green-500 w-8 h-8 rounded-full flex items-center justify-center mr-3">
              <span class="text-white text-sm font-bold">✓</span>
            </div>
            <div class="text-left">
              <div class="font-semibold text-green-800">100% Satisfaction Guarantee</div>
              <div class="text-sm text-green-600">Not happy? We'll refund your deposit, no questions asked.</div>
            </div>
          </div>

          <!-- Limited Time Offer -->
          <div class="bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl p-4 inline-block mb-8">
            <div class="flex items-center justify-center space-x-2">
              <span class="text-xl">🔥</span>
              <div>
                <div class="font-bold">LIMITED TIME: Free Rush Delivery!</div>
                <div class="text-sm opacity-90">Get your project 2 days faster - FREE ($50 value)</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Trust Indicators Row -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
          <div class="bg-green-50 border border-green-200 rounded-xl p-4 text-center">
            <div class="text-2xl mb-2">🔒</div>
            <h4 class="font-semibold text-green-800 mb-1">100% Secure</h4>
            <p class="text-green-600 text-sm">Your data is protected</p>
          </div>
          <div class="bg-blue-50 border border-blue-200 rounded-xl p-4 text-center">
            <div class="text-2xl mb-2">⚡</div>
            <h4 class="font-semibold text-blue-800 mb-1">Fast Delivery</h4>
            <p class="text-blue-600 text-sm">5-7 days completion</p>
          </div>
          <div class="bg-purple-50 border border-purple-200 rounded-xl p-4 text-center">
            <div class="text-2xl mb-2">💎</div>
            <h4 class="font-semibold text-purple-800 mb-1">Premium Quality</h4>
            <p class="text-purple-600 text-sm">Professional results</p>
          </div>
        </div>

        <form class="space-y-6 bg-white rounded-2xl p-8 shadow-lg" id="orderForm">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block mb-2 font-semibold text-gray-700 flex items-center">
                <span class="mr-2">🏢</span>
                Business Name
              </label>
              <input
                type="text"
                name="businessName"
                required
                class="w-full border-2 border-gray-200 p-4 rounded-xl form-field focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300"
                placeholder="Enter your business name"
                maxlength="100"
              />
            </div>
            <div>
              <label class="block mb-2 font-semibold text-gray-700 flex items-center">
                <span class="mr-2">🏭</span>
                Business Industry
              </label>
              <input
                type="text"
                name="industry"
                required
                class="w-full border-2 border-gray-200 p-4 rounded-xl form-field focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300"
                placeholder="e.g., Restaurant, Real Estate, Technology"
                maxlength="50"
              />
            </div>
          </div>
          <div>
            <label class="block mb-2 font-semibold text-gray-700 flex items-center">
              <span class="mr-2">📎</span>
              Upload Business Logo (Optional)
            </label>
            <div class="border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-indigo-400 transition-colors duration-300">
              <input
                type="file"
                name="logo"
                accept="image/*"
                class="w-full"
              />
              <p class="text-gray-500 text-sm mt-2">Upload your current logo for brand consistency</p>
            </div>
          </div>

          <div>
            <label class="block mb-2 font-semibold text-gray-700 flex items-center">
              <span class="mr-2">🎨</span>
              Choose Services (Hold Ctrl/Cmd for multiple)
            </label>
            <select
              name="services"
              multiple
              required
              class="w-full border-2 border-gray-200 p-4 rounded-xl form-field focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300 min-h-[120px]"
              aria-label="Select services"
            >
              <option value="website" data-price="100">
                Business Page Builder - From $100
              </option>
              <option value="brochure" data-price="80">
                Business Brochure Design - $80
              </option>
              <option value="flyer" data-price="65">
                Business Flyer Design - $65
              </option>
              <option value="card" data-price="50">
                Business Card Design - $50
              </option>
              <option value="logo" data-price="25">
                Business Logo Design - $25
              </option>
            </select>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div>
              <label class="block mb-2 font-semibold text-gray-700 flex items-center">
                <span class="mr-2">📅</span>
                Preferred Completion Date
              </label>
              <input
                type="date"
                name="dueDate"
                required
                class="w-full border-2 border-gray-200 p-4 rounded-xl focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300"
              />
            </div>
            <div>
              <label class="block mb-2 font-semibold text-gray-700 flex items-center">
                <span class="mr-2">📧</span>
                Contact Email
              </label>
              <input
                type="email"
                name="email"
                required
                class="w-full border-2 border-gray-200 p-4 rounded-xl form-field focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300"
                placeholder="your@email.com"
              />
            </div>
            <div>
              <label class="block mb-2 font-semibold text-gray-700 flex items-center">
                <span class="mr-2">📱</span>
                Phone Number (Optional)
              </label>
              <input
                type="tel"
                name="phone"
                class="w-full border-2 border-gray-200 p-4 rounded-xl form-field focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200 transition-all duration-300"
                placeholder="(555) 123-4567"
              />
            </div>
          </div>
          <!-- Enhanced Payment Policy -->
          <div class="bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl p-6">
            <div class="flex items-start space-x-3">
              <div class="bg-green-500 w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                <span class="text-white text-sm font-bold">💳</span>
              </div>
              <div>
                <h4 class="font-semibold text-gray-800 mb-2">Simple Payment Process</h4>
                <div class="space-y-1 text-sm text-gray-600">
                  <p>💰 <strong>Only 50% upfront</strong> - Pay half now, half when you love the design</p>
                  <p>🔄 <strong>3 free revisions</strong> - We'll perfect it until you're 100% satisfied</p>
                  <p>⚡ <strong>Venmo payment</strong> - Quick, secure, and convenient</p>
                  <p>✅ <strong>Money-back guarantee</strong> - Not happy? Get your deposit back</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Enhanced Submit Button -->
          <div class="text-center pt-6">
            <button
              type="submit"
              class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-6 px-8 rounded-2xl font-bold text-lg hover:from-indigo-700 hover:to-purple-700 transition-all duration-300 transform hover:scale-105 shadow-2xl flex items-center justify-center space-x-3"
            >
              <span>🚀</span>
              <span>Start My Project Now</span>
              <span>→</span>
            </button>
            <p class="text-gray-500 text-sm mt-3">✨ Free rush delivery included • 100% satisfaction guaranteed</p>
          </div>
          <div id="paypal-button-container" class="mt-6 hidden"></div>
        </form>
      </div>
    </section>

    <!-- Professional Section Divider -->
    <div class="section-divider"></div>

    <section
      id="contact"
      class="py-20 relative overflow-hidden"
    >
      <!-- Sophisticated Contact Background -->
      <div class="absolute inset-0 brand-gradient-bg opacity-5"></div>
      <div class="absolute inset-0 bg-gradient-to-br from-indigo-50 via-white to-purple-50"></div>
      <div class="absolute inset-0 geometric-pattern opacity-10"></div>
      <div class="absolute inset-0">
        <div class="absolute top-1/4 left-1/4 w-96 h-96 bg-gradient-to-r from-indigo-200/20 to-transparent rounded-full blur-3xl"></div>
        <div class="absolute bottom-1/4 right-1/4 w-96 h-96 bg-gradient-to-l from-purple-200/20 to-transparent rounded-full blur-3xl"></div>
      </div>
      <div class="relative z-10 max-w-7xl mx-auto px-4">
        <div class="text-center mb-16">
          <h3 class="text-5xl font-bold text-gray-800 mb-4">Get in Touch</h3>
          <p class="text-xl text-gray-600 max-w-3xl mx-auto">
            Ready to bring your vision to life? Contact Visual Vibe Studio today
            and let's create something amazing together.
          </p>
        </div>

        <!-- Main Contact Card -->
        <div class="bg-white rounded-3xl shadow-2xl overflow-hidden mb-12">
          <div class="grid grid-cols-1 lg:grid-cols-3 gap-0">
            <!-- Contact Methods -->
            <div class="lg:col-span-2 p-12">
              <h4
                class="text-3xl font-bold text-indigo-600 mb-8 text-center lg:text-left"
              >
                Let's Connect
              </h4>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
                <!-- Email -->
                <div
                  class="group hover:bg-indigo-50 p-6 rounded-xl transition-all duration-300"
                >
                  <div class="flex items-center mb-4">
                    <div
                      class="bg-gradient-to-r from-indigo-500 to-purple-600 p-4 rounded-full mr-6 group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
                        />
                        <path
                          d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
                        />
                      </svg>
                    </div>
                    <div>
                      <p class="text-lg font-semibold text-gray-800">
                        Email Us
                      </p>
                      <p class="text-sm text-gray-500">Send us a message</p>
                    </div>
                  </div>
                  <div class="flex items-center gap-2">
                    <a
                      href="mailto:support@visualvibestudio.store"
                      class="text-lg font-medium text-indigo-600 hover:text-indigo-800 transition-colors break-all"
                      onclick="handleEmailClick(event, 'support@visualvibestudio.store')"
                    >
                      support@visualvibestudio.store
                    </a>
                    <button
                      onclick="copyToClipboard('support@visualvibestudio.store', 'Email address copied!')"
                      class="text-gray-400 hover:text-indigo-600 transition-colors p-1 rounded"
                      title="Copy email address"
                    >
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                      </svg>
                    </button>
                  </div>
                </div>

                <!-- Phone -->
                <div
                  class="group hover:bg-indigo-50 p-6 rounded-xl transition-all duration-300"
                >
                  <div class="flex items-center mb-4">
                    <div
                      class="bg-gradient-to-r from-green-500 to-teal-600 p-4 rounded-full mr-6 group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"
                        />
                      </svg>
                    </div>
                    <div>
                      <p class="text-lg font-semibold text-gray-800">Call Us</p>
                      <p class="text-sm text-gray-500">Speak with our team</p>
                    </div>
                  </div>
                  <a
                    href="tel:+14029797184"
                    class="text-xl font-medium text-green-600 hover:text-green-800 transition-colors"
                  >
                    (402) 979-7184
                  </a>
                </div>
              </div>

              <!-- Additional Info -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Website -->
                <div
                  class="group hover:bg-indigo-50 p-6 rounded-xl transition-all duration-300"
                >
                  <div class="flex items-center mb-4">
                    <div
                      class="bg-gradient-to-r from-blue-500 to-cyan-600 p-4 rounded-full mr-6 group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.389-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 13.97 6.118 12.546 6.03 11H4.083a6.004 6.004 0 002.783 4.118z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </div>
                    <div>
                      <p class="text-lg font-semibold text-gray-800">Website</p>
                      <p class="text-sm text-gray-500">Visit us online</p>
                    </div>
                  </div>
                  <a
                    href="https://www.visualvibestudio.store"
                    target="_blank"
                    class="text-lg font-medium text-blue-600 hover:text-blue-800 transition-colors"
                  >
                    www.visualvibestudio.store
                  </a>
                </div>

                <!-- Location -->
                <div
                  class="group hover:bg-indigo-50 p-6 rounded-xl transition-all duration-300"
                >
                  <div class="flex items-center mb-4">
                    <div
                      class="bg-gradient-to-r from-red-500 to-pink-600 p-4 rounded-full mr-6 group-hover:scale-110 transition-transform duration-300"
                    >
                      <svg
                        class="w-8 h-8 text-white"
                        fill="currentColor"
                        viewBox="0 0 20 20"
                      >
                        <path
                          fill-rule="evenodd"
                          d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z"
                          clip-rule="evenodd"
                        />
                      </svg>
                    </div>
                    <div>
                      <p class="text-lg font-semibold text-gray-800">
                        Service Area
                      </p>
                      <p class="text-sm text-gray-500">
                        We serve clients nationwide
                      </p>
                    </div>
                  </div>
                  <p class="text-lg font-medium text-red-600">
                    Remote & Local Services
                  </p>
                </div>
              </div>
            </div>

            <!-- Business Hours & Info -->
            <div
              class="bg-gradient-to-br from-indigo-600 to-purple-700 p-12 text-white"
            >
              <h5 class="text-2xl font-bold mb-8">Business Hours</h5>

              <div class="space-y-4 mb-8">
                <div
                  class="flex justify-between items-center border-b border-indigo-400 pb-2"
                >
                  <span class="font-medium">Monday - Friday</span>
                  <span class="text-indigo-200">9:00 AM - 6:00 PM</span>
                </div>
                <div
                  class="flex justify-between items-center border-b border-indigo-400 pb-2"
                >
                  <span class="font-medium">Saturday</span>
                  <span class="text-indigo-200">10:00 AM - 4:00 PM</span>
                </div>
                <div
                  class="flex justify-between items-center border-b border-indigo-400 pb-2"
                >
                  <span class="font-medium">Sunday</span>
                  <span class="text-indigo-200">Closed</span>
                </div>
              </div>

              <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                <h6 class="text-lg font-semibold mb-3">Quick Response</h6>
                <p class="text-indigo-100 text-sm mb-4">
                  We typically respond to all inquiries within 2-4 hours during
                  business hours.
                </p>

                <div class="flex items-center space-x-2">
                  <div
                    class="w-2 h-2 bg-green-400 rounded-full animate-pulse"
                  ></div>
                  <span class="text-sm text-indigo-200">Online now</span>
                </div>
              </div>

              <div class="mt-8 pt-8 border-t border-indigo-400">
                <p class="text-sm text-indigo-200 italic">
                  "Professional designs that make your business stand out."
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Call to Action -->
        <div class="text-center bg-white rounded-2xl shadow-lg p-8">
          <h4 class="text-2xl font-bold text-gray-800 mb-4">
            Ready to Get Started?
          </h4>
          <p class="text-gray-600 mb-6">
            Contact us today to discuss your project and get a custom quote.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <div class="flex gap-2">
              <a
                href="mailto:support@visualvibestudio.store"
                onclick="handleEmailClick(event, 'support@visualvibestudio.store')"
                class="bg-indigo-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-indigo-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center gap-2"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                </svg>
                Send Email
              </a>
              <button
                onclick="copyToClipboard('support@visualvibestudio.store', 'Email address copied to clipboard!')"
                class="bg-indigo-100 text-indigo-600 px-4 py-4 rounded-lg font-semibold hover:bg-indigo-200 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-1"
                title="Copy email address"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                </svg>
              </button>
            </div>
            <a
              href="tel:+14029797184"
              class="bg-green-600 text-white px-8 py-4 rounded-lg font-semibold hover:bg-green-700 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center gap-2 justify-center"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              Call Now
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Sign In Modal -->
    <div id="signInModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">Sign In</h3>
          <button onclick="closeSignInModal()" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>

        <form id="signInForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <input type="email" id="signInEmail" required class="w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="your@email.com">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
            <input type="password" id="signInPassword" required class="w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your password">
          </div>

          <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors">
            Sign In
          </button>
        </form>

        <p class="text-center text-sm text-gray-600 mt-4">
          Don't have an account?
          <button onclick="switchToSignUp()" class="text-indigo-600 hover:text-indigo-800 font-medium">Sign up</button>
        </p>
      </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signUpModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
      <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">Create Account</h3>
          <button onclick="closeSignUpModal()" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>

        <form id="signUpForm" class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Full Name</label>
            <input type="text" id="signUpName" required class="w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Enter your full name">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
            <input type="email" id="signUpEmail" required class="w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="your@email.com">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Password</label>
            <input type="password" id="signUpPassword" required class="w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Create a password" minlength="6">
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password</label>
            <input type="password" id="signUpConfirmPassword" required class="w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500" placeholder="Confirm your password">
          </div>

          <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors">
            Create Account
          </button>
        </form>

        <p class="text-center text-sm text-gray-600 mt-4">
          Already have an account?
          <button onclick="switchToSignIn()" class="text-indigo-600 hover:text-indigo-800 font-medium">Sign in</button>
        </p>
      </div>
    </div>

    <!-- Order History Modal -->
    <div id="orderHistoryModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
      <div class="bg-white rounded-xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto">
        <div class="flex justify-between items-center mb-6">
          <h3 class="text-2xl font-bold text-gray-800">My Orders & Receipts</h3>
          <button onclick="closeOrderHistory()" class="text-gray-500 hover:text-gray-700">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>

        <div id="orderHistoryContent" class="space-y-4">
          <div class="text-center py-8 text-gray-500">
            <p>Loading your orders...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Floating Phone Button -->
    <div class="floating-action no-print">
      <a href="tel:+14029797184" class="floating-phone" title="Call us now!">
        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
        </svg>
      </a>
    </div>

    <!-- Live Chat Widget -->
    <div class="chat-widget no-print">
      <div class="chat-bubble" onclick="toggleChat()" id="chatBubble">
        <svg id="chatIcon" class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-3.582 8-8 8a8.955 8.955 0 01-1.946-.273L3 21l1.273-8.054A8.955 8.955 0 013 12C3 7.582 6.582 4 11 4s8 3.582 8 8z"/>
        </svg>
        <svg id="closeIcon" class="w-6 h-6 text-white hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </div>

      <div class="chat-notification hidden" id="chatNotification">1</div>

      <div class="chat-window" id="chatWindow">
        <div class="chat-header">
          <div>
            <h4 class="font-semibold">Chat with Yoshiko</h4>
            <div class="agent-status">
              <div class="status-dot"></div>
              <span>Messages sent to (402) 979-7184</span>
            </div>
          </div>
          <button onclick="toggleChat()" class="text-white hover:text-gray-200 transition-colors">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>

        <div class="chat-messages" id="chatMessages">
          <div class="chat-message agent">
            <div>Hi! 👋 This is Yoshiko from Visual Vibe Studio!</div>
          </div>
          <div class="chat-message agent">
            <div>Your messages go directly to my phone so I can respond quickly. How can I help you with your design needs today?</div>
          </div>
          <div class="chat-message agent">
            <div>💬 <strong>For immediate help:</strong> Call me at (402) 979-7184</div>
          </div>
        </div>

        <div class="chat-input-area">
          <!-- Webhook Status Indicator -->
          <div id="webhookStatus" class="mb-2 text-center">
            <div class="flex items-center justify-center space-x-2 text-xs text-green-600">
              <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
              <span>Connected to (402) 979-7184 via Zapier</span>
            </div>
          </div>

          <div class="chat-input-container">
            <textarea
              id="chatInput"
              class="chat-input"
              placeholder="Message Yoshiko directly..."
              rows="1"
              onkeypress="handleChatKeyPress(event)"
              oninput="adjustTextareaHeight(this)"
            ></textarea>
            <button
              id="chatSendBtn"
              class="chat-send-btn"
              onclick="sendMessage()"
              disabled
              title="Send message to Yoshiko via Zapier webhook"
            >
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
              </svg>
            </button>
          </div>

          <!-- Quick Actions -->
          <div class="mt-3 flex justify-center space-x-4 text-xs">
            <button onclick="callDirectly()" class="text-green-600 hover:text-green-800 flex items-center space-x-1 transition-colors">
              <span>📞</span>
              <span>Call (402) 979-7184</span>
            </button>
            <button onclick="emailDirectly()" class="text-blue-600 hover:text-blue-800 flex items-center space-x-1 transition-colors">
              <span>📧</span>
              <span>Email Support</span>
            </button>
          </div>
        </div>
      </div>
    </div>

    <footer class="text-center text-sm text-gray-500 py-4">
      &copy; 2025 Visual Vibe Studio | www.visualvibestudio.store. All rights
      reserved.
    </footer>

    <script>
      // Global error handling
      window.addEventListener("error", function (e) {
        console.error("JavaScript error:", e.error);
        // Don't crash the page, just log the error
        return true;
      });

      // Ensure DOM is loaded before initializing
      document.addEventListener("DOMContentLoaded", function () {
        initializeWebsite();
      });

      let venmoPaymentShown = false;

      function initializeWebsite() {
        try {
          // Validate required elements exist
          const orderForm = document.getElementById("orderForm");

          if (!orderForm) {
            console.error("Required form elements not found");
            return;
          }

          // Set minimum date for order form
          const dueDateInput = document.querySelector('input[name="dueDate"]');
          if (dueDateInput) {
            const today = new Date();
            const minDate = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000); // 7 days from now
            dueDateInput.min = minDate.toISOString().split("T")[0];
          }

          // Initialize user authentication
        initializeAuth();

        // Initialize review system
        initializeReviewSystem();

        console.log("Website initialized successfully");
        } catch (error) {
          console.error("Error initializing website:", error);
        }
      }

      // User Authentication System
      let currentUser = null;

      function initializeAuth() {
        // Check if user is already signed in
        const savedUser = localStorage.getItem('visualVibeUser');
        if (savedUser) {
          currentUser = JSON.parse(savedUser);
          updateAuthUI();
        }

        // Set up form event listeners
        document.getElementById('signInForm').addEventListener('submit', handleSignIn);
        document.getElementById('signUpForm').addEventListener('submit', handleSignUp);
      }

      function updateAuthUI() {
        const signedOutState = document.getElementById('signedOutState');
        const signedInState = document.getElementById('signedInState');
        const userDisplayName = document.getElementById('userDisplayName');

        if (currentUser) {
          signedOutState.classList.add('hidden');
          signedInState.classList.remove('hidden');
          userDisplayName.textContent = currentUser.name;
        } else {
          signedOutState.classList.remove('hidden');
          signedInState.classList.add('hidden');
        }
      }

      function handleSignIn(e) {
        e.preventDefault();

        const email = document.getElementById('signInEmail').value;
        const password = document.getElementById('signInPassword').value;

        // Get stored users
        const users = JSON.parse(localStorage.getItem('visualVibeUsers') || '[]');
        const user = users.find(u => u.email === email && u.password === password);

        if (user) {
          currentUser = { id: user.id, name: user.name, email: user.email };
          localStorage.setItem('visualVibeUser', JSON.stringify(currentUser));
          updateAuthUI();
          closeSignInModal();
          showAlert('Welcome back, ' + user.name + '!', 'success');
        } else {
          showAlert('Invalid email or password. Please try again.', 'error');
        }
      }

      function handleSignUp(e) {
        e.preventDefault();

        const name = document.getElementById('signUpName').value;
        const email = document.getElementById('signUpEmail').value;
        const password = document.getElementById('signUpPassword').value;
        const confirmPassword = document.getElementById('signUpConfirmPassword').value;

        if (password !== confirmPassword) {
          showAlert('Passwords do not match. Please try again.', 'error');
          return;
        }

        // Get existing users
        const users = JSON.parse(localStorage.getItem('visualVibeUsers') || '[]');

        // Check if email already exists
        if (users.find(u => u.email === email)) {
          showAlert('An account with this email already exists. Please sign in.', 'error');
          return;
        }

        // Create new user
        const newUser = {
          id: Date.now().toString(),
          name: name,
          email: email,
          password: password,
          orders: [],
          createdAt: new Date().toISOString()
        };

        users.push(newUser);
        localStorage.setItem('visualVibeUsers', JSON.stringify(users));

        // Sign in the new user
        currentUser = { id: newUser.id, name: newUser.name, email: newUser.email };
        localStorage.setItem('visualVibeUser', JSON.stringify(currentUser));
        updateAuthUI();
        closeSignUpModal();
        showAlert('Account created successfully! Welcome, ' + name + '!', 'success');
      }

      function signOut() {
        currentUser = null;
        localStorage.removeItem('visualVibeUser');
        updateAuthUI();
        showAlert('You have been signed out successfully.', 'success');
      }

      // Modal Functions
      function openSignInModal() {
        document.getElementById('signInModal').classList.remove('hidden');
        document.getElementById('signInEmail').focus();
      }

      function closeSignInModal() {
        document.getElementById('signInModal').classList.add('hidden');
        document.getElementById('signInForm').reset();
      }

      function openSignUpModal() {
        document.getElementById('signUpModal').classList.remove('hidden');
        document.getElementById('signUpName').focus();
      }

      function closeSignUpModal() {
        document.getElementById('signUpModal').classList.add('hidden');
        document.getElementById('signUpForm').reset();
      }

      function switchToSignUp() {
        closeSignInModal();
        openSignUpModal();
      }

      function switchToSignIn() {
        closeSignUpModal();
        openSignInModal();
      }

      // Order History Functions
      function showOrderHistory() {
        const modal = document.getElementById('orderHistoryModal');
        const content = document.getElementById('orderHistoryContent');

        modal.classList.remove('hidden');

        if (!currentUser) {
          content.innerHTML = `
            <div class="text-center py-8">
              <p class="text-gray-500">Please sign in to view your orders.</p>
              <button onclick="closeOrderHistory(); openSignInModal();" class="mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700">
                Sign In
              </button>
            </div>
          `;
          return;
        }

        // Get user's orders
        const users = JSON.parse(localStorage.getItem('visualVibeUsers') || '[]');
        const user = users.find(u => u.id === currentUser.id);
        const orders = user ? user.orders || [] : [];

        if (orders.length === 0) {
          content.innerHTML = `
            <div class="text-center py-8">
              <div class="text-gray-400 text-6xl mb-4">📋</div>
              <h4 class="text-xl font-semibold text-gray-600 mb-2">No Orders Yet</h4>
              <p class="text-gray-500 mb-4">You haven't placed any orders yet. Start by browsing our services!</p>
              <button onclick="closeOrderHistory(); document.getElementById('order').scrollIntoView();" class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700">
                Place Your First Order
              </button>
            </div>
          `;
        } else {
          const orderHTML = orders.map(order => `
            <div class="border rounded-lg p-6 bg-gray-50">
              <div class="flex justify-between items-start mb-4">
                <div>
                  <h4 class="text-lg font-semibold text-gray-800">Order #${order.orderNumber}</h4>
                  <p class="text-sm text-gray-500">${new Date(order.date).toLocaleDateString('en-US', {
                    year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit'
                  })}</p>
                </div>
                <span class="px-3 py-1 rounded-full text-sm font-medium ${
                  order.status === 'completed' ? 'bg-green-100 text-green-800' :
                  order.status === 'in-progress' ? 'bg-blue-100 text-blue-800' :
                  'bg-yellow-100 text-yellow-800'
                }">
                  ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                </span>
              </div>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <p class="text-sm font-medium text-gray-600">Business Name:</p>
                  <p class="text-gray-800">${order.businessName}</p>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-600">Industry:</p>
                  <p class="text-gray-800">${order.industry}</p>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-600">Services:</p>
                  <p class="text-gray-800">${order.services.join(', ')}</p>
                </div>
                <div>
                  <p class="text-sm font-medium text-gray-600">Due Date:</p>
                  <p class="text-gray-800">${new Date(order.dueDate).toLocaleDateString()}</p>
                </div>
              </div>

              <div class="flex justify-between items-center pt-4 border-t">
                <div>
                  <p class="text-sm text-gray-600">Total: <span class="font-semibold text-lg text-gray-800">$${order.total}</span></p>
                  <p class="text-xs text-gray-500">Deposit Paid: $${order.deposit}</p>
                </div>
                <button onclick="downloadReceipt('${order.orderNumber}')" class="bg-indigo-100 text-indigo-700 px-4 py-2 rounded-lg hover:bg-indigo-200 text-sm font-medium">
                  📄 Download Receipt
                </button>
              </div>
            </div>
          `).join('');

          content.innerHTML = `
            <div class="mb-6">
              <p class="text-gray-600">You have ${orders.length} order${orders.length !== 1 ? 's' : ''} on record.</p>
            </div>
            ${orderHTML}
          `;
        }
      }

      function closeOrderHistory() {
        document.getElementById('orderHistoryModal').classList.add('hidden');
      }

      function downloadReceipt(orderNumber) {
        // Get the specific order
        const users = JSON.parse(localStorage.getItem('visualVibeUsers') || '[]');
        const user = users.find(u => u.id === currentUser.id);
        const order = user.orders.find(o => o.orderNumber === orderNumber);

        if (!order) {
          showAlert('Receipt not found.', 'error');
          return;
        }

        // Create receipt content
        const receiptContent = `
VISUAL VIBE STUDIO - RECEIPT
${'='.repeat(40)}

Order Number: ${order.orderNumber}
Date: ${new Date(order.date).toLocaleDateString('en-US', {
  year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit'
})}
Status: ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}

CUSTOMER INFORMATION:
${'-'.repeat(20)}
Business Name: ${order.businessName}
Industry: ${order.industry}
Email: ${order.email}
Phone: ${order.phone || 'N/A'}
Due Date: ${new Date(order.dueDate).toLocaleDateString()}

SERVICES ORDERED:
${'-'.repeat(16)}
${order.services.join('\n')}

PAYMENT SUMMARY:
${'-'.repeat(15)}
Total Project Cost: $${order.total}
Deposit Paid (50%): $${order.deposit}
Remaining Balance: $${(parseFloat(order.total) - parseFloat(order.deposit)).toFixed(2)}

CONTACT INFORMATION:
${'-'.repeat(20)}
Email: support@visualvibestudio.store
Phone: (402) 979-7184
Website: www.visualvibestudio.store

Thank you for choosing Visual Vibe Studio!
${'='.repeat(40)}
        `;

        // Create and download the receipt
        const blob = new Blob([receiptContent], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `VisualVibeStudio_Receipt_${orderNumber}.txt`;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);

        showAlert('Receipt downloaded successfully!', 'success');
      }

      // Save order to user's account
      function saveOrderToAccount(orderData, pricing) {
        if (!currentUser) {
          return; // Guest orders are not saved
        }

        const users = JSON.parse(localStorage.getItem('visualVibeUsers') || '[]');
        const userIndex = users.findIndex(u => u.id === currentUser.id);

        if (userIndex === -1) {
          return;
        }

        const order = {
          orderNumber: 'VVS-' + Date.now().toString().slice(-6),
          date: new Date().toISOString(),
          status: 'pending',
          businessName: orderData.businessName,
          industry: orderData.industry,
          services: orderData.services,
          email: orderData.email,
          phone: orderData.phone,
          dueDate: orderData.dueDate,
          total: pricing.total,
          deposit: pricing.deposit
        };

        users[userIndex].orders = users[userIndex].orders || [];
        users[userIndex].orders.unshift(order); // Add to beginning of array

        localStorage.setItem('visualVibeUsers', JSON.stringify(users));

        return order.orderNumber;
      }

      function resetForm() {
        const submitBtn = document.querySelector('button[type="submit"]');
        const venmoContainer = document.getElementById(
          "paypal-button-container",
        );

        submitBtn.style.display = "block";
        venmoContainer.classList.add("hidden");
        venmoContainer.innerHTML = "";
        venmoPaymentShown = false;
      }

      function calculateOrderTotal() {
        try {
          const servicesSelect = document.querySelector(
            'select[name="services"]',
          );
          if (!servicesSelect) {
            throw new Error("Services select element not found");
          }

          const selectedServices = Array.from(servicesSelect.selectedOptions);

          if (selectedServices.length === 0) {
            return { total: "0.00", deposit: "0.00" };
          }

          // Calculate total based on individual service prices
          let basePrice = 0;
          selectedServices.forEach((option) => {
            const priceStr = option.getAttribute("data-price");
            const price = parseInt(priceStr) || 0;
            basePrice += price;
          });

          const depositAmount = (basePrice * 0.5).toFixed(2); // 50% deposit

          return {
            total: basePrice.toFixed(2),
            deposit: depositAmount,
          };
        } catch (error) {
          console.error("Error calculating order total:", error);
          return { total: "0.00", deposit: "0.00" };
        }
      }

      function generateVenmoLink(amount, note) {
        const venmoHandle = "Yoshiko-Swafford";
        // Venmo deep link format
        return `venmo://paycharge?txn=pay&recipients=${venmoHandle}&amount=${amount}&note=${encodeURIComponent(note)}`;
      }

      function showVenmoPayment(pricing, orderData, orderNumber = null) {
        const venmoContainer = document.getElementById(
          "paypal-button-container",
        );
        const venmoNote = `Visual Vibe Studio - 50% Deposit for ${orderData.businessName} (${orderData.services.join(", ")})`;
        const venmoLink = generateVenmoLink(pricing.deposit, venmoNote);

        venmoContainer.innerHTML = `
                <div class="bg-gradient-to-br from-blue-50 to-purple-50 border-2 border-blue-200 rounded-xl p-6">
                  <div class="text-center mb-6">
                    <div class="bg-blue-600 text-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                      <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M13.454 9.046c-.633-.633-1.662-.633-2.294 0l-5.656 5.656c-.633.633-.633 1.662 0 2.294.633.633 1.662.633 2.294 0l5.656-5.656c.633-.633.633-1.662 0-2.294z"/>
                        <path d="M15.748 6.752c-.633-.633-1.662-.633-2.294 0l-5.656 5.656c-.633.633-.633 1.662 0 2.294.633.633 1.662.633 2.294 0l5.656-5.656c.633-.633.633-1.662 0-2.294z"/>
                      </svg>
                    </div>
                    <h4 class="text-xl font-bold text-gray-800 mb-2">Pay with Venmo</h4>
                  </div>

                  <div class="bg-white rounded-lg p-4 mb-6 border border-gray-200">
                    <h5 class="font-semibold text-gray-800 mb-3">Order Summary</h5>
                    <div class="space-y-2 text-sm">
                      <div class="flex justify-between">
                        <span class="text-gray-600">Business:</span>
                        <span class="font-medium">${orderData.businessName}</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-gray-600">Services:</span>
                        <span class="font-medium">${orderData.services.join(", ")}</span>
                      </div>
                      <div class="flex justify-between">
                        <span class="text-gray-600">Total Project Cost:</span>
                        <span class="font-medium">$${pricing.total}</span>
                      </div>
                      <div class="flex justify-between border-t pt-2 mt-2">
                        <span class="font-semibold text-gray-800">Deposit Required (50%):</span>
                        <span class="font-bold text-lg text-blue-600">$${pricing.deposit}</span>
                      </div>
                    </div>
                  </div>

                  ${currentUser && orderNumber ? `
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                      <div class="flex items-center mb-2">
                        <svg class="w-5 h-5 text-green-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-semibold text-green-800">Order Saved to Your Account</span>
                      </div>
                      <p class="text-sm text-green-700">Order #${orderNumber}</p>
                      <p class="text-xs text-green-600 mt-1">You can track this order in "My Orders" after payment.</p>
                    </div>
                  ` : currentUser ? `
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6">
                      <div class="flex items-center mb-2">
                        <svg class="w-5 h-5 text-blue-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-semibold text-blue-800">Signed In</span>
                      </div>
                      <p class="text-sm text-blue-700">This order will be saved to your account for tracking.</p>
                    </div>
                  ` : `
                    <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
                      <div class="flex items-center mb-2">
                        <svg class="w-5 h-5 text-yellow-600 mr-2" fill="currentColor" viewBox="0 0 20 20">
                          <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                        </svg>
                        <span class="font-semibold text-yellow-800">Guest Order</span>
                      </div>
                      <p class="text-sm text-yellow-700">Sign in to save and track your orders.</p>
                      <button onclick="openSignInModal()" class="mt-2 text-sm text-yellow-600 underline hover:text-yellow-800">Sign In Now</button>
                    </div>
                  `}

                  <div class="text-center space-y-4">
                    <p class="text-gray-700 font-medium">Send payment to:</p>
                    <div class="bg-blue-100 rounded-lg p-3 inline-block">
                      <span class="text-2xl font-bold text-blue-800">@Yoshiko-Swafford</span>
                    </div>

                    <div class="space-y-3">
                      <a href="${venmoLink}" class="block w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors">
                        ���� Open Venmo App
                      </a>

                      <button type="button" onclick="copyVenmoDetails()" class="w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-200 transition-colors">
                        📋 Copy Payment Details
                      </button>
                    </div>

                    <div class="text-sm text-gray-600 bg-yellow-50 border border-yellow-200 rounded-lg p-3 mt-4">
                      <p class="font-semibold text-yellow-800 mb-1">📱 Payment Instructions:</p>
                      <ol class="text-left space-y-1">
                        <li>1. Click "Open Venmo App" or search @Yoshiko-Swafford</li>
                        <li>2. Send exactly <strong>$${pricing.deposit}</strong></li>
                        <li>3. Include note: "${orderData.businessName} - Visual Vibe Studio"</li>
                        <li>4. We'll confirm your order within 24 hours</li>
                      </ol>
                    </div>

                    <div class="flex space-x-3 mt-6">
                      <button type="button" onclick="markPaymentSent()" class="flex-1 bg-green-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                        ✅ Payment Sent
                      </button>
                      <button type="button" onclick="resetForm()" class="flex-1 bg-gray-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-gray-600 transition-colors">
                        ← Back to Form
                      </button>
                    </div>
                  </div>
                </div>
              `;

        venmoContainer.classList.remove("hidden");
        venmoPaymentShown = true;
      }

      function copyVenmoDetails() {
        try {
          const pricing = calculateOrderTotal();
          const form = document.getElementById("orderForm");
          if (!form) {
            throw new Error("Order form not found");
          }

          const formData = new FormData(form);
          const businessName = formData.get("businessName") || "Customer";

          const details = `Venmo: @Yoshiko-Swafford\nAmount: $${pricing.deposit}\nNote: ${businessName} - Visual Vibe Studio`;

          // Check if clipboard API is supported
          if (navigator.clipboard && window.isSecureContext) {
            navigator.clipboard
              .writeText(details)
              .then(() => {
                showAlert("Payment details copied to clipboard!", "success");
              })
              .catch(() => {
                showAlert("Payment Details:\n\n" + details, "info");
              });
          } else {
            // Fallback for older browsers
            showAlert("Payment Details:\n\n" + details, "info");
          }
        } catch (error) {
          console.error("Error copying Venmo details:", error);
          showAlert(
            "Unable to copy details. Please note: @Yoshiko-Swafford",
            "error",
          );
        }
      }

      function showAlert(message, type = "info") {
        // Create a better alert system than browser alert
        const alertDiv = document.createElement("div");
        alertDiv.className = `fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-sm ${type === "success" ? "bg-green-100 text-green-800 border border-green-200" : type === "error" ? "bg-red-100 text-red-800 border border-red-200" : "bg-blue-100 text-blue-800 border border-blue-200"}`;
        alertDiv.innerHTML = `
                <div class="flex justify-between items-start">
                  <p class="text-sm whitespace-pre-line">${message}</p>
                  <button onclick="this.parentElement.parentElement.remove()" class="ml-2 text-lg leading-none">&times;</button>
                </div>
              `;
        document.body.appendChild(alertDiv);

        // Auto remove after 5 seconds
        setTimeout(() => {
          if (alertDiv.parentElement) {
            alertDiv.remove();
          }
        }, 5000);
      }

      function markPaymentSent() {
        const venmoContainer = document.getElementById(
          "paypal-button-container",
        );

        // Show processing message
        venmoContainer.innerHTML = `
                <div class="bg-blue-50 border-2 border-blue-200 rounded-xl p-8 text-center">
                  <div class="text-blue-600 text-4xl mb-4">⏳</div>
                  <h4 class="text-2xl font-bold text-blue-800 mb-3">Processing Order...</h4>
                  <p class="text-blue-700 mb-4">Sending your receipt and order confirmation...</p>
                </div>
              `;

        // Send receipt and confirmation emails
        sendOrderReceipt()
          .then(() => {
            venmoContainer.innerHTML = `
                  <div class="bg-green-50 border-2 border-green-200 rounded-xl p-8 text-center">
                    <div class="text-green-600 text-6xl mb-4">✅</div>
                    <h4 class="text-2xl font-bold text-green-800 mb-3">Order Confirmed!</h4>
                    <p class="text-green-700 mb-4">Thank you for your order! Your receipt has been sent to your email.</p>
                    <div class="bg-white rounded-lg p-4 mb-4 border border-green-200">
                      <p class="text-sm text-green-600 mb-2"><strong>What happens next:</strong></p>
                      <ul class="text-sm text-green-700 text-left space-y-1">
                        <li>📧 Receipt sent to your email address</li>
                        <li>💰 We'll confirm your Venmo payment within 24 hours</li>
                        <li>📞 We'll contact you to discuss project details</li>
                        <li>🎨 Project work begins once payment is confirmed</li>
                      </ul>
                    </div>
                    <div class="text-sm text-green-600 mb-4">
                      <p><strong>Questions?</strong> Contact us:</p>
                      <p>📧 support@visualvibestudio.store</p>
                      <p>📞 (402) 979-7184</p>
                    </div>
                    <button type="button" onclick="location.reload()" class="bg-green-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-green-700 transition-colors">
                      Place Another Order
                    </button>
                  </div>
                `;
          })
          .catch(() => {
            venmoContainer.innerHTML = `
                  <div class="bg-yellow-50 border-2 border-yellow-200 rounded-xl p-8 text-center">
                    <div class="text-yellow-600 text-4xl mb-4">⚠️</div>
                    <h4 class="text-2xl font-bold text-yellow-800 mb-3">Order Submitted!</h4>
                    <p class="text-yellow-700 mb-4">We've received your order. Receipt will be sent manually within 24 hours.</p>
                    <div class="bg-white rounded-lg p-4 mb-4 border border-yellow-200">
                      <p class="text-sm text-yellow-600 mb-2"><strong>Next Steps:</strong></p>
                      <ul class="text-sm text-yellow-700 text-left space-y-1">
                        <li>📧 Manual receipt will be sent within 24 hours</li>
                        <li>💰 We'll confirm your Venmo payment</li>
                        <li>📞 We'll contact you to discuss your project</li>
                        <li>🎨 Project work begins once payment is confirmed</li>
                      </ul>
                    </div>
                    <button type="button" onclick="location.reload()" class="bg-yellow-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-yellow-700 transition-colors">
                      Place Another Order
                    </button>
                  </div>
                `;
          });
      }

      function sendOrderReceipt() {
        return new Promise((resolve, reject) => {
          try {
            const form = document.getElementById("orderForm");
            if (!form) {
              throw new Error("Order form not found");
            }

            const formData = new FormData(form);
            const pricing = calculateOrderTotal();

            const servicesSelect = form.querySelector(
              'select[name="services"]',
            );
            if (!servicesSelect) {
              throw new Error("Services select not found");
            }

            const selectedServices = Array.from(servicesSelect.selectedOptions);

            // Generate order number
            const orderNumber = "VVS-" + Date.now().toString().slice(-6);
            const orderDate = new Date().toLocaleDateString("en-US", {
              year: "numeric",
              month: "long",
              day: "numeric",
              hour: "2-digit",
              minute: "2-digit",
            });

            // Prepare customer receipt data
            const customerReceiptData = {
              to_email: formData.get("email"),
              to_name: formData.get("businessName"),
              order_number: orderNumber,
              order_date: orderDate,
              business_name: formData.get("businessName"),
              industry: formData.get("industry"),
              services: selectedServices
                .map((option) => option.text)
                .join(", "),
              total_amount: pricing.total,
              deposit_amount: pricing.deposit,
              remaining_amount: (
                parseFloat(pricing.total) - parseFloat(pricing.deposit)
              ).toFixed(2),
              due_date: formData.get("dueDate"),
              phone: formData.get("phone"),
              venmo_handle: "@Yoshiko-Swafford",
            };

            // Prepare business notification data
            const businessNotificationData = {
              to_email: "support@visualvibestudio.store",
              order_number: orderNumber,
              order_date: orderDate,
              customer_name: formData.get("businessName"),
              customer_email: formData.get("email"),
              customer_phone: formData.get("phone"),
              industry: formData.get("industry"),
              services: selectedServices
                .map((option) => option.text)
                .join(", "),
              total_amount: pricing.total,
              deposit_amount: pricing.deposit,
              due_date: formData.get("dueDate"),
            };

            // Send customer receipt
            const customerTemplate = {
              service_id: "YOUR_EMAILJS_SERVICE_ID", // Replace with your EmailJS service ID
              template_id: "customer_receipt_template", // Replace with your customer receipt template ID
              user_id: "YOUR_EMAILJS_USER_ID",
              template_params: customerReceiptData,
            };

            // Send business notification
            const businessTemplate = {
              service_id: "YOUR_EMAILJS_SERVICE_ID",
              template_id: "business_notification_template", // Replace with your business notification template ID
              user_id: "YOUR_EMAILJS_USER_ID",
              template_params: businessNotificationData,
            };

            // For now, use mailto as fallback since EmailJS requires setup
            // You can uncomment and configure EmailJS later

            /*
                Promise.all([
                  emailjs.send(customerTemplate.service_id, customerTemplate.template_id, customerTemplate.template_params),
                  emailjs.send(businessTemplate.service_id, businessTemplate.template_id, businessTemplate.template_params)
                ]).then(() => {
                  resolve();
                }).catch((error) => {
                  console.error('EmailJS error:', error);
                  reject(error);
                });
                */

            // Fallback: Generate mailto links for receipts
            const customerReceiptSubject = encodeURIComponent(
              `Order Receipt #${orderNumber} - Visual Vibe Studio`,
            );
            const customerReceiptBody =
              encodeURIComponent(`Dear ${formData.get("businessName")},

      Thank you for your order! Here's your receipt:

      ORDER DETAILS:
      ���━━━━━━━━━━━━━━━
      Order Number: ${orderNumber}
      Order Date: ${orderDate}
      Business Name: ${formData.get("businessName")}
      Industry: ${formData.get("industry")}
      Services: ${selectedServices.map((option) => option.text).join(", ")}
      Due Date: ${formData.get("dueDate")}

      PAYMENT SUMMARY:
      ━━━━━━━━━━━━━━��━
      Total Project Cost: $${pricing.total}
      Deposit Paid (50%): $${pricing.deposit}
      Remaining Balance: $${(parseFloat(pricing.total) - parseFloat(pricing.deposit)).toFixed(2)}
      Payment Method: Venmo (@Yoshiko-Swafford)

      NEXT STEPS:
      ━━━━━━━━━━━━━━━━
      • We'll confirm your Venmo payment within 24 hours
      • Project discussion and planning will begin
      • Final 50% payment due upon project completion
      • Estimated completion: ${formData.get("dueDate")}

      CONTACT INFORMATION:
      ━━━━━━━━━━━━━━━━
      Email: support@visualvibestudio.store
      Phone: (402) 979-7184
      Website: www.visualvibestudio.store

      Thank you for choosing Visual Vibe Studio!

      Best regards,
      Yoshiko Swafford
      Visual Vibe Studio`);

            const businessNotificationSubject = encodeURIComponent(
              `New Order #${orderNumber} - ${formData.get("businessName")}`,
            );
            const businessNotificationBody =
              encodeURIComponent(`New order received!

      Order #${orderNumber}
      Date: ${orderDate}

      Customer: ${formData.get("businessName")}
      Email: ${formData.get("email")}
      Phone: ${formData.get("phone")}
      Industry: ${formData.get("industry")}

      Services: ${selectedServices.map((option) => option.text).join(", ")}
      Total: $${pricing.total}
      Deposit: $${pricing.deposit}
      Due Date: ${formData.get("dueDate")}

      Please confirm Venmo payment and begin project planning.`);

            // Open customer receipt email
            const customerMailto = `mailto:${formData.get("email")}?subject=${customerReceiptSubject}&body=${customerReceiptBody}`;

            // Check if email can be opened
            try {
              window.open(customerMailto, "_blank");
            } catch (emailError) {
              console.warn("Could not open customer email client:", emailError);
            }

            // Open business notification email
            setTimeout(() => {
              try {
                const businessMailto = `mailto:support@visualvibestudio.store?subject=${businessNotificationSubject}&body=${businessNotificationBody}`;
                window.open(businessMailto, "_blank");
                resolve();
              } catch (emailError) {
                console.warn(
                  "Could not open business email client:",
                  emailError,
                );
                resolve(); // Still resolve to show success
              }
            }, 1000);
          } catch (error) {
            console.error("Error in sendOrderReceipt:", error);
            reject(error);
          }
        });
      }

      // Live Chat Functionality
      let chatOpen = false;
      let hasUnreadMessages = false;
      const agentResponses = [
        "Thanks for reaching out! I'm here to help with your design needs. What type of project are you interested in?",
        "Great question! Our business websites start at $100 and the final price depends on features like e-commerce, multiple pages, and custom functionality. Would you like me to explain more about what's included?",
        "Absolutely! We specialize in professional business cards, flyers, brochures, logos, and websites. Each service is designed to help your business stand out. Which service interests you most?",
        "Our typical turnaround time is 5-10 business days, but we can discuss rush orders if needed. What's your preferred timeline?",
        "Yes, we do revisions! Each project includes up to 3 rounds of revisions to ensure you're completely satisfied with the final design.",
        "We accept payment through Venmo (@Yoshiko-Swafford). We require a 50% deposit to start, and the remaining 50% is due when you approve the final design.",
        "Of course! We can work with your existing branding guidelines, colors, and logos to ensure consistency across all your materials.",
        "That sounds like a perfect project for us! Would you like to place an order through our website, or do you have specific questions about the process first?",
        "I'd be happy to provide a custom quote based on your specific needs. Can you tell me more about what you're looking for?",
        "You can reach our team at support@visualvibestudio.store or (402) 979-7184. We typically respond within 2-4 hours during business hours."
      ];

      function toggleChat() {
        const chatWindow = document.getElementById('chatWindow');
        const chatBubble = document.getElementById('chatBubble');
        const chatIcon = document.getElementById('chatIcon');
        const closeIcon = document.getElementById('closeIcon');
        const notification = document.getElementById('chatNotification');

        chatOpen = !chatOpen;

        if (chatOpen) {
          chatWindow.classList.add('open');
          chatBubble.classList.add('active');
          chatIcon.classList.add('hidden');
          closeIcon.classList.remove('hidden');
          notification.classList.add('hidden');
          hasUnreadMessages = false;

          // Focus on input when opening
          setTimeout(() => {
            document.getElementById('chatInput').focus();
          }, 300);

          // Show welcome message with notification after 2 seconds if no interaction
          setTimeout(() => {
            if (chatOpen && !hasUserSentMessage()) {
              addAgentMessage("Need help getting started? Feel free to ask about our services, pricing, or turnaround times! 😊");
            }
          }, 2000);
        } else {
          chatWindow.classList.remove('open');
          chatBubble.classList.remove('active');
          chatIcon.classList.remove('hidden');
          closeIcon.classList.add('hidden');
        }
      }

      function hasUserSentMessage() {
        const messages = document.querySelectorAll('.chat-message.user');
        return messages.length > 0;
      }

      function sendMessage() {
        const input = document.getElementById('chatInput');
        const message = input.value.trim();

        if (!message) return;

        // Add user message
        addUserMessage(message);
        input.value = '';
        adjustTextareaHeight(input);
        updateSendButton();

        // Show sending indicator
        showSendingIndicator();

        // Send message to business owner's phone
        sendMessageToBusinessOwner(message)
          .then(() => {
            hideTypingIndicator();
            addAgentMessage("Thanks for your message! I've received it and will respond to you shortly. You can also call me directly at (402) 979-7184 for immediate assistance.");
          })
          .catch(() => {
            hideTypingIndicator();
            addAgentMessage("I've received your message! For the fastest response, please call me directly at (402) 979-7184 or email support@visualvibestudio.store. I'll get back to you as soon as possible!");
          });
      }

      function addUserMessage(message) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = 'chat-message user';
        const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        messageElement.innerHTML = `
          <div>
            <div>${escapeHtml(message)}</div>
            <div class="text-xs opacity-70 mt-1">Sent ${timestamp}</div>
          </div>
        `;
        messagesContainer.appendChild(messageElement);
        scrollToBottom();

        // Save message to session storage for potential recovery
        saveChatMessage('user', message, timestamp);
      }

      function addAgentMessage(message) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = 'chat-message agent';
        messageElement.innerHTML = `<div>${message}</div>`;
        messagesContainer.appendChild(messageElement);
        scrollToBottom();

        // Show notification if chat is closed
        if (!chatOpen) {
          showChatNotification();
        }
      }

      function showSendingIndicator() {
        const messagesContainer = document.getElementById('chatMessages');
        const typingElement = document.createElement('div');
        typingElement.className = 'chat-typing';
        typingElement.id = 'typingIndicator';
        typingElement.innerHTML = `
          <div class="flex items-center space-x-2">
            <div class="typing-dots">
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
              <div class="typing-dot"></div>
            </div>
            <span class="text-sm">Sending to Yoshiko...</span>
          </div>
        `;
        messagesContainer.appendChild(typingElement);
        scrollToBottom();
      }

      function showTypingIndicator() {
        const messagesContainer = document.getElementById('chatMessages');
        const typingElement = document.createElement('div');
        typingElement.className = 'chat-typing';
        typingElement.id = 'typingIndicator';
        typingElement.innerHTML = `
          <div class="typing-dots">
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
            <div class="typing-dot"></div>
          </div>
        `;
        messagesContainer.appendChild(typingElement);
        scrollToBottom();
      }

      async function sendMessageToBusinessOwner(message) {
        const customerInfo = getCurrentUser() || { name: 'Website Visitor', email: 'Not provided' };
        const timestamp = new Date().toLocaleString();

        // Get customer's contact info if available
        let customerContact = '';
        if (currentUser) {
          customerContact = `${currentUser.name} (${currentUser.email})`;
        } else {
          customerContact = 'Website Visitor (not signed in)';
        }

        // Prepare data for Zapier webhook
        const webhookData = {
          message: message,
          customer: customerContact,
          timestamp: timestamp,
          page: window.location.pathname,
          phone: '402-979-7184',
          source: 'Visual Vibe Studio Chat'
        };

        try {
          // Send to Zapier webhook
          const response = await fetch('https://hooks.zapier.com/hooks/catch/24056566/u4rjins/', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(webhookData)
          });

          if (response.ok) {
            console.log('Message sent successfully to Zapier webhook');
            return Promise.resolve();
          } else {
            throw new Error(`Webhook failed with status: ${response.status}`);
          }
        } catch (error) {
          console.error('Failed to send notifications:', error);
          // Fallback to opening email client
          await sendEmailNotification(fullMessage);
          return Promise.resolve(); // Don't fail the chat
        }
      }

      async function sendSMSViaEmailGateway(message) {
        // Using multiple email-to-SMS gateways for reliability
        const smsGateways = [
          '4029797184@vtext.com',    // Verizon
          '4029797184@txt.att.net',   // AT&T
          '4029797184@messaging.sprintpcs.com', // Sprint
          '4029797184@tmomail.net',   // T-Mobile
          '4029797184@mymetropcs.com' // Metro PCS
        ];

        const emailSubject = 'VVS Chat';

        // Try multiple gateways simultaneously for better delivery
        const promises = smsGateways.map(gateway =>
          sendEmailToGateway(gateway, emailSubject, message)
        );

        try {
          await Promise.any(promises);
          console.log('SMS sent successfully via email gateway');
        } catch (error) {
          console.log('All SMS gateways failed, using fallback');
          throw error;
        }
      }

      async function sendEmailToGateway(toEmail, subject, message) {
        // Format message for SMS (160 character limit consideration)
        const shortMessage = message.length > 140 ?
          message.substring(0, 137) + '...' : message;

        const emailBody = encodeURIComponent(shortMessage);
        const emailSubject = encodeURIComponent(subject);

        // Use modern fetch API to send via web service if available
        try {
          // Try web-based SMS service first
          const response = await fetch('https://api.web2sms.com/send', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({
              to: '4029797184',
              message: shortMessage,
              from: 'VisualVibe'
            })
          });

          if (response.ok) {
            return Promise.resolve();
          }
        } catch (error) {
          console.log('Web SMS service unavailable, trying email gateway...');
        }

        // Fallback to email-to-SMS gateway
        const mailtoLink = `mailto:${toEmail}?subject=${emailSubject}&body=${emailBody}`;

        // Create hidden form submission
        const form = document.createElement('form');
        form.method = 'POST';
        form.action = `mailto:${toEmail}`;
        form.style.display = 'none';

        const subjectInput = document.createElement('input');
        subjectInput.name = 'subject';
        subjectInput.value = subject;
        form.appendChild(subjectInput);

        const bodyInput = document.createElement('input');
        bodyInput.name = 'body';
        bodyInput.value = shortMessage;
        form.appendChild(bodyInput);

        document.body.appendChild(form);

        // Try to submit via mailto
        window.location.href = mailtoLink;

        // Clean up
        setTimeout(() => {
          if (document.body.contains(form)) {
            document.body.removeChild(form);
          }
        }, 2000);

        return new Promise((resolve) => {
          setTimeout(resolve, 1000);
        });
      }

      async function sendWebPushNotification(message, customerContact) {
        // Modern browser push notification (if user has granted permission)
        if ('Notification' in window && Notification.permission === 'granted') {
          new Notification('New Chat Message - Visual Vibe Studio', {
            body: `From ${customerContact}: "${message}"`,
            icon: 'https://cdn.builder.io/api/v1/image/assets%2F5015b2985ffe4a9ca5064ae99f72812a%2Fff0a451500144e83b9957a3f0ca320e8?format=webp&width=64',
            badge: 'https://cdn.builder.io/api/v1/image/assets%2F5015b2985ffe4a9ca5064ae99f72812a%2Fff0a451500144e83b9957a3f0ca320e8?format=webp&width=32',
            tag: 'vvs-chat',
            requireInteraction: true,
            vibrate: [200, 100, 200]
          });
        } else if ('Notification' in window && Notification.permission !== 'denied') {
          // Request permission for future notifications
          await Notification.requestPermission();
        }
      }

      async function sendEmailNotification(message) {
        // Send to both business email and create backup
        const emailSubject = encodeURIComponent('🚨 VVS Chat Alert - Respond ASAP');
        const emailBody = encodeURIComponent(message);

        // Primary notification to business email
        const businessMailto = `mailto:support@visualvibestudio.store?subject=${emailSubject}&body=${emailBody}`;

        // Backup notification to personal email (if different)
        const personalMailto = `mailto:swaffordyoshiko@gmail.com?subject=${emailSubject}&body=${emailBody}`;

        // Try to send to both
        try {
          window.open(businessMailto, '_blank');
          setTimeout(() => {
            window.open(personalMailto, '_blank');
          }, 1000);
        } catch (error) {
          // Fallback: create downloadable message file
          downloadMessageFile(message);
        }
      }

      function downloadMessageFile(message) {
        const timestamp = new Date().toISOString().replace(/[:.]/g, '-');
        const filename = `VVS-Chat-${timestamp}.txt`;
        const blob = new Blob([message], { type: 'text/plain' });
        const url = window.URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        window.URL.revokeObjectURL(url);
      }

      function saveChatMessage(sender, message, timestamp) {
        const chatSession = {
          id: Date.now().toString(),
          sender: sender,
          message: message,
          timestamp: timestamp,
          user: currentUser ? currentUser.name : 'Guest',
          userEmail: currentUser ? currentUser.email : null,
          page: window.location.pathname,
          sent: sender === 'user'
        };

        // Save to session storage
        const chatHistory = JSON.parse(sessionStorage.getItem('vvsChatHistory') || '[]');
        chatHistory.push(chatSession);
        sessionStorage.setItem('vvsChatHistory', JSON.stringify(chatHistory));

        // Also save to local storage for persistence
        const persistentChat = JSON.parse(localStorage.getItem('vvsPersistentChat') || '[]');
        persistentChat.push(chatSession);

        // Keep only last 50 messages to avoid storage bloat
        if (persistentChat.length > 50) {
          persistentChat.splice(0, persistentChat.length - 50);
        }
        localStorage.setItem('vvsPersistentChat', JSON.stringify(persistentChat));
      }

      function loadChatHistory() {
        const chatHistory = JSON.parse(sessionStorage.getItem('vvsChatHistory') || '[]');
        chatHistory.forEach(msg => {
          if (msg.sender === 'user') {
            addUserMessageFromHistory(msg.message, msg.timestamp);
          } else {
            addAgentMessageFromHistory(msg.message, msg.timestamp);
          }
        });
      }

      function addUserMessageFromHistory(message, timestamp) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = 'chat-message user';
        messageElement.innerHTML = `
          <div>
            <div>${escapeHtml(message)}</div>
            <div class="text-xs opacity-70 mt-1">${timestamp}</div>
          </div>
        `;
        messagesContainer.appendChild(messageElement);
      }

      function addAgentMessageFromHistory(message, timestamp) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = 'chat-message agent';
        messageElement.innerHTML = `
          <div>
            <div>${message}</div>
            <div class="text-xs opacity-70 mt-1">${timestamp}</div>
          </div>
        `;
        messagesContainer.appendChild(messageElement);
      }

      function getCurrentUser() {
        return currentUser;
      }

      // Enhanced SMS delivery with retry logic
      async function sendSMSWithRetry(message, maxRetries = 3) {
        for (let attempt = 1; attempt <= maxRetries; attempt++) {
          try {
            await sendSMSViaEmailGateway(message);
            console.log(`SMS sent successfully on attempt ${attempt}`);
            trackChatEvent('sms_sent', { attempt, message: message.substring(0, 50) });
            return true;
          } catch (error) {
            console.log(`SMS attempt ${attempt} failed:`, error);
            if (attempt === maxRetries) {
              trackChatEvent('sms_failed', { attempts: maxRetries, error: error.message });
              throw error;
            }
            // Wait before retry (exponential backoff)
            await new Promise(resolve => setTimeout(resolve, 1000 * attempt));
          }
        }
        return false;
      }

      // Chat analytics and tracking
      function trackChatEvent(eventType, data = {}) {
        const event = {
          type: eventType,
          timestamp: new Date().toISOString(),
          user: currentUser ? currentUser.name : 'Guest',
          userEmail: currentUser ? currentUser.email : null,
          page: window.location.pathname,
          sessionId: getSessionId(),
          data: data
        };

        // Save to analytics storage
        const analytics = JSON.parse(localStorage.getItem('vvsChatAnalytics') || '[]');
        analytics.push(event);

        // Keep only last 100 events
        if (analytics.length > 100) {
          analytics.splice(0, analytics.length - 100);
        }
        localStorage.setItem('vvsChatAnalytics', JSON.stringify(analytics));

        console.log('Chat Event:', event);
      }

      function getSessionId() {
        let sessionId = sessionStorage.getItem('vvsSessionId');
        if (!sessionId) {
          sessionId = 'vvs_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
          sessionStorage.setItem('vvsSessionId', sessionId);
        }
        return sessionId;
      }

      function initializeChatSystem() {
        // Track chat system initialization
        trackChatEvent('chat_initialized');

        // Load previous chat history if exists
        loadChatHistory();

        // Set up periodic connection check
        setInterval(checkConnectionStatus, 30000); // Check every 30 seconds

        // Set up automatic message retry queue
        processRetryQueue();

        console.log('Chat system initialized with Zapier webhook to (402) 979-7184');
      }

      function checkConnectionStatus() {
        if (navigator.onLine) {
          updateConnectionStatus('online');
        } else {
          updateConnectionStatus('offline');
          // Queue messages for retry when back online
          queueOfflineMessages();
        }
      }

      function updateConnectionStatus(status) {
        const statusElement = document.querySelector('.agent-status span');
        if (statusElement) {
          if (status === 'online') {
            statusElement.textContent = 'Messages sent to (402) 979-7184';
            statusElement.style.color = '';
          } else {
            statusElement.textContent = 'Offline - messages queued';
            statusElement.style.color = '#ef4444';
          }
        }
      }

      let messageRetryQueue = [];

      function queueOfflineMessages() {
        // This would queue messages when offline
        console.log('Queuing messages for retry when online');
      }

      function processRetryQueue() {
        if (messageRetryQueue.length > 0 && navigator.onLine) {
          const message = messageRetryQueue.shift();
          sendSMSWithRetry(message).catch(() => {
            // If still fails, put back in queue
            messageRetryQueue.push(message);
          });
        }

        // Process queue every 10 seconds
        setTimeout(processRetryQueue, 10000);
      }

      // Quick action functions
      function callDirectly() {
        trackChatEvent('call_attempted');
        window.location.href = 'tel:+14029797184';
        addAgentMessage("📞 Calling now... If I don't answer, please leave a voicemail and I'll call you back ASAP!");
      }

      function emailDirectly() {
        trackChatEvent('email_attempted');
        const subject = encodeURIComponent('Visual Vibe Studio - Inquiry from Website Chat');
        const body = encodeURIComponent(`Hi Yoshiko,

I was using the chat on your website and wanted to reach out directly.

Customer Information:
${currentUser ? `Name: ${currentUser.name}\nEmail: ${currentUser.email}` : 'Website Visitor (not signed in)'}

Please get back to me when you have a chance!

Thanks,
`);
        window.open(`mailto:support@visualvibestudio.store?subject=${subject}&body=${body}`, '_blank');
        addAgentMessage("��� Email opened! I'll respond to your email as soon as possible.");
      }

      // Enhanced message sending with delivery confirmation
      function addAgentMessage(message) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageElement = document.createElement('div');
        messageElement.className = 'chat-message agent';
        const timestamp = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        messageElement.innerHTML = `
          <div>
            <div>${message}</div>
            <div class="text-xs opacity-70 mt-1">${timestamp}</div>
          </div>
        `;
        messagesContainer.appendChild(messageElement);
        scrollToBottom();

        // Save message to history
        saveChatMessage('agent', message, timestamp);

        // Show notification if chat is closed
        if (!chatOpen) {
          showChatNotification();
        }
      }

      function hideTypingIndicator() {
        const typingIndicator = document.getElementById('typingIndicator');
        if (typingIndicator) {
          typingIndicator.remove();
        }
      }

      function generateAgentResponse(userMessage) {
        const message = userMessage.toLowerCase();

        // Simple keyword-based responses
        if (message.includes('price') || message.includes('cost') || message.includes('how much')) {
          return "Our services range from $25 for logos to $100+ for websites. The exact price depends on your specific needs. Would you like detailed pricing for a particular service?";
        }

        if (message.includes('website') || message.includes('site')) {
          return "Our business websites start at $100 and include responsive design, professional layout, and mobile optimization. The final price depends on features like e-commerce, number of pages, and custom functionality. What type of website are you looking for?";
        }

        if (message.includes('logo')) {
          return "Our logo design service is $25 and includes a professional, unique design that represents your brand identity. We provide the logo in multiple formats suitable for web and print. Would you like to get started with a logo design?";
        }

        if (message.includes('business card')) {
          return "Business card design is $50 and includes a unique, professional design that matches your brand. We provide print-ready files. Do you have existing branding we should match?";
        }

        if (message.includes('flyer') || message.includes('brochure')) {
          return "We offer flyer design for $65 and brochure design for $80. Both include professional layouts perfect for marketing your business. What type of content will you be promoting?";
        }

        if (message.includes('time') || message.includes('when') || message.includes('delivery')) {
          return "Our typical turnaround time is 5-10 business days depending on the project complexity. We can discuss rush orders if you need something faster. What's your ideal timeline?";
        }

        if (message.includes('payment') || message.includes('pay')) {
          return "We accept payment through Venmo (@Yoshiko-Swafford). We require a 50% deposit to start your project, and the remaining 50% is due when you approve the final design.";
        }

        if (message.includes('revision') || message.includes('change')) {
          return "Yes! Each project includes up to 3 rounds of revisions to ensure you're completely satisfied. We want to make sure the final design is exactly what you need for your business.";
        }

        if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {
          return "Hello! Welcome to Visual Vibe Studio! I'm here to help you with any questions about our design services. Are you looking for a website, logo, business cards, or something else?";
        }

        if (message.includes('help') || message.includes('question')) {
          return "I'm here to help! You can ask me about our services, pricing, turnaround times, payment methods, or anything else related to your design needs. What would you like to know?";
        }

        if (message.includes('contact') || message.includes('phone') || message.includes('email')) {
          return "You can reach us at support@visualvibestudio.store or call (402) 979-7184. We typically respond within 2-4 hours during business hours (Mon-Fri 9AM-6PM, Sat 10AM-4PM).";
        }

        if (message.includes('order') || message.includes('start') || message.includes('begin')) {
          return "Great! You can place an order directly through our website by scrolling up to the 'Place Your Order' section. If you have specific questions about your project, I'm here to help first!";
        }

        // Default responses
        return agentResponses[Math.floor(Math.random() * agentResponses.length)];
      }

      function showChatNotification() {
        const notification = document.getElementById('chatNotification');
        notification.classList.remove('hidden');
        hasUnreadMessages = true;
      }

      function scrollToBottom() {
        const messagesContainer = document.getElementById('chatMessages');
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      function handleChatKeyPress(event) {
        if (event.key === 'Enter' && !event.shiftKey) {
          event.preventDefault();
          sendMessage();
        }
      }

      function adjustTextareaHeight(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = Math.min(textarea.scrollHeight, 100) + 'px';
        updateSendButton();
      }

      function updateSendButton() {
        const input = document.getElementById('chatInput');
        const sendBtn = document.getElementById('chatSendBtn');
        sendBtn.disabled = !input.value.trim();
      }

      function escapeHtml(text) {
        const div = document.createElement('div');
        div.textContent = text;
        return div.innerHTML;
      }

      // Desktop-friendly email functions
      function handleEmailClick(event, emailAddress) {
        // Check if we're on a mobile device or if mailto is supported
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        if (isMobile) {
          // On mobile, let the default mailto behavior work
          return true;
        }

        // On desktop, provide fallback options
        event.preventDefault();
        showEmailOptionsModal(emailAddress);
      }

      function showEmailOptionsModal(emailAddress) {
        // Create modal overlay
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
        modal.onclick = (e) => {
          if (e.target === modal) closeEmailModal();
        };

        modal.innerHTML = `
          <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <div class="flex justify-between items-center mb-6">
              <h3 class="text-2xl font-bold text-gray-800">Contact Options</h3>
              <button onclick="closeEmailModal()" class="text-gray-500 hover:text-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
              </button>
            </div>

            <div class="space-y-4">
              <div class="bg-gray-50 rounded-lg p-4">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium text-gray-800">Email Address</p>
                    <p class="text-indigo-600 font-mono">${emailAddress}</p>
                  </div>
                  <button
                    onclick="copyToClipboard('${emailAddress}', 'Email copied!'); closeEmailModal();"
                    class="bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg hover:bg-indigo-200 transition-colors"
                  >
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                    </svg>
                  </button>
                </div>
              </div>

              <div class="space-y-3">
                <button
                  onclick="window.open('mailto:${emailAddress}', '_blank'); closeEmailModal();"
                  class="w-full bg-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2"
                >
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                  </svg>
                  Open in Email App
                </button>

                <button
                  onclick="window.open('https://mail.google.com/mail/?view=cm&fs=1&to=${emailAddress}', '_blank'); closeEmailModal();"
                  class="w-full bg-red-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-red-600 transition-colors flex items-center justify-center gap-2"
                >
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-.887.732-1.636 1.636-1.636h3.819l6.545 4.91 6.545-4.91h3.819c.904 0 1.636.749 1.636 1.636z"/>
                  </svg>
                  Open in Gmail
                </button>

                <button
                  onclick="window.open('https://outlook.live.com/mail/0/deeplink/compose?to=${emailAddress}', '_blank'); closeEmailModal();"
                  class="w-full bg-blue-500 text-white py-3 px-4 rounded-lg font-semibold hover:bg-blue-600 transition-colors flex items-center justify-center gap-2"
                >
                  <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M7.88 12.04q0 .45-.11.87-.1.41-.33.74-.22.33-.58.52-.37.2-.87.2t-.85-.2q-.35-.21-.57-.55-.22-.33-.33-.75-.1-.42-.1-.83 0-.43.1-.85.11-.41.33-.74.22-.34.57-.55.35-.2.85-.2t.87.2q.36.19.58.52.22.33.33.74.11.42.11.88zM24 12v9.38q0 .46-.33.8-.33.32-.8.32H7.13q-.46 0-.8-.33-.32-.33-.32-.8V18H1q-.41 0-.7-.3-.3-.29-.3-.7V7q0-.41.3-.7Q.58 6 1 6h6.5L9 4.4q.25-.4.65-.7.4-.3.9-.3H23q.41 0 .7.3.3.29.3.7v7.6z"/>
                  </svg>
                  Open in Outlook
                </button>
              </div>

              <div class="text-center pt-4 border-t">
                <p class="text-sm text-gray-600">Or call us directly:</p>
                <a href="tel:+14029797184" class="text-green-600 font-semibold hover:text-green-800 transition-colors">
                  (402) 979-7184
                </a>
              </div>
            </div>
          </div>
        `;

        document.body.appendChild(modal);
      }

      function closeEmailModal() {
        const modal = document.querySelector('.fixed.inset-0.bg-black.bg-opacity-50');
        if (modal) {
          modal.remove();
        }
      }

      function copyToClipboard(text, successMessage = 'Copied to clipboard!') {
        if (navigator.clipboard && window.isSecureContext) {
          navigator.clipboard.writeText(text).then(() => {
            showAlert(successMessage, 'success');
          }).catch(() => {
            fallbackCopyToClipboard(text, successMessage);
          });
        } else {
          fallbackCopyToClipboard(text, successMessage);
        }
      }

      function fallbackCopyToClipboard(text, successMessage) {
        // Create a temporary text area
        const textArea = document.createElement('textarea');
        textArea.value = text;
        textArea.style.position = 'fixed';
        textArea.style.left = '-999999px';
        textArea.style.top = '-999999px';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();

        try {
          document.execCommand('copy');
          showAlert(successMessage, 'success');
        } catch (err) {
          showAlert(`Copy this: ${text}`, 'info');
        } finally {
          document.body.removeChild(textArea);
        }
      }

      // Review System Functionality
      let selectedRating = 0;

      function initializeReviewSystem() {
        try {
          console.log('Initializing review system...');

          // Debug: Check if elements exist
          const reviewForm = document.getElementById('reviewForm');
          const reviewsContainer = document.getElementById('reviewsContainer');
          console.log('Review form found:', !!reviewForm);
          console.log('Reviews container found:', !!reviewsContainer);

          // Set up star rating functionality
          const starButtons = document.querySelectorAll('.star-rating');
          console.log('Found', starButtons.length, 'star buttons');

          starButtons.forEach(star => {
            star.addEventListener('click', function() {
              selectedRating = parseInt(this.dataset.rating);
              document.getElementById('selectedRating').value = selectedRating;
              updateStarDisplay();
            });

            star.addEventListener('mouseenter', function() {
              const hoverRating = parseInt(this.dataset.rating);
              highlightStars(hoverRating);
            });
          });

          // Reset star display on mouse leave
          const starContainer = document.querySelector('.star-rating');
          if (starContainer && starContainer.parentElement) {
            starContainer.parentElement.addEventListener('mouseleave', function() {
              updateStarDisplay();
            });
          }

          // Character counter for review text
          const reviewTextArea = document.getElementById('reviewText');
          const charCount = document.getElementById('charCount');

          if (reviewTextArea && charCount) {
            reviewTextArea.addEventListener('input', function() {
              charCount.textContent = this.value.length;
            });
          }

          // Review form submission
          const reviewForm = document.getElementById('reviewForm');
          if (reviewForm) {
            reviewForm.addEventListener('submit', handleReviewSubmission);
            console.log('Review form event listener added');
          }

          // Load and display existing reviews
          console.log('Loading reviews...');
          loadReviews();
          console.log('Review system initialized successfully');
        } catch (error) {
          console.error('Error initializing review system:', error);
        }
      }

      function highlightStars(rating) {
        const starButtons = document.querySelectorAll('.star-rating');
        starButtons.forEach((star, index) => {
          if (index < rating) {
            star.style.color = '#fbbf24';
          } else {
            star.style.color = '#d1d5db';
          }
        });
      }

      function updateStarDisplay() {
        highlightStars(selectedRating);
      }

      function handleReviewSubmission(e) {
        e.preventDefault();

        const reviewerName = document.getElementById('reviewerName').value.trim();
        const businessType = document.getElementById('businessType').value.trim();
        const serviceUsed = document.getElementById('serviceUsed').value;
        const reviewText = document.getElementById('reviewText').value.trim();

        if (!selectedRating) {
          showAlert('Please select a star rating.', 'error');
          return;
        }

        // Create review object
        const review = {
          id: Date.now().toString(),
          name: reviewerName,
          businessType: businessType || 'Customer',
          service: serviceUsed,
          rating: selectedRating,
          text: reviewText,
          date: new Date().toISOString(),
          approved: false // Reviews start as unapproved
        };

        // Save review to localStorage
        saveReview(review);

        // Reset form
        document.getElementById('reviewForm').reset();
        selectedRating = 0;
        updateStarDisplay();
        document.getElementById('charCount').textContent = '0';

        // Reload reviews display
        loadReviews();

        showAlert('Thank you for your review! It will be displayed after approval.', 'success');
      }

      function saveReview(review) {
        const reviews = JSON.parse(localStorage.getItem('visualVibeReviews') || '[]');
        reviews.unshift(review); // Add to beginning of array
        localStorage.setItem('visualVibeReviews', JSON.stringify(reviews));
      }

      function loadReviews() {
        let reviews = JSON.parse(localStorage.getItem('visualVibeReviews') || '[]');

        // Add sample reviews if none exist
        if (reviews.length === 0) {
          const sampleReviews = [
            {
              id: 'sample-1',
              name: 'Alex',
              businessType: 'Restaurant Owner',
              service: 'Business Website',
              rating: 5,
              text: 'Visual Vibe Studio created an amazing website for my restaurant! Online orders increased by 200% and customers love the design. Yoshiko was incredibly professional and delivered exactly what we needed.',
              date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 days ago
              approved: true
            },
            {
              id: 'sample-2',
              name: 'Maria',
              businessType: 'Tech Startup CEO',
              service: 'Logo Design',
              rating: 5,
              text: 'The logo design exceeded all expectations! It perfectly captures our innovative spirit and has helped significantly with brand recognition. Great value for the price.',
              date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(), // 3 days ago
              approved: true
            },
            {
              id: 'sample-3',
              name: 'James',
              businessType: 'Fitness Coach',
              service: 'Business Cards',
              rating: 5,
              text: 'Professional business cards that really make an impression! The design is clean, modern, and represents my brand perfectly. Highly recommend Visual Vibe Studio.',
              date: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString(), // 1 day ago
              approved: true
            }
          ];

          reviews = sampleReviews;
          localStorage.setItem('visualVibeReviews', JSON.stringify(reviews));
        }

        const approvedReviews = reviews.filter(review => review.approved);

        // For demo purposes, auto-approve reviews after 3 seconds
        // In a real app, you'd have an admin panel to approve reviews
        reviews.forEach(review => {
          if (!review.approved) {
            setTimeout(() => {
              review.approved = true;
              localStorage.setItem('visualVibeReviews', JSON.stringify(reviews));
              loadReviews();
            }, 3000);
          }
        });

        displayReviews(approvedReviews);
        updateReviewStats(approvedReviews);
      }

      function displayReviews(reviews) {
        try {
          console.log('Displaying', reviews.length, 'reviews');
          const container = document.getElementById('reviewsContainer');
          const noReviewsMessage = document.getElementById('noReviewsMessage');

          if (!container) {
            console.error('Reviews container not found');
            return;
          }

          if (reviews.length === 0) {
            console.log('No reviews to display, showing empty state');
            container.innerHTML = '';
            if (noReviewsMessage) {
              noReviewsMessage.classList.remove('hidden');
            }
            return;
          }

          if (noReviewsMessage) {
            noReviewsMessage.classList.add('hidden');
          }

          const reviewsHTML = reviews.map(review => `
            <div class="review-card">
              <div class="flex items-start justify-between mb-4">
                <div class="flex items-center space-x-3">
                  <div class="bg-gradient-to-br from-indigo-500 to-purple-600 w-10 h-10 rounded-full flex items-center justify-center">
                    <span class="text-white font-bold text-sm">${review.name.charAt(0).toUpperCase()}</span>
                  </div>
                  <div>
                    <h5 class="review-author">${escapeHtml(review.name)}</h5>
                    <p class="text-sm text-gray-500">${escapeHtml(review.businessType)}</p>
                  </div>
                </div>
                <div class="text-right">
                  <div class="review-stars">${'⭐'.repeat(review.rating)}</div>
                  <p class="text-xs text-gray-500 mt-1">${formatDate(review.date)}</p>
                </div>
              </div>

              <div class="mb-3">
                <span class="review-service">${escapeHtml(review.service)}</span>
              </div>

              <p class="review-text">"${escapeHtml(review.text)}"</p>
            </div>
          `).join('');

          container.innerHTML = reviewsHTML;
          console.log('Reviews displayed successfully');
        } catch (error) {
          console.error('Error displaying reviews:', error);
        }
      }

      function updateReviewStats(reviews) {
        const totalReviewsSpan = document.getElementById('totalReviews');

        // Add existing testimonials to count (3 from testimonials section)
        const totalCount = reviews.length + 3;
        totalReviewsSpan.textContent = totalCount;

        // Calculate average rating (including testimonials which are all 5 stars)
        if (reviews.length > 0) {
          const customerRatingSum = reviews.reduce((sum, review) => sum + review.rating, 0);
          const testimonialRatingSum = 15; // 3 testimonials × 5 stars each
          const totalRatingSum = customerRatingSum + testimonialRatingSum;
          const averageRating = (totalRatingSum / totalCount).toFixed(1);

          // Update the rating display if significantly different
          if (averageRating !== '5.0') {
            const ratingElement = document.querySelector('#reviews .text-lg.font-semibold');
            if (ratingElement) {
              ratingElement.textContent = `${averageRating}/5`;
            }
          }
        }
      }

      function formatDate(dateString) {
        const date = new Date(dateString);
        const now = new Date();
        const diffTime = Math.abs(now - date);
        const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

        if (diffDays === 1) {
          return 'Yesterday';
        } else if (diffDays < 7) {
          return `${diffDays} days ago`;
        } else if (diffDays < 30) {
          const weeks = Math.floor(diffDays / 7);
          return `${weeks} week${weeks > 1 ? 's' : ''} ago`;
        } else {
          return date.toLocaleDateString();
        }
      }

      // Advanced SMS Integration (Optional - requires Twilio setup)
      async function sendSMSViaTwilio(message) {
        // To enable this feature:
        // 1. Sign up for Twilio at https://www.twilio.com
        // 2. Get your Account SID and Auth Token
        // 3. Purchase a phone number
        // 4. Set up a server endpoint to handle SMS sending

        const twilioConfig = {
          // accountSid: 'your_account_sid_here',
          // authToken: 'your_auth_token_here',
          // fromNumber: 'your_twilio_phone_number',
          toNumber: '+14029797184' // Yoshiko's phone number
        };

        // This would require a server-side endpoint due to CORS and security
        // Example server endpoint: POST /api/send-sms
        /*
        const response = await fetch('/api/send-sms', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            to: twilioConfig.toNumber,
            message: message
          })
        });

        if (!response.ok) {
          throw new Error('Failed to send SMS');
        }

        return response.json();
        */

        // For now, we'll use the email-to-SMS gateway approach
        console.log('Twilio integration not configured, using email-to-SMS gateway');
        return Promise.resolve();
      }

      // Initialize chat input event listener
      document.addEventListener('DOMContentLoaded', function() {
        const chatInput = document.getElementById('chatInput');
        if (chatInput) {
          chatInput.addEventListener('input', function() {
            updateSendButton();
          });
        }

        // Initialize chat system
        initializeChatSystem();

        // Show notification after 10 seconds if user hasn't opened chat
        setTimeout(() => {
          if (!chatOpen && !hasUnreadMessages) {
            showChatNotification();
          }
        }, 10000);
      });

      // Order Form Handler
      if (document.getElementById("orderForm")) {
        document
          .getElementById("orderForm")
          .addEventListener("submit", function (e) {
            e.preventDefault();

            try {
              // Validate form
              const form = e.target;
              if (!form.checkValidity()) {
                form.reportValidity();
                return;
              }

              const submitBtn = form.querySelector('button[type="submit"]');
              if (submitBtn) {
                submitBtn.style.display = "none";
              }

              // Calculate pricing
              const pricing = calculateOrderTotal();

              // Validate pricing
              if (parseFloat(pricing.total) <= 0) {
                showAlert("Please select at least one service.", "error");
                if (submitBtn) submitBtn.style.display = "block";
                return;
              }

              // Get form data
              const formData = new FormData(form);
              const servicesSelect = form.querySelector(
                'select[name="services"]',
              );
              const selectedServices = servicesSelect
                ? Array.from(servicesSelect.selectedOptions).map(
                    (option) => option.text,
                  )
                : [];

              const orderData = {
                businessName: formData.get("businessName") || "N/A",
                industry: formData.get("industry") || "N/A",
                services: selectedServices,
                email: formData.get("email") || "",
                phone: formData.get("phone") || "N/A",
                dueDate: formData.get("dueDate") || "N/A",
              };

              // Save order to user account if signed in
              const orderNumber = saveOrderToAccount(orderData, pricing);

              // Show Venmo payment
              showVenmoPayment(pricing, orderData, orderNumber);
            } catch (error) {
              console.error("Error in order form submission:", error);
              showAlert(
                "An error occurred. Please try again or contact us directly.",
                "error",
              );
              const submitBtn = form.querySelector('button[type="submit"]');
              if (submitBtn) submitBtn.style.display = "block";
            }
          });
      }
    </script>
  </body>
</html>
