<!DOCTYPE html>
<html>
<head>
    <title>Debug Storage</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .storage-item { margin: 10px 0; padding: 10px; background: #f5f5f5; border-radius: 5px; }
        .clear-btn { background: #dc3545; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; }
        pre { background: #e9ecef; padding: 10px; border-radius: 5px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>localStorage Debug</h1>
    
    <button class="clear-btn" onclick="clearAllStorage()">Clear All Storage</button>
    <button onclick="location.reload()">Refresh</button>
    
    <div id="storage-content"></div>
    
    <script>
        function displayStorage() {
            const container = document.getElementById('storage-content');
            container.innerHTML = '';
            
            // Show all localStorage items
            for (let i = 0; i < localStorage.length; i++) {
                const key = localStorage.key(i);
                const value = localStorage.getItem(key);
                
                const div = document.createElement('div');
                div.className = 'storage-item';
                
                let displayValue = value;
                try {
                    const parsed = JSON.parse(value);
                    displayValue = JSON.stringify(parsed, null, 2);
                } catch(e) {
                    // Not JSON, display as is
                }
                
                div.innerHTML = `
                    <h3>${key}</h3>
                    <pre>${displayValue}</pre>
                    <button onclick="localStorage.removeItem('${key}'); location.reload()">Remove ${key}</button>
                `;
                container.appendChild(div);
            }
            
            if (localStorage.length === 0) {
                container.innerHTML = '<p>No items in localStorage</p>';
            }
        }
        
        function clearAllStorage() {
            if (confirm('Clear all localStorage? This cannot be undone.')) {
                localStorage.clear();
                location.reload();
            }
        }
        
        displayStorage();
    </script>
</body>
</html>
